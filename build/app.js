(()=>{var Kl=Object.defineProperty;var Ln=r=>{throw TypeError(r)};var Zl=(r,t,e)=>t in r?Kl(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var S=(r,t,e)=>Zl(r,typeof t!="symbol"?t+"":t,e),Jl=(r,t,e)=>t.has(r)||Ln("Cannot "+e);var Pn=(r,t,e)=>t.has(r)?Ln("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,e);var On=(r,t,e)=>(Jl(r,t,"access private method"),e);var Ur=class{constructor(){this.events={}}on(t,e){this.events[t]||(this.events[t]=[]),this.events[t].push(e)}off(t,e){this.events[t]&&(this.events[t]=this.events[t].filter(i=>i!==e))}emit(t,e){this.events[t]&&this.events[t].forEach(i=>i(e))}},Zt=class Zt{static createProxy(t){return new Proxy(t,{set:function(e,i,s,n){return Zt.emitter.emit(i,s),Reflect.set(e,i,s,n)}})}static on(t,e){this.emitter.on(t,e)}static off(t,e){this.emitter.off(t,e)}};S(Zt,"emitter",new Ur),S(Zt,"state",{}),S(Zt,"proxy",new Proxy(Zt.state,{set:function(t,e,i,s){return typeof i=="object"&&i!==null&&(i=Zt.createProxy(i)),Zt.emitter.emit(e,i),Reflect.set(t,e,i,s)}}));var we=Zt,th={get(r,t){return t in we?we[t].bind(we):r[t]},set(r,t,e,i){return Reflect.set(we.proxy,t,e,i)}},z=new Proxy(we.proxy,th);function Jt(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Un(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.__proto__=t}var Tt={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},$e={duration:.5,overwrite:!1,delay:0},os,ot,q,zt=1e8,U=1/zt,Wr=Math.PI*2,eh=Wr/4,ih=0,$n=Math.sqrt,rh=Math.cos,sh=Math.sin,rt=function(t){return typeof t=="string"},Q=function(t){return typeof t=="function"},ee=function(t){return typeof t=="number"},qi=function(t){return typeof t=="undefined"},Gt=function(t){return typeof t=="object"},At=function(t){return t!==!1},as=function(){return typeof window!="undefined"},Ri=function(t){return Q(t)||rt(t)},Hn=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ct=Array.isArray,Qr=/(?:-?\.?\d|\.)+/gi,ls=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Te=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,$r=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,hs=/[+-]=-?[.\d]+/,qn=/[^,'"\[\]\s]+/gi,nh=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,j,Ht,Kr,cs,Ft={},Bi={},Gn,Yn=function(t){return(Bi=He(t,Ft))&&ut},Gi=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},hi=function(t,e){return!e&&console.warn(t)},jn=function(t,e){return t&&(Ft[t]=e)&&Bi&&(Bi[t]=e)||Ft},ci=function(){return 0},oh={suppressEvents:!0,isStart:!0,kill:!1},Di={suppressEvents:!0,kill:!1},ah={suppressEvents:!0},us={},he=[],Zr={},Xn,bt={},Hr={},zn=30,Ii=[],fs="",ds=function(t){var e=t[0],i,s;if(Gt(e)||Q(e)||(t=[t]),!(i=(e._gsap||{}).harness)){for(s=Ii.length;s--&&!Ii[s].targetTest(e););i=Ii[s]}for(s=t.length;s--;)t[s]&&(t[s]._gsap||(t[s]._gsap=new gs(t[s],i)))||t.splice(s,1);return t},ce=function(t){return t._gsap||ds(Rt(t))[0]._gsap},ps=function(t,e,i){return(i=t[e])&&Q(i)?t[e]():qi(i)&&t.getAttribute&&t.getAttribute(e)||i},pt=function(t,e){return(t=t.split(",")).forEach(e)||t},K=function(t){return Math.round(t*1e5)/1e5||0},et=function(t){return Math.round(t*1e7)/1e7||0},Se=function(t,e){var i=e.charAt(0),s=parseFloat(e.substr(2));return t=parseFloat(t),i==="+"?t+s:i==="-"?t-s:i==="*"?t*s:t/s},lh=function(t,e){for(var i=e.length,s=0;t.indexOf(e[s])<0&&++s<i;);return s<i},Vi=function(){var t=he.length,e=he.slice(0),i,s;for(Zr={},he.length=0,i=0;i<t;i++)s=e[i],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},Wn=function(t,e,i,s){he.length&&!ot&&Vi(),t.render(e,i,s||ot&&e<0&&(t._initted||t._startAt)),he.length&&!ot&&Vi()},Qn=function(t){var e=parseFloat(t);return(e||e===0)&&(t+"").match(qn).length<2?e:rt(t)?t.trim():t},Kn=function(t){return t},Lt=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},hh=function(t){return function(e,i){for(var s in i)s in e||s==="duration"&&t||s==="ease"||(e[s]=i[s])}},He=function(t,e){for(var i in e)t[i]=e[i];return t},Rn=function r(t,e){for(var i in e)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(t[i]=Gt(e[i])?r(t[i]||(t[i]={}),e[i]):e[i]);return t},Ui=function(t,e){var i={},s;for(s in t)s in e||(i[s]=t[s]);return i},oi=function(t){var e=t.parent||j,i=t.keyframes?hh(ct(t.keyframes)):Lt;if(At(t.inherit))for(;e;)i(t,e.vars.defaults),e=e.parent||e._dp;return t},ch=function(t,e){for(var i=t.length,s=i===e.length;s&&i--&&t[i]===e[i];);return i<0},Zn=function(t,e,i,s,n){i===void 0&&(i="_first"),s===void 0&&(s="_last");var o=t[s],a;if(n)for(a=e[n];o&&o[n]>a;)o=o._prev;return o?(e._next=o._next,o._next=e):(e._next=t[i],t[i]=e),e._next?e._next._prev=e:t[s]=e,e._prev=o,e.parent=e._dp=t,e},Yi=function(t,e,i,s){i===void 0&&(i="_first"),s===void 0&&(s="_last");var n=e._prev,o=e._next;n?n._next=o:t[i]===e&&(t[i]=o),o?o._prev=n:t[s]===e&&(t[s]=n),e._next=e._prev=e.parent=null},ue=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},be=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var i=t;i;)i._dirty=1,i=i.parent;return t},uh=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},Jr=function(t,e,i,s){return t._startAt&&(ot?t._startAt.revert(Di):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,s))},fh=function r(t){return!t||t._ts&&r(t.parent)},Dn=function(t){return t._repeat?qe(t._tTime,t=t.duration()+t._rDelay)*t:0},qe=function(t,e){var i=Math.floor(t=et(t/e));return t&&i===t?i-1:i},$i=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},ji=function(t){return t._end=et(t._start+(t._tDur/Math.abs(t._ts||t._rts||U)||0))},Xi=function(t,e){var i=t._dp;return i&&i.smoothChildTiming&&t._ts&&(t._start=et(i._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),ji(t),i._dirty||be(i,t)),t},Jn=function(t,e){var i;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(i=$i(t.rawTime(),e),(!e._dur||di(0,e.totalDuration(),i)-e._tTime>U)&&e.render(i,!0)),be(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(i=t;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;t._zTime=-U}},qt=function(t,e,i,s){return e.parent&&ue(e),e._start=et((ee(i)?i:i||t!==j?Ot(t,i,e):t._time)+e._delay),e._end=et(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),Zn(t,e,"_first","_last",t._sort?"_start":0),ts(e)||(t._recent=e),s||Jn(t,e),t._ts<0&&Xi(t,t._tTime),t},to=function(t,e){return(Ft.ScrollTrigger||Gi("scrollTrigger",e))&&Ft.ScrollTrigger.create(e,t)},eo=function(t,e,i,s,n){if(ys(t,e,n),!t._initted)return 1;if(!i&&t._pt&&!ot&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&Xn!==Et.frame)return he.push(t),t._lazy=[n,s],1},dh=function r(t){var e=t.parent;return e&&e._ts&&e._initted&&!e._lock&&(e.rawTime()<0||r(e))},ts=function(t){var e=t.data;return e==="isFromStart"||e==="isStart"},ph=function(t,e,i,s){var n=t.ratio,o=e<0||!e&&(!t._start&&dh(t)&&!(!t._initted&&ts(t))||(t._ts<0||t._dp._ts<0)&&!ts(t))?0:1,a=t._rDelay,l=0,h,c,u;if(a&&t._repeat&&(l=di(0,t._tDur,e),c=qe(l,a),t._yoyo&&c&1&&(o=1-o),c!==qe(t._tTime,a)&&(n=1-o,t.vars.repeatRefresh&&t._initted&&t.invalidate())),o!==n||ot||s||t._zTime===U||!e&&t._zTime){if(!t._initted&&eo(t,e,s,i,l))return;for(u=t._zTime,t._zTime=e||(i?U:0),i||(i=e&&!u),t.ratio=o,t._from&&(o=1-o),t._time=0,t._tTime=l,h=t._pt;h;)h.r(o,h.d),h=h._next;e<0&&Jr(t,e,i,!0),t._onUpdate&&!i&&kt(t,"onUpdate"),l&&t._repeat&&!i&&t.parent&&kt(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===o&&(o&&ue(t,1),!i&&!ot&&(kt(t,o?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)},mh=function(t,e,i){var s;if(i>e)for(s=t._first;s&&s._start<=i;){if(s.data==="isPause"&&s._start>e)return s;s=s._next}else for(s=t._last;s&&s._start>=i;){if(s.data==="isPause"&&s._start<e)return s;s=s._prev}},Ge=function(t,e,i,s){var n=t._repeat,o=et(e)||0,a=t._tTime/t._tDur;return a&&!s&&(t._time*=o/t._dur),t._dur=o,t._tDur=n?n<0?1e10:et(o*(n+1)+t._rDelay*n):o,a>0&&!s&&Xi(t,t._tTime=t._tDur*a),t.parent&&ji(t),i||be(t.parent,t),t},In=function(t){return t instanceof nt?be(t):Ge(t,t._dur)},gh={_start:0,endTime:ci,totalDuration:ci},Ot=function r(t,e,i){var s=t.labels,n=t._recent||gh,o=t.duration()>=zt?n.endTime(!1):t._dur,a,l,h;return rt(e)&&(isNaN(e)||e in s)?(l=e.charAt(0),h=e.substr(-1)==="%",a=e.indexOf("="),l==="<"||l===">"?(a>=0&&(e=e.replace(/=/,"")),(l==="<"?n._start:n.endTime(n._repeat>=0))+(parseFloat(e.substr(1))||0)*(h?(a<0?n:i).totalDuration()/100:1)):a<0?(e in s||(s[e]=o),s[e]):(l=parseFloat(e.charAt(a-1)+e.substr(a+1)),h&&i&&(l=l/100*(ct(i)?i[0]:i).totalDuration()),a>1?r(t,e.substr(0,a-1),i)+l:o+l)):e==null?o:+e},ai=function(t,e,i){var s=ee(e[1]),n=(s?2:1)+(t<2?0:1),o=e[n],a,l;if(s&&(o.duration=e[1]),o.parent=i,t){for(a=o,l=i;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=At(l.vars.inherit)&&l.parent;o.immediateRender=At(a.immediateRender),t<2?o.runBackwards=1:o.startAt=e[n-1]}return new J(e[0],o,e[n+1])},fe=function(t,e){return t||t===0?e(t):e},di=function(t,e,i){return i<t?t:i>e?e:i},at=function(t,e){return!rt(t)||!(e=nh.exec(t))?"":e[1]},_h=function(t,e,i){return fe(i,function(s){return di(t,e,s)})},es=[].slice,io=function(t,e){return t&&Gt(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&Gt(t[0]))&&!t.nodeType&&t!==Ht},xh=function(t,e,i){return i===void 0&&(i=[]),t.forEach(function(s){var n;return rt(s)&&!e||io(s,1)?(n=i).push.apply(n,Rt(s)):i.push(s)})||i},Rt=function(t,e,i){return q&&!e&&q.selector?q.selector(t):rt(t)&&!i&&(Kr||!Ye())?es.call((e||cs).querySelectorAll(t),0):ct(t)?xh(t,i):io(t)?es.call(t,0):t?[t]:[]},is=function(t){return t=Rt(t)[0]||hi("Invalid scope")||{},function(e){var i=t.current||t.nativeElement||t;return Rt(e,i.querySelectorAll?i:i===t?hi("Invalid scope")||cs.createElement("div"):t)}},ro=function(t){return t.sort(function(){return .5-Math.random()})},so=function(t){if(Q(t))return t;var e=Gt(t)?t:{each:t},i=Ee(e.ease),s=e.from||0,n=parseFloat(e.base)||0,o={},a=s>0&&s<1,l=isNaN(s)||a,h=e.axis,c=s,u=s;return rt(s)?c=u={center:.5,edges:.5,end:1}[s]||0:!a&&l&&(c=s[0],u=s[1]),function(f,p,m){var d=(m||e).length,g=o[d],_,x,y,v,w,b,E,T,A;if(!g){if(A=e.grid==="auto"?0:(e.grid||[1,zt])[1],!A){for(E=-zt;E<(E=m[A++].getBoundingClientRect().left)&&A<d;);A<d&&A--}for(g=o[d]=[],_=l?Math.min(A,d)*c-.5:s%A,x=A===zt?0:l?d*u/A-.5:s/A|0,E=0,T=zt,b=0;b<d;b++)y=b%A-_,v=x-(b/A|0),g[b]=w=h?Math.abs(h==="y"?v:y):$n(y*y+v*v),w>E&&(E=w),w<T&&(T=w);s==="random"&&ro(g),g.max=E-T,g.min=T,g.v=d=(parseFloat(e.amount)||parseFloat(e.each)*(A>d?d-1:h?h==="y"?d/A:A:Math.max(A,d/A))||0)*(s==="edges"?-1:1),g.b=d<0?n-d:n,g.u=at(e.amount||e.each)||0,i=i&&d<0?po(i):i}return d=(g[f]-g.min)/g.max||0,et(g.b+(i?i(d):d)*g.v)+g.u}},rs=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(i){var s=et(Math.round(parseFloat(i)/t)*t*e);return(s-s%1)/e+(ee(i)?0:at(i))}},no=function(t,e){var i=ct(t),s,n;return!i&&Gt(t)&&(s=i=t.radius||zt,t.values?(t=Rt(t.values),(n=!ee(t[0]))&&(s*=s)):t=rs(t.increment)),fe(e,i?Q(t)?function(o){return n=t(o),Math.abs(n-o)<=s?n:o}:function(o){for(var a=parseFloat(n?o.x:o),l=parseFloat(n?o.y:0),h=zt,c=0,u=t.length,f,p;u--;)n?(f=t[u].x-a,p=t[u].y-l,f=f*f+p*p):f=Math.abs(t[u]-a),f<h&&(h=f,c=u);return c=!s||h<=s?t[c]:o,n||c===o||ee(o)?c:c+at(o)}:rs(t))},oo=function(t,e,i,s){return fe(ct(t)?!e:i===!0?!!(i=0):!s,function(){return ct(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(s=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((t-i/2+Math.random()*(e-t+i*.99))/i)*i*s)/s})},yh=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(s){return e.reduce(function(n,o){return o(n)},s)}},vh=function(t,e){return function(i){return t(parseFloat(i))+(e||at(i))}},wh=function(t,e,i){return lo(t,e,0,1,i)},ao=function(t,e,i){return fe(i,function(s){return t[~~e(s)]})},bh=function r(t,e,i){var s=e-t;return ct(t)?ao(t,r(0,t.length),e):fe(i,function(n){return(s+(n-t)%s)%s+t})},Eh=function r(t,e,i){var s=e-t,n=s*2;return ct(t)?ao(t,r(0,t.length-1),e):fe(i,function(o){return o=(n+(o-t)%n)%n||0,t+(o>s?n-o:o)})},je=function(t){for(var e=0,i="",s,n,o,a;~(s=t.indexOf("random(",e));)o=t.indexOf(")",s),a=t.charAt(s+7)==="[",n=t.substr(s+7,o-s-7).match(a?qn:Qr),i+=t.substr(e,s-e)+oo(a?n:+n[0],a?0:+n[1],+n[2]||1e-5),e=o+1;return i+t.substr(e,t.length-e)},lo=function(t,e,i,s,n){var o=e-t,a=s-i;return fe(n,function(l){return i+((l-t)/o*a||0)})},Ah=function r(t,e,i,s){var n=isNaN(t+e)?0:function(p){return(1-p)*t+p*e};if(!n){var o=rt(t),a={},l,h,c,u,f;if(i===!0&&(s=1)&&(i=null),o)t={p:t},e={p:e};else if(ct(t)&&!ct(e)){for(c=[],u=t.length,f=u-2,h=1;h<u;h++)c.push(r(t[h-1],t[h]));u--,n=function(m){m*=u;var d=Math.min(f,~~m);return c[d](m-d)},i=e}else s||(t=He(ct(t)?[]:{},t));if(!c){for(l in e)_s.call(a,t,l,"get",e[l]);n=function(m){return bs(m,a)||(o?t.p:t)}}}return fe(i,n)},Nn=function(t,e,i){var s=t.labels,n=zt,o,a,l;for(o in s)a=s[o]-e,a<0==!!i&&a&&n>(a=Math.abs(a))&&(l=o,n=a);return l},kt=function(t,e,i){var s=t.vars,n=s[e],o=q,a=t._ctx,l,h,c;if(n)return l=s[e+"Params"],h=s.callbackScope||t,i&&he.length&&Vi(),a&&(q=a),c=l?n.apply(h,l):n.call(h),q=o,c},si=function(t){return ue(t),t.scrollTrigger&&t.scrollTrigger.kill(!!ot),t.progress()<1&&kt(t,"onInterrupt"),t},Ue,ho=[],co=function(t){if(t)if(t=!t.name&&t.default||t,as()||t.headless){var e=t.name,i=Q(t),s=e&&!i&&t.init?function(){this._props=[]}:t,n={init:ci,render:bs,add:_s,kill:Vh,modifier:Bh,rawVars:0},o={targetTest:0,get:0,getSetter:Wi,aliases:{},register:0};if(Ye(),t!==s){if(bt[e])return;Lt(s,Lt(Ui(t,n),o)),He(s.prototype,He(n,Ui(t,o))),bt[s.prop=e]=s,t.targetTest&&(Ii.push(s),us[e]=1),e=(e==="css"?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}jn(e,s),t.register&&t.register(ut,s,mt)}else ho.push(t)},V=255,ni={aqua:[0,V,V],lime:[0,V,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,V],navy:[0,0,128],white:[V,V,V],olive:[128,128,0],yellow:[V,V,0],orange:[V,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[V,0,0],pink:[V,192,203],cyan:[0,V,V],transparent:[V,V,V,0]},qr=function(t,e,i){return t+=t<0?1:t>1?-1:0,(t*6<1?e+(i-e)*t*6:t<.5?i:t*3<2?e+(i-e)*(2/3-t)*6:e)*V+.5|0},uo=function(t,e,i){var s=t?ee(t)?[t>>16,t>>8&V,t&V]:0:ni.black,n,o,a,l,h,c,u,f,p,m;if(!s){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),ni[t])s=ni[t];else if(t.charAt(0)==="#"){if(t.length<6&&(n=t.charAt(1),o=t.charAt(2),a=t.charAt(3),t="#"+n+n+o+o+a+a+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return s=parseInt(t.substr(1,6),16),[s>>16,s>>8&V,s&V,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),s=[t>>16,t>>8&V,t&V]}else if(t.substr(0,3)==="hsl"){if(s=m=t.match(Qr),!e)l=+s[0]%360/360,h=+s[1]/100,c=+s[2]/100,o=c<=.5?c*(h+1):c+h-c*h,n=c*2-o,s.length>3&&(s[3]*=1),s[0]=qr(l+1/3,n,o),s[1]=qr(l,n,o),s[2]=qr(l-1/3,n,o);else if(~t.indexOf("="))return s=t.match(ls),i&&s.length<4&&(s[3]=1),s}else s=t.match(Qr)||ni.transparent;s=s.map(Number)}return e&&!m&&(n=s[0]/V,o=s[1]/V,a=s[2]/V,u=Math.max(n,o,a),f=Math.min(n,o,a),c=(u+f)/2,u===f?l=h=0:(p=u-f,h=c>.5?p/(2-u-f):p/(u+f),l=u===n?(o-a)/p+(o<a?6:0):u===o?(a-n)/p+2:(n-o)/p+4,l*=60),s[0]=~~(l+.5),s[1]=~~(h*100+.5),s[2]=~~(c*100+.5)),i&&s.length<4&&(s[3]=1),s},fo=function(t){var e=[],i=[],s=-1;return t.split(te).forEach(function(n){var o=n.match(Te)||[];e.push.apply(e,o),i.push(s+=o.length+1)}),e.c=i,e},Bn=function(t,e,i){var s="",n=(t+s).match(te),o=e?"hsla(":"rgba(",a=0,l,h,c,u;if(!n)return t;if(n=n.map(function(f){return(f=uo(f,e,1))&&o+(e?f[0]+","+f[1]+"%,"+f[2]+"%,"+f[3]:f.join(","))+")"}),i&&(c=fo(t),l=i.c,l.join(s)!==c.c.join(s)))for(h=t.replace(te,"1").split(Te),u=h.length-1;a<u;a++)s+=h[a]+(~l.indexOf(a)?n.shift()||o+"0,0,0,0)":(c.length?c:n.length?n:i).shift());if(!h)for(h=t.split(te),u=h.length-1;a<u;a++)s+=h[a]+n[a];return s+h[u]},te=function(){var r="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in ni)r+="|"+t+"\\b";return new RegExp(r+")","gi")}(),Th=/hsl[a]?\(/,ms=function(t){var e=t.join(" "),i;if(te.lastIndex=0,te.test(e))return i=Th.test(e),t[1]=Bn(t[1],i),t[0]=Bn(t[0],i,fo(t[1])),!0},ui,Et=function(){var r=Date.now,t=500,e=33,i=r(),s=i,n=1e3/240,o=n,a=[],l,h,c,u,f,p,m=function d(g){var _=r()-s,x=g===!0,y,v,w,b;if((_>t||_<0)&&(i+=_-e),s+=_,w=s-i,y=w-o,(y>0||x)&&(b=++u.frame,f=w-u.time*1e3,u.time=w=w/1e3,o+=y+(y>=n?4:n-y),v=1),x||(l=h(d)),v)for(p=0;p<a.length;p++)a[p](w,f,b,g)};return u={time:0,frame:0,tick:function(){m(!0)},deltaRatio:function(g){return f/(1e3/(g||60))},wake:function(){Gn&&(!Kr&&as()&&(Ht=Kr=window,cs=Ht.document||{},Ft.gsap=ut,(Ht.gsapVersions||(Ht.gsapVersions=[])).push(ut.version),Yn(Bi||Ht.GreenSockGlobals||!Ht.gsap&&Ht||{}),ho.forEach(co)),c=typeof requestAnimationFrame!="undefined"&&requestAnimationFrame,l&&u.sleep(),h=c||function(g){return setTimeout(g,o-u.time*1e3+1|0)},ui=1,m(2))},sleep:function(){(c?cancelAnimationFrame:clearTimeout)(l),ui=0,h=ci},lagSmoothing:function(g,_){t=g||1/0,e=Math.min(_||33,t)},fps:function(g){n=1e3/(g||240),o=u.time*1e3+n},add:function(g,_,x){var y=_?function(v,w,b,E){g(v,w,b,E),u.remove(y)}:g;return u.remove(g),a[x?"unshift":"push"](y),Ye(),y},remove:function(g,_){~(_=a.indexOf(g))&&a.splice(_,1)&&p>=_&&p--},_listeners:a},u}(),Ye=function(){return!ui&&Et.wake()},D={},Sh=/^[\d.\-M][\d.\-,\s]/,Mh=/["']/g,Ch=function(t){for(var e={},i=t.substr(1,t.length-3).split(":"),s=i[0],n=1,o=i.length,a,l,h;n<o;n++)l=i[n],a=n!==o-1?l.lastIndexOf(","):l.length,h=l.substr(0,a),e[s]=isNaN(h)?h.replace(Mh,"").trim():+h,s=l.substr(a+1).trim();return e},kh=function(t){var e=t.indexOf("(")+1,i=t.indexOf(")"),s=t.indexOf("(",e);return t.substring(e,~s&&s<i?t.indexOf(")",i+1):i)},Fh=function(t){var e=(t+"").split("("),i=D[e[0]];return i&&e.length>1&&i.config?i.config.apply(null,~t.indexOf("{")?[Ch(e[1])]:kh(t).split(",").map(Qn)):D._CE&&Sh.test(t)?D._CE("",t):i},po=function(t){return function(e){return 1-t(1-e)}},mo=function r(t,e){for(var i=t._first,s;i;)i instanceof nt?r(i,e):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==e&&(i.timeline?r(i.timeline,e):(s=i._ease,i._ease=i._yEase,i._yEase=s,i._yoyo=e)),i=i._next},Ee=function(t,e){return t&&(Q(t)?t:D[t]||Fh(t))||e},Me=function(t,e,i,s){i===void 0&&(i=function(l){return 1-e(1-l)}),s===void 0&&(s=function(l){return l<.5?e(l*2)/2:1-e((1-l)*2)/2});var n={easeIn:e,easeOut:i,easeInOut:s},o;return pt(t,function(a){D[a]=Ft[a]=n,D[o=a.toLowerCase()]=i;for(var l in n)D[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=D[a+"."+l]=n[l]}),n},go=function(t){return function(e){return e<.5?(1-t(1-e*2))/2:.5+t((e-.5)*2)/2}},Gr=function r(t,e,i){var s=e>=1?e:1,n=(i||(t?.3:.45))/(e<1?e:1),o=n/Wr*(Math.asin(1/s)||0),a=function(c){return c===1?1:s*Math.pow(2,-10*c)*sh((c-o)*n)+1},l=t==="out"?a:t==="in"?function(h){return 1-a(1-h)}:go(a);return n=Wr/n,l.config=function(h,c){return r(t,h,c)},l},Yr=function r(t,e){e===void 0&&(e=1.70158);var i=function(o){return o?--o*o*((e+1)*o+e)+1:0},s=t==="out"?i:t==="in"?function(n){return 1-i(1-n)}:go(i);return s.config=function(n){return r(t,n)},s};pt("Linear,Quad,Cubic,Quart,Quint,Strong",function(r,t){var e=t<5?t+1:t;Me(r+",Power"+(e-1),t?function(i){return Math.pow(i,e)}:function(i){return i},function(i){return 1-Math.pow(1-i,e)},function(i){return i<.5?Math.pow(i*2,e)/2:1-Math.pow((1-i)*2,e)/2})});D.Linear.easeNone=D.none=D.Linear.easeIn;Me("Elastic",Gr("in"),Gr("out"),Gr());(function(r,t){var e=1/t,i=2*e,s=2.5*e,n=function(a){return a<e?r*a*a:a<i?r*Math.pow(a-1.5/t,2)+.75:a<s?r*(a-=2.25/t)*a+.9375:r*Math.pow(a-2.625/t,2)+.984375};Me("Bounce",function(o){return 1-n(1-o)},n)})(7.5625,2.75);Me("Expo",function(r){return Math.pow(2,10*(r-1))*r+r*r*r*r*r*r*(1-r)});Me("Circ",function(r){return-($n(1-r*r)-1)});Me("Sine",function(r){return r===1?1:-rh(r*eh)+1});Me("Back",Yr("in"),Yr("out"),Yr());D.SteppedEase=D.steps=Ft.SteppedEase={config:function(t,e){t===void 0&&(t=1);var i=1/t,s=t+(e?0:1),n=e?1:0,o=1-U;return function(a){return((s*di(0,o,a)|0)+n)*i}}};$e.ease=D["quad.out"];pt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(r){return fs+=r+","+r+"Params,"});var gs=function(t,e){this.id=ih++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:ps,this.set=e?e.getSetter:Wi},fi=function(){function r(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,Ge(this,+e.duration,1,1),this.data=e.data,q&&(this._ctx=q,q.data.push(this)),ui||Et.wake()}var t=r.prototype;return t.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},t.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},t.totalDuration=function(i){return arguments.length?(this._dirty=0,Ge(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(i,s){if(Ye(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(Xi(this,i),!n._dp||n.parent||Jn(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&qt(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===U||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),Wn(this,i,s)),this},t.time=function(i,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+Dn(this))%(this._dur+this._rDelay)||(i?this._dur:0),s):this._time},t.totalProgress=function(i,s){return arguments.length?this.totalTime(this.totalDuration()*i,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},t.progress=function(i,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+Dn(this),s):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(i,s){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*n,s):this._repeat?qe(this._tTime,n)+1:1},t.timeScale=function(i,s){if(!arguments.length)return this._rts===-U?0:this._rts;if(this._rts===i)return this;var n=this.parent&&this._ts?$i(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-U?0:this._rts,this.totalTime(di(-Math.abs(this._delay),this._tDur,n),s!==!1),ji(this),uh(this)},t.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Ye(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==U&&(this._tTime-=U)))),this):this._ps},t.startTime=function(i){if(arguments.length){this._start=i;var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&qt(s,this,i-this._delay),this}return this._start},t.endTime=function(i){return this._start+(At(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(i){var s=this.parent||this._dp;return s?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?$i(s.rawTime(i),this):this._tTime:this._tTime},t.revert=function(i){i===void 0&&(i=ah);var s=ot;return ot=i,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),ot=s,this},t.globalTime=function(i){for(var s=this,n=arguments.length?i:s.rawTime();s;)n=s._start+n/(Math.abs(s._ts)||1),s=s._dp;return!this.parent&&this._sat?this._sat.globalTime(i):n},t.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,In(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(i){if(arguments.length){var s=this._time;return this._rDelay=i,In(this),s?this.time(s):this}return this._rDelay},t.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},t.seek=function(i,s){return this.totalTime(Ot(this,i),At(s))},t.restart=function(i,s){return this.play().totalTime(i?-this._delay:0,At(s)),this._dur||(this._zTime=-U),this},t.play=function(i,s){return i!=null&&this.seek(i,s),this.reversed(!1).paused(!1)},t.reverse=function(i,s){return i!=null&&this.seek(i||this.totalDuration(),s),this.reversed(!0).paused(!1)},t.pause=function(i,s){return i!=null&&this.seek(i,s),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-U:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-U,this},t.isActive=function(){var i=this.parent||this._dp,s=this._start,n;return!!(!i||this._ts&&this._initted&&i.isActive()&&(n=i.rawTime(!0))>=s&&n<this.endTime(!0)-U)},t.eventCallback=function(i,s,n){var o=this.vars;return arguments.length>1?(s?(o[i]=s,n&&(o[i+"Params"]=n),i==="onUpdate"&&(this._onUpdate=s)):delete o[i],this):o[i]},t.then=function(i){var s=this;return new Promise(function(n){var o=Q(i)?i:Kn,a=function(){var h=s.then;s.then=null,Q(o)&&(o=o(s))&&(o.then||o===s)&&(s.then=h),n(o),s.then=h};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?a():s._prom=a})},t.kill=function(){si(this)},r}();Lt(fi.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-U,_prom:0,_ps:!1,_rts:1});var nt=function(r){Un(t,r);function t(i,s){var n;return i===void 0&&(i={}),n=r.call(this,i)||this,n.labels={},n.smoothChildTiming=!!i.smoothChildTiming,n.autoRemoveChildren=!!i.autoRemoveChildren,n._sort=At(i.sortChildren),j&&qt(i.parent||j,Jt(n),s),i.reversed&&n.reverse(),i.paused&&n.paused(!0),i.scrollTrigger&&to(Jt(n),i.scrollTrigger),n}var e=t.prototype;return e.to=function(s,n,o){return ai(0,arguments,this),this},e.from=function(s,n,o){return ai(1,arguments,this),this},e.fromTo=function(s,n,o,a){return ai(2,arguments,this),this},e.set=function(s,n,o){return n.duration=0,n.parent=this,oi(n).repeatDelay||(n.repeat=0),n.immediateRender=!!n.immediateRender,new J(s,n,Ot(this,o),1),this},e.call=function(s,n,o){return qt(this,J.delayedCall(0,s,n),o)},e.staggerTo=function(s,n,o,a,l,h,c){return o.duration=n,o.stagger=o.stagger||a,o.onComplete=h,o.onCompleteParams=c,o.parent=this,new J(s,o,Ot(this,l)),this},e.staggerFrom=function(s,n,o,a,l,h,c){return o.runBackwards=1,oi(o).immediateRender=At(o.immediateRender),this.staggerTo(s,n,o,a,l,h,c)},e.staggerFromTo=function(s,n,o,a,l,h,c,u){return a.startAt=o,oi(a).immediateRender=At(a.immediateRender),this.staggerTo(s,n,a,l,h,c,u)},e.render=function(s,n,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,h=this._dur,c=s<=0?0:et(s),u=this._zTime<0!=s<0&&(this._initted||!h),f,p,m,d,g,_,x,y,v,w,b,E;if(this!==j&&c>l&&s>=0&&(c=l),c!==this._tTime||o||u){if(a!==this._time&&h&&(c+=this._time-a,s+=this._time-a),f=c,v=this._start,y=this._ts,_=!y,u&&(h||(a=this._zTime),(s||!n)&&(this._zTime=s)),this._repeat){if(b=this._yoyo,g=h+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(g*100+s,n,o);if(f=et(c%g),c===l?(d=this._repeat,f=h):(w=et(c/g),d=~~w,d&&d===w&&(f=h,d--),f>h&&(f=h)),w=qe(this._tTime,g),!a&&this._tTime&&w!==d&&this._tTime-w*g-this._dur<=0&&(w=d),b&&d&1&&(f=h-f,E=1),d!==w&&!this._lock){var T=b&&w&1,A=T===(b&&d&1);if(d<w&&(T=!T),a=T?0:c%h?h:c,this._lock=1,this.render(a||(E?0:et(d*g)),n,!h)._lock=0,this._tTime=c,!n&&this.parent&&kt(this,"onRepeat"),this.vars.repeatRefresh&&!E&&(this.invalidate()._lock=1),a&&a!==this._time||_!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(h=this._dur,l=this._tDur,A&&(this._lock=2,a=T?h:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!E&&this.invalidate()),this._lock=0,!this._ts&&!_)return this;mo(this,E)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(x=mh(this,et(a),et(f)),x&&(c-=f-(f=x._start))),this._tTime=c,this._time=f,this._act=!y,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,a=0),!a&&f&&!n&&!d&&(kt(this,"onStart"),this._tTime!==c))return this;if(f>=a&&s>=0)for(p=this._first;p;){if(m=p._next,(p._act||f>=p._start)&&p._ts&&x!==p){if(p.parent!==this)return this.render(s,n,o);if(p.render(p._ts>0?(f-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(f-p._start)*p._ts,n,o),f!==this._time||!this._ts&&!_){x=0,m&&(c+=this._zTime=-U);break}}p=m}else{p=this._last;for(var M=s<0?s:f;p;){if(m=p._prev,(p._act||M<=p._end)&&p._ts&&x!==p){if(p.parent!==this)return this.render(s,n,o);if(p.render(p._ts>0?(M-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(M-p._start)*p._ts,n,o||ot&&(p._initted||p._startAt)),f!==this._time||!this._ts&&!_){x=0,m&&(c+=this._zTime=M?-U:U);break}}p=m}}if(x&&!n&&(this.pause(),x.render(f>=a?0:-U)._zTime=f>=a?1:-1,this._ts))return this._start=v,ji(this),this.render(s,n,o);this._onUpdate&&!n&&kt(this,"onUpdate",!0),(c===l&&this._tTime>=this.totalDuration()||!c&&a)&&(v===this._start||Math.abs(y)!==Math.abs(this._ts))&&(this._lock||((s||!h)&&(c===l&&this._ts>0||!c&&this._ts<0)&&ue(this,1),!n&&!(s<0&&!a)&&(c||a||!l)&&(kt(this,c===l&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(c<l&&this.timeScale()>0)&&this._prom())))}return this},e.add=function(s,n){var o=this;if(ee(n)||(n=Ot(this,n,s)),!(s instanceof fi)){if(ct(s))return s.forEach(function(a){return o.add(a,n)}),this;if(rt(s))return this.addLabel(s,n);if(Q(s))s=J.delayedCall(0,s);else return this}return this!==s?qt(this,s,n):this},e.getChildren=function(s,n,o,a){s===void 0&&(s=!0),n===void 0&&(n=!0),o===void 0&&(o=!0),a===void 0&&(a=-zt);for(var l=[],h=this._first;h;)h._start>=a&&(h instanceof J?n&&l.push(h):(o&&l.push(h),s&&l.push.apply(l,h.getChildren(!0,n,o)))),h=h._next;return l},e.getById=function(s){for(var n=this.getChildren(1,1,1),o=n.length;o--;)if(n[o].vars.id===s)return n[o]},e.remove=function(s){return rt(s)?this.removeLabel(s):Q(s)?this.killTweensOf(s):(s.parent===this&&Yi(this,s),s===this._recent&&(this._recent=this._last),be(this))},e.totalTime=function(s,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=et(Et.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),r.prototype.totalTime.call(this,s,n),this._forcing=0,this):this._tTime},e.addLabel=function(s,n){return this.labels[s]=Ot(this,n),this},e.removeLabel=function(s){return delete this.labels[s],this},e.addPause=function(s,n,o){var a=J.delayedCall(0,n||ci,o);return a.data="isPause",this._hasPause=1,qt(this,a,Ot(this,s))},e.removePause=function(s){var n=this._first;for(s=Ot(this,s);n;)n._start===s&&n.data==="isPause"&&ue(n),n=n._next},e.killTweensOf=function(s,n,o){for(var a=this.getTweensOf(s,o),l=a.length;l--;)le!==a[l]&&a[l].kill(s,n);return this},e.getTweensOf=function(s,n){for(var o=[],a=Rt(s),l=this._first,h=ee(n),c;l;)l instanceof J?lh(l._targets,a)&&(h?(!le||l._initted&&l._ts)&&l.globalTime(0)<=n&&l.globalTime(l.totalDuration())>n:!n||l.isActive())&&o.push(l):(c=l.getTweensOf(a,n)).length&&o.push.apply(o,c),l=l._next;return o},e.tweenTo=function(s,n){n=n||{};var o=this,a=Ot(o,s),l=n,h=l.startAt,c=l.onStart,u=l.onStartParams,f=l.immediateRender,p,m=J.to(o,Lt({ease:n.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:n.duration||Math.abs((a-(h&&"time"in h?h.time:o._time))/o.timeScale())||U,onStart:function(){if(o.pause(),!p){var g=n.duration||Math.abs((a-(h&&"time"in h?h.time:o._time))/o.timeScale());m._dur!==g&&Ge(m,g,0,1).render(m._time,!0,!0),p=1}c&&c.apply(m,u||[])}},n));return f?m.render(0):m},e.tweenFromTo=function(s,n,o){return this.tweenTo(n,Lt({startAt:{time:Ot(this,s)}},o))},e.recent=function(){return this._recent},e.nextLabel=function(s){return s===void 0&&(s=this._time),Nn(this,Ot(this,s))},e.previousLabel=function(s){return s===void 0&&(s=this._time),Nn(this,Ot(this,s),1)},e.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+U)},e.shiftChildren=function(s,n,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,h;a;)a._start>=o&&(a._start+=s,a._end+=s),a=a._next;if(n)for(h in l)l[h]>=o&&(l[h]+=s);return be(this)},e.invalidate=function(s){var n=this._first;for(this._lock=0;n;)n.invalidate(s),n=n._next;return r.prototype.invalidate.call(this,s)},e.clear=function(s){s===void 0&&(s=!0);for(var n=this._first,o;n;)o=n._next,this.remove(n),n=o;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),be(this)},e.totalDuration=function(s){var n=0,o=this,a=o._last,l=zt,h,c,u;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-s:s));if(o._dirty){for(u=o.parent;a;)h=a._prev,a._dirty&&a.totalDuration(),c=a._start,c>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,qt(o,a,c-a._delay,1)._lock=0):l=c,c<0&&a._ts&&(n-=c,(!u&&!o._dp||u&&u.smoothChildTiming)&&(o._start+=c/o._ts,o._time-=c,o._tTime-=c),o.shiftChildren(-c,!1,-1/0),l=0),a._end>n&&a._ts&&(n=a._end),a=h;Ge(o,o===j&&o._time>n?o._time:n,1,1),o._dirty=0}return o._tDur},t.updateRoot=function(s){if(j._ts&&(Wn(j,$i(s,j)),Xn=Et.frame),Et.frame>=zn){zn+=Tt.autoSleep||120;var n=j._first;if((!n||!n._ts)&&Tt.autoSleep&&Et._listeners.length<2){for(;n&&!n._ts;)n=n._next;n||Et.sleep()}}},t}(fi);Lt(nt.prototype,{_lock:0,_hasPause:0,_forcing:0});var Lh=function(t,e,i,s,n,o,a){var l=new mt(this._pt,t,e,0,1,ws,null,n),h=0,c=0,u,f,p,m,d,g,_,x;for(l.b=i,l.e=s,i+="",s+="",(_=~s.indexOf("random("))&&(s=je(s)),o&&(x=[i,s],o(x,t,e),i=x[0],s=x[1]),f=i.match($r)||[];u=$r.exec(s);)m=u[0],d=s.substring(h,u.index),p?p=(p+1)%5:d.substr(-5)==="rgba("&&(p=1),m!==f[c++]&&(g=parseFloat(f[c-1])||0,l._pt={_next:l._pt,p:d||c===1?d:",",s:g,c:m.charAt(1)==="="?Se(g,m)-g:parseFloat(m)-g,m:p&&p<4?Math.round:0},h=$r.lastIndex);return l.c=h<s.length?s.substring(h,s.length):"",l.fp=a,(hs.test(s)||_)&&(l.e=0),this._pt=l,l},_s=function(t,e,i,s,n,o,a,l,h,c){Q(s)&&(s=s(n||0,t,o));var u=t[e],f=i!=="get"?i:Q(u)?h?t[e.indexOf("set")||!Q(t["get"+e.substr(3)])?e:"get"+e.substr(3)](h):t[e]():u,p=Q(u)?h?Dh:yo:vs,m;if(rt(s)&&(~s.indexOf("random(")&&(s=je(s)),s.charAt(1)==="="&&(m=Se(f,s)+(at(f)||0),(m||m===0)&&(s=m))),!c||f!==s||ss)return!isNaN(f*s)&&s!==""?(m=new mt(this._pt,t,e,+f||0,s-(f||0),typeof u=="boolean"?Nh:vo,0,p),h&&(m.fp=h),a&&m.modifier(a,this,t),this._pt=m):(!u&&!(e in t)&&Gi(e,s),Lh.call(this,t,e,f,s,p,l||Tt.stringFilter,h))},Ph=function(t,e,i,s,n){if(Q(t)&&(t=li(t,n,e,i,s)),!Gt(t)||t.style&&t.nodeType||ct(t)||Hn(t))return rt(t)?li(t,n,e,i,s):t;var o={},a;for(a in t)o[a]=li(t[a],n,e,i,s);return o},xs=function(t,e,i,s,n,o){var a,l,h,c;if(bt[t]&&(a=new bt[t]).init(n,a.rawVars?e[t]:Ph(e[t],s,n,o,i),i,s,o)!==!1&&(i._pt=l=new mt(i._pt,n,t,0,1,a.render,a,0,a.priority),i!==Ue))for(h=i._ptLookup[i._targets.indexOf(n)],c=a._props.length;c--;)h[a._props[c]]=l;return a},le,ss,ys=function r(t,e,i){var s=t.vars,n=s.ease,o=s.startAt,a=s.immediateRender,l=s.lazy,h=s.onUpdate,c=s.runBackwards,u=s.yoyoEase,f=s.keyframes,p=s.autoRevert,m=t._dur,d=t._startAt,g=t._targets,_=t.parent,x=_&&_.data==="nested"?_.vars.targets:g,y=t._overwrite==="auto"&&!os,v=t.timeline,w,b,E,T,A,M,C,F,L,k,R,N,B;if(v&&(!f||!n)&&(n="none"),t._ease=Ee(n,$e.ease),t._yEase=u?po(Ee(u===!0?n:u,$e.ease)):0,u&&t._yoyo&&!t._repeat&&(u=t._yEase,t._yEase=t._ease,t._ease=u),t._from=!v&&!!s.runBackwards,!v||f&&!s.stagger){if(F=g[0]?ce(g[0]).harness:0,N=F&&s[F.prop],w=Ui(s,us),d&&(d._zTime<0&&d.progress(1),e<0&&c&&a&&!p?d.render(-1,!0):d.revert(c&&m?Di:oh),d._lazy=0),o){if(ue(t._startAt=J.set(g,Lt({data:"isStart",overwrite:!1,parent:_,immediateRender:!0,lazy:!d&&At(l),startAt:null,delay:0,onUpdate:h&&function(){return kt(t,"onUpdate")},stagger:0},o))),t._startAt._dp=0,t._startAt._sat=t,e<0&&(ot||!a&&!p)&&t._startAt.revert(Di),a&&m&&e<=0&&i<=0){e&&(t._zTime=e);return}}else if(c&&m&&!d){if(e&&(a=!1),E=Lt({overwrite:!1,data:"isFromStart",lazy:a&&!d&&At(l),immediateRender:a,stagger:0,parent:_},w),N&&(E[F.prop]=N),ue(t._startAt=J.set(g,E)),t._startAt._dp=0,t._startAt._sat=t,e<0&&(ot?t._startAt.revert(Di):t._startAt.render(-1,!0)),t._zTime=e,!a)r(t._startAt,U,U);else if(!e)return}for(t._pt=t._ptCache=0,l=m&&At(l)||l&&!m,b=0;b<g.length;b++){if(A=g[b],C=A._gsap||ds(g)[b]._gsap,t._ptLookup[b]=k={},Zr[C.id]&&he.length&&Vi(),R=x===g?b:x.indexOf(A),F&&(L=new F).init(A,N||w,t,R,x)!==!1&&(t._pt=T=new mt(t._pt,A,L.name,0,1,L.render,L,0,L.priority),L._props.forEach(function(Z){k[Z]=T}),L.priority&&(M=1)),!F||N)for(E in w)bt[E]&&(L=xs(E,w,t,R,A,x))?L.priority&&(M=1):k[E]=T=_s.call(t,A,E,"get",w[E],R,x,0,s.stringFilter);t._op&&t._op[b]&&t.kill(A,t._op[b]),y&&t._pt&&(le=t,j.killTweensOf(A,k,t.globalTime(e)),B=!t.parent,le=0),t._pt&&l&&(Zr[C.id]=1)}M&&Es(t),t._onInit&&t._onInit(t)}t._onUpdate=h,t._initted=(!t._op||t._pt)&&!B,f&&e<=0&&v.render(zt,!0,!0)},Oh=function(t,e,i,s,n,o,a,l){var h=(t._pt&&t._ptCache||(t._ptCache={}))[e],c,u,f,p;if(!h)for(h=t._ptCache[e]=[],f=t._ptLookup,p=t._targets.length;p--;){if(c=f[p][e],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==e&&c.fp!==e;)c=c._next;if(!c)return ss=1,t.vars[e]="+=0",ys(t,a),ss=0,l?hi(e+" not eligible for reset"):1;h.push(c)}for(p=h.length;p--;)u=h[p],c=u._pt||u,c.s=(s||s===0)&&!n?s:c.s+(s||0)+o*c.c,c.c=i-c.s,u.e&&(u.e=K(i)+at(u.e)),u.b&&(u.b=c.s+at(u.b))},zh=function(t,e){var i=t[0]?ce(t[0]).harness:0,s=i&&i.aliases,n,o,a,l;if(!s)return e;n=He({},e);for(o in s)if(o in n)for(l=s[o].split(","),a=l.length;a--;)n[l[a]]=n[o];return n},Rh=function(t,e,i,s){var n=e.ease||s||"power1.inOut",o,a;if(ct(e))a=i[t]||(i[t]=[]),e.forEach(function(l,h){return a.push({t:h/(e.length-1)*100,v:l,e:n})});else for(o in e)a=i[o]||(i[o]=[]),o==="ease"||a.push({t:parseFloat(t),v:e[o],e:n})},li=function(t,e,i,s,n){return Q(t)?t.call(e,i,s,n):rt(t)&&~t.indexOf("random(")?je(t):t},_o=fs+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",xo={};pt(_o+",id,stagger,delay,duration,paused,scrollTrigger",function(r){return xo[r]=1});var J=function(r){Un(t,r);function t(i,s,n,o){var a;typeof s=="number"&&(n.duration=s,s=n,n=null),a=r.call(this,o?s:oi(s))||this;var l=a.vars,h=l.duration,c=l.delay,u=l.immediateRender,f=l.stagger,p=l.overwrite,m=l.keyframes,d=l.defaults,g=l.scrollTrigger,_=l.yoyoEase,x=s.parent||j,y=(ct(i)||Hn(i)?ee(i[0]):"length"in s)?[i]:Rt(i),v,w,b,E,T,A,M,C;if(a._targets=y.length?ds(y):hi("GSAP target "+i+" not found. https://gsap.com",!Tt.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=p,m||f||Ri(h)||Ri(c)){if(s=a.vars,v=a.timeline=new nt({data:"nested",defaults:d||{},targets:x&&x.data==="nested"?x.vars.targets:y}),v.kill(),v.parent=v._dp=Jt(a),v._start=0,f||Ri(h)||Ri(c)){if(E=y.length,M=f&&so(f),Gt(f))for(T in f)~_o.indexOf(T)&&(C||(C={}),C[T]=f[T]);for(w=0;w<E;w++)b=Ui(s,xo),b.stagger=0,_&&(b.yoyoEase=_),C&&He(b,C),A=y[w],b.duration=+li(h,Jt(a),w,A,y),b.delay=(+li(c,Jt(a),w,A,y)||0)-a._delay,!f&&E===1&&b.delay&&(a._delay=c=b.delay,a._start+=c,b.delay=0),v.to(A,b,M?M(w,A,y):0),v._ease=D.none;v.duration()?h=c=0:a.timeline=0}else if(m){oi(Lt(v.vars.defaults,{ease:"none"})),v._ease=Ee(m.ease||s.ease||"none");var F=0,L,k,R;if(ct(m))m.forEach(function(N){return v.to(y,N,">")}),v.duration();else{b={};for(T in m)T==="ease"||T==="easeEach"||Rh(T,m[T],b,m.easeEach);for(T in b)for(L=b[T].sort(function(N,B){return N.t-B.t}),F=0,w=0;w<L.length;w++)k=L[w],R={ease:k.e,duration:(k.t-(w?L[w-1].t:0))/100*h},R[T]=k.v,v.to(y,R,F),F+=R.duration;v.duration()<h&&v.to({},{duration:h-v.duration()})}}h||a.duration(h=v.duration())}else a.timeline=0;return p===!0&&!os&&(le=Jt(a),j.killTweensOf(y),le=0),qt(x,Jt(a),n),s.reversed&&a.reverse(),s.paused&&a.paused(!0),(u||!h&&!m&&a._start===et(x._time)&&At(u)&&fh(Jt(a))&&x.data!=="nested")&&(a._tTime=-U,a.render(Math.max(0,-c)||0)),g&&to(Jt(a),g),a}var e=t.prototype;return e.render=function(s,n,o){var a=this._time,l=this._tDur,h=this._dur,c=s<0,u=s>l-U&&!c?l:s<U?0:s,f,p,m,d,g,_,x,y,v;if(!h)ph(this,s,n,o);else if(u!==this._tTime||!s||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==c||this._lazy){if(f=u,y=this.timeline,this._repeat){if(d=h+this._rDelay,this._repeat<-1&&c)return this.totalTime(d*100+s,n,o);if(f=et(u%d),u===l?(m=this._repeat,f=h):(g=et(u/d),m=~~g,m&&m===g?(f=h,m--):f>h&&(f=h)),_=this._yoyo&&m&1,_&&(v=this._yEase,f=h-f),g=qe(this._tTime,d),f===a&&!o&&this._initted&&m===g)return this._tTime=u,this;m!==g&&(y&&this._yEase&&mo(y,_),this.vars.repeatRefresh&&!_&&!this._lock&&f!==d&&this._initted&&(this._lock=o=1,this.render(et(d*m),!0).invalidate()._lock=0))}if(!this._initted){if(eo(this,c?s:f,o,n,u))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&m!==g))return this;if(h!==this._dur)return this.render(s,n,o)}if(this._tTime=u,this._time=f,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=x=(v||this._ease)(f/h),this._from&&(this.ratio=x=1-x),f&&!a&&!n&&!m&&(kt(this,"onStart"),this._tTime!==u))return this;for(p=this._pt;p;)p.r(x,p.d),p=p._next;y&&y.render(s<0?s:y._dur*y._ease(f/this._dur),n,o)||this._startAt&&(this._zTime=s),this._onUpdate&&!n&&(c&&Jr(this,s,n,o),kt(this,"onUpdate")),this._repeat&&m!==g&&this.vars.onRepeat&&!n&&this.parent&&kt(this,"onRepeat"),(u===this._tDur||!u)&&this._tTime===u&&(c&&!this._onUpdate&&Jr(this,s,!0,!0),(s||!h)&&(u===this._tDur&&this._ts>0||!u&&this._ts<0)&&ue(this,1),!n&&!(c&&!a)&&(u||a||_)&&(kt(this,u===l?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom()))}return this},e.targets=function(){return this._targets},e.invalidate=function(s){return(!s||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(s),r.prototype.invalidate.call(this,s)},e.resetTo=function(s,n,o,a,l){ui||Et.wake(),this._ts||this.play();var h=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||ys(this,h),c=this._ease(h/this._dur),Oh(this,s,n,o,a,c,h,l)?this.resetTo(s,n,o,a,1):(Xi(this,0),this.parent||Zn(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},e.kill=function(s,n){if(n===void 0&&(n="all"),!s&&(!n||n==="all"))return this._lazy=this._pt=0,this.parent?si(this):this.scrollTrigger&&this.scrollTrigger.kill(!!ot),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(s,n,le&&le.vars.overwrite!==!0)._first||si(this),this.parent&&o!==this.timeline.totalDuration()&&Ge(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=s?Rt(s):a,h=this._ptLookup,c=this._pt,u,f,p,m,d,g,_;if((!n||n==="all")&&ch(a,l))return n==="all"&&(this._pt=0),si(this);for(u=this._op=this._op||[],n!=="all"&&(rt(n)&&(d={},pt(n,function(x){return d[x]=1}),n=d),n=zh(a,n)),_=a.length;_--;)if(~l.indexOf(a[_])){f=h[_],n==="all"?(u[_]=n,m=f,p={}):(p=u[_]=u[_]||{},m=n);for(d in m)g=f&&f[d],g&&((!("kill"in g.d)||g.d.kill(d)===!0)&&Yi(this,g,"_pt"),delete f[d]),p!=="all"&&(p[d]=1)}return this._initted&&!this._pt&&c&&si(this),this},t.to=function(s,n){return new t(s,n,arguments[2])},t.from=function(s,n){return ai(1,arguments)},t.delayedCall=function(s,n,o,a){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:n,onReverseComplete:n,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},t.fromTo=function(s,n,o){return ai(2,arguments)},t.set=function(s,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(s,n)},t.killTweensOf=function(s,n,o){return j.killTweensOf(s,n,o)},t}(fi);Lt(J.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});pt("staggerTo,staggerFrom,staggerFromTo",function(r){J[r]=function(){var t=new nt,e=es.call(arguments,0);return e.splice(r==="staggerFromTo"?5:4,0,0),t[r].apply(t,e)}});var vs=function(t,e,i){return t[e]=i},yo=function(t,e,i){return t[e](i)},Dh=function(t,e,i,s){return t[e](s.fp,i)},Ih=function(t,e,i){return t.setAttribute(e,i)},Wi=function(t,e){return Q(t[e])?yo:qi(t[e])&&t.setAttribute?Ih:vs},vo=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e6)/1e6,e)},Nh=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},ws=function(t,e){var i=e._pt,s="";if(!t&&e.b)s=e.b;else if(t===1&&e.e)s=e.e;else{for(;i;)s=i.p+(i.m?i.m(i.s+i.c*t):Math.round((i.s+i.c*t)*1e4)/1e4)+s,i=i._next;s+=e.c}e.set(e.t,e.p,s,e)},bs=function(t,e){for(var i=e._pt;i;)i.r(t,i.d),i=i._next},Bh=function(t,e,i,s){for(var n=this._pt,o;n;)o=n._next,n.p===s&&n.modifier(t,e,i),n=o},Vh=function(t){for(var e=this._pt,i,s;e;)s=e._next,e.p===t&&!e.op||e.op===t?Yi(this,e,"_pt"):e.dep||(i=1),e=s;return!i},Uh=function(t,e,i,s){s.mSet(t,e,s.m.call(s.tween,i,s.mt),s)},Es=function(t){for(var e=t._pt,i,s,n,o;e;){for(i=e._next,s=n;s&&s.pr>e.pr;)s=s._next;(e._prev=s?s._prev:o)?e._prev._next=e:n=e,(e._next=s)?s._prev=e:o=e,e=i}t._pt=n},mt=function(){function r(e,i,s,n,o,a,l,h,c){this.t=i,this.s=n,this.c=o,this.p=s,this.r=a||vo,this.d=l||this,this.set=h||vs,this.pr=c||0,this._next=e,e&&(e._prev=this)}var t=r.prototype;return t.modifier=function(i,s,n){this.mSet=this.mSet||this.set,this.set=Uh,this.m=i,this.mt=n,this.tween=s},r}();pt(fs+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(r){return us[r]=1});Ft.TweenMax=Ft.TweenLite=J;Ft.TimelineLite=Ft.TimelineMax=nt;j=new nt({sortChildren:!1,defaults:$e,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Tt.stringFilter=ms;var Ae=[],Ni={},$h=[],Vn=0,Hh=0,jr=function(t){return(Ni[t]||$h).map(function(e){return e()})},ns=function(){var t=Date.now(),e=[];t-Vn>2&&(jr("matchMediaInit"),Ae.forEach(function(i){var s=i.queries,n=i.conditions,o,a,l,h;for(a in s)o=Ht.matchMedia(s[a]).matches,o&&(l=1),o!==n[a]&&(n[a]=o,h=1);h&&(i.revert(),l&&e.push(i))}),jr("matchMediaRevert"),e.forEach(function(i){return i.onMatch(i,function(s){return i.add(null,s)})}),Vn=t,jr("matchMedia"))},wo=function(){function r(e,i){this.selector=i&&is(i),this.data=[],this._r=[],this.isReverted=!1,this.id=Hh++,e&&this.add(e)}var t=r.prototype;return t.add=function(i,s,n){Q(i)&&(n=s,s=i,i=Q);var o=this,a=function(){var h=q,c=o.selector,u;return h&&h!==o&&h.data.push(o),n&&(o.selector=is(n)),q=o,u=s.apply(o,arguments),Q(u)&&o._r.push(u),q=h,o.selector=c,o.isReverted=!1,u};return o.last=a,i===Q?a(o,function(l){return o.add(null,l)}):i?o[i]=a:a},t.ignore=function(i){var s=q;q=null,i(this),q=s},t.getTweens=function(){var i=[];return this.data.forEach(function(s){return s instanceof r?i.push.apply(i,s.getTweens()):s instanceof J&&!(s.parent&&s.parent.data==="nested")&&i.push(s)}),i},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(i,s){var n=this;if(i?function(){for(var a=n.getTweens(),l=n.data.length,h;l--;)h=n.data[l],h.data==="isFlip"&&(h.revert(),h.getChildren(!0,!0,!1).forEach(function(c){return a.splice(a.indexOf(c),1)}));for(a.map(function(c){return{g:c._dur||c._delay||c._sat&&!c._sat.vars.immediateRender?c.globalTime(0):-1/0,t:c}}).sort(function(c,u){return u.g-c.g||-1/0}).forEach(function(c){return c.t.revert(i)}),l=n.data.length;l--;)h=n.data[l],h instanceof nt?h.data!=="nested"&&(h.scrollTrigger&&h.scrollTrigger.revert(),h.kill()):!(h instanceof J)&&h.revert&&h.revert(i);n._r.forEach(function(c){return c(i,n)}),n.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),s)for(var o=Ae.length;o--;)Ae[o].id===this.id&&Ae.splice(o,1)},t.revert=function(i){this.kill(i||{})},r}(),qh=function(){function r(e){this.contexts=[],this.scope=e,q&&q.data.push(this)}var t=r.prototype;return t.add=function(i,s,n){Gt(i)||(i={matches:i});var o=new wo(0,n||this.scope),a=o.conditions={},l,h,c;q&&!o.selector&&(o.selector=q.selector),this.contexts.push(o),s=o.add("onMatch",s),o.queries=i;for(h in i)h==="all"?c=1:(l=Ht.matchMedia(i[h]),l&&(Ae.indexOf(o)<0&&Ae.push(o),(a[h]=l.matches)&&(c=1),l.addListener?l.addListener(ns):l.addEventListener("change",ns)));return c&&s(o,function(u){return o.add(null,u)}),this},t.revert=function(i){this.kill(i||{})},t.kill=function(i){this.contexts.forEach(function(s){return s.kill(i,!0)})},r}(),Hi={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.forEach(function(s){return co(s)})},timeline:function(t){return new nt(t)},getTweensOf:function(t,e){return j.getTweensOf(t,e)},getProperty:function(t,e,i,s){rt(t)&&(t=Rt(t)[0]);var n=ce(t||{}).get,o=i?Kn:Qn;return i==="native"&&(i=""),t&&(e?o((bt[e]&&bt[e].get||n)(t,e,i,s)):function(a,l,h){return o((bt[a]&&bt[a].get||n)(t,a,l,h))})},quickSetter:function(t,e,i){if(t=Rt(t),t.length>1){var s=t.map(function(c){return ut.quickSetter(c,e,i)}),n=s.length;return function(c){for(var u=n;u--;)s[u](c)}}t=t[0]||{};var o=bt[e],a=ce(t),l=a.harness&&(a.harness.aliases||{})[e]||e,h=o?function(c){var u=new o;Ue._pt=0,u.init(t,i?c+i:c,Ue,0,[t]),u.render(1,u),Ue._pt&&bs(1,Ue)}:a.set(t,l);return o?h:function(c){return h(t,l,i?c+i:c,a,1)}},quickTo:function(t,e,i){var s,n=ut.to(t,Lt((s={},s[e]="+=0.1",s.paused=!0,s.stagger=0,s),i||{})),o=function(l,h,c){return n.resetTo(e,l,h,c)};return o.tween=n,o},isTweening:function(t){return j.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Ee(t.ease,$e.ease)),Rn($e,t||{})},config:function(t){return Rn(Tt,t||{})},registerEffect:function(t){var e=t.name,i=t.effect,s=t.plugins,n=t.defaults,o=t.extendTimeline;(s||"").split(",").forEach(function(a){return a&&!bt[a]&&!Ft[a]&&hi(e+" effect requires "+a+" plugin.")}),Hr[e]=function(a,l,h){return i(Rt(a),Lt(l||{},n),h)},o&&(nt.prototype[e]=function(a,l,h){return this.add(Hr[e](a,Gt(l)?l:(h=l)&&{},this),h)})},registerEase:function(t,e){D[t]=Ee(e)},parseEase:function(t,e){return arguments.length?Ee(t,e):D},getById:function(t){return j.getById(t)},exportRoot:function(t,e){t===void 0&&(t={});var i=new nt(t),s,n;for(i.smoothChildTiming=At(t.smoothChildTiming),j.remove(i),i._dp=0,i._time=i._tTime=j._time,s=j._first;s;)n=s._next,(e||!(!s._dur&&s instanceof J&&s.vars.onComplete===s._targets[0]))&&qt(i,s,s._start-s._delay),s=n;return qt(j,i,0),i},context:function(t,e){return t?new wo(t,e):q},matchMedia:function(t){return new qh(t)},matchMediaRefresh:function(){return Ae.forEach(function(t){var e=t.conditions,i,s;for(s in e)e[s]&&(e[s]=!1,i=1);i&&t.revert()})||ns()},addEventListener:function(t,e){var i=Ni[t]||(Ni[t]=[]);~i.indexOf(e)||i.push(e)},removeEventListener:function(t,e){var i=Ni[t],s=i&&i.indexOf(e);s>=0&&i.splice(s,1)},utils:{wrap:bh,wrapYoyo:Eh,distribute:so,random:oo,snap:no,normalize:wh,getUnit:at,clamp:_h,splitColor:uo,toArray:Rt,selector:is,mapRange:lo,pipe:yh,unitize:vh,interpolate:Ah,shuffle:ro},install:Yn,effects:Hr,ticker:Et,updateRoot:nt.updateRoot,plugins:bt,globalTimeline:j,core:{PropTween:mt,globals:jn,Tween:J,Timeline:nt,Animation:fi,getCache:ce,_removeLinkedListItem:Yi,reverting:function(){return ot},context:function(t){return t&&q&&(q.data.push(t),t._ctx=q),q},suppressOverwrites:function(t){return os=t}}};pt("to,from,fromTo,delayedCall,set,killTweensOf",function(r){return Hi[r]=J[r]});Et.add(nt.updateRoot);Ue=Hi.to({},{duration:0});var Gh=function(t,e){for(var i=t._pt;i&&i.p!==e&&i.op!==e&&i.fp!==e;)i=i._next;return i},Yh=function(t,e){var i=t._targets,s,n,o;for(s in e)for(n=i.length;n--;)o=t._ptLookup[n][s],o&&(o=o.d)&&(o._pt&&(o=Gh(o,s)),o&&o.modifier&&o.modifier(e[s],t,i[n],s))},Xr=function(t,e){return{name:t,rawVars:1,init:function(s,n,o){o._onInit=function(a){var l,h;if(rt(n)&&(l={},pt(n,function(c){return l[c]=1}),n=l),e){l={};for(h in n)l[h]=e(n[h]);n=l}Yh(a,n)}}}},ut=Hi.registerPlugin({name:"attr",init:function(t,e,i,s,n){var o,a,l;this.tween=i;for(o in e)l=t.getAttribute(o)||"",a=this.add(t,"setAttribute",(l||0)+"",e[o],s,n,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(t,e){for(var i=e._pt;i;)ot?i.set(i.t,i.p,i.b,i):i.r(t,i.d),i=i._next}},{name:"endArray",init:function(t,e){for(var i=e.length;i--;)this.add(t,i,t[i]||0,e[i],0,0,0,0,0,1)}},Xr("roundProps",rs),Xr("modifiers"),Xr("snap",no))||Hi;J.version=nt.version=ut.version="3.12.7";Gn=1;as()&&Ye();var jh=D.Power0,Xh=D.Power1,Wh=D.Power2,Qh=D.Power3,Kh=D.Power4,Zh=D.Linear,Jh=D.Quad,tc=D.Cubic,ec=D.Quart,ic=D.Quint,rc=D.Strong,sc=D.Elastic,nc=D.Back,oc=D.SteppedEase,ac=D.Bounce,lc=D.Sine,hc=D.Expo,cc=D.Circ;var bo,de,We,ks,Le,uc,Eo,Fs,fc=function(){return typeof window!="undefined"},re={},Fe=180/Math.PI,Qe=Math.PI/180,Xe=Math.atan2,Ao=1e8,Ls=/([A-Z])/g,dc=/(left|right|width|margin|padding|x)/i,pc=/[\s,\(]\S/,Yt={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Ts=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},mc=function(t,e){return e.set(e.t,e.p,t===1?e.e:Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},gc=function(t,e){return e.set(e.t,e.p,t?Math.round((e.s+e.c*t)*1e4)/1e4+e.u:e.b,e)},_c=function(t,e){var i=e.s+e.c*t;e.set(e.t,e.p,~~(i+(i<0?-.5:.5))+e.u,e)},Po=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},Oo=function(t,e){return e.set(e.t,e.p,t!==1?e.b:e.e,e)},xc=function(t,e,i){return t.style[e]=i},yc=function(t,e,i){return t.style.setProperty(e,i)},vc=function(t,e,i){return t._gsap[e]=i},wc=function(t,e,i){return t._gsap.scaleX=t._gsap.scaleY=i},bc=function(t,e,i,s,n){var o=t._gsap;o.scaleX=o.scaleY=i,o.renderTransform(n,o)},Ec=function(t,e,i,s,n){var o=t._gsap;o[e]=i,o.renderTransform(n,o)},X="transform",St=X+"Origin",Ac=function r(t,e){var i=this,s=this.target,n=s.style,o=s._gsap;if(t in re&&n){if(this.tfm=this.tfm||{},t!=="transform")t=Yt[t]||t,~t.indexOf(",")?t.split(",").forEach(function(a){return i.tfm[a]=ie(s,a)}):this.tfm[t]=o.x?o[t]:ie(s,t),t===St&&(this.tfm.zOrigin=o.zOrigin);else return Yt.transform.split(",").forEach(function(a){return r.call(i,a,e)});if(this.props.indexOf(X)>=0)return;o.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(St,e,"")),t=X}(n||e)&&this.props.push(t,e,n[t])},zo=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},Tc=function(){var t=this.props,e=this.target,i=e.style,s=e._gsap,n,o;for(n=0;n<t.length;n+=3)t[n+1]?t[n+1]===2?e[t[n]](t[n+2]):e[t[n]]=t[n+2]:t[n+2]?i[t[n]]=t[n+2]:i.removeProperty(t[n].substr(0,2)==="--"?t[n]:t[n].replace(Ls,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)s[o]=this.tfm[o];s.svg&&(s.renderTransform(),e.setAttribute("data-svg-origin",this.svgo||"")),n=Fs(),(!n||!n.isStart)&&!i[X]&&(zo(i),s.zOrigin&&i[St]&&(i[St]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},Ro=function(t,e){var i={target:t,props:[],revert:Tc,save:Ac};return t._gsap||ut.core.getCache(t),e&&t.style&&t.nodeType&&e.split(",").forEach(function(s){return i.save(s)}),i},Do,Ss=function(t,e){var i=de.createElementNS?de.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):de.createElement(t);return i&&i.style?i:de.createElement(t)},jt=function r(t,e,i){var s=getComputedStyle(t);return s[e]||s.getPropertyValue(e.replace(Ls,"-$1").toLowerCase())||s.getPropertyValue(e)||!i&&r(t,Ke(e)||e,1)||""},To="O,Moz,ms,Ms,Webkit".split(","),Ke=function(t,e,i){var s=e||Le,n=s.style,o=5;if(t in n&&!i)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);o--&&!(To[o]+t in n););return o<0?null:(o===3?"ms":o>=0?To[o]:"")+t},Ms=function(){fc()&&window.document&&(bo=window,de=bo.document,We=de.documentElement,Le=Ss("div")||{style:{}},uc=Ss("div"),X=Ke(X),St=X+"Origin",Le.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Do=!!Ke("perspective"),Fs=ut.core.reverting,ks=1)},So=function(t){var e=t.ownerSVGElement,i=Ss("svg",e&&e.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=t.cloneNode(!0),n;s.style.display="block",i.appendChild(s),We.appendChild(i);try{n=s.getBBox()}catch{}return i.removeChild(s),We.removeChild(i),n},Mo=function(t,e){for(var i=e.length;i--;)if(t.hasAttribute(e[i]))return t.getAttribute(e[i])},Io=function(t){var e,i;try{e=t.getBBox()}catch{e=So(t),i=1}return e&&(e.width||e.height)||i||(e=So(t)),e&&!e.width&&!e.x&&!e.y?{x:+Mo(t,["x","cx","x1"])||0,y:+Mo(t,["y","cy","y1"])||0,width:0,height:0}:e},No=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&Io(t))},Pe=function(t,e){if(e){var i=t.style,s;e in re&&e!==St&&(e=X),i.removeProperty?(s=e.substr(0,2),(s==="ms"||e.substr(0,6)==="webkit")&&(e="-"+e),i.removeProperty(s==="--"?e:e.replace(Ls,"-$1").toLowerCase())):i.removeAttribute(e)}},pe=function(t,e,i,s,n,o){var a=new mt(t._pt,e,i,0,1,o?Oo:Po);return t._pt=a,a.b=s,a.e=n,t._props.push(i),a},Co={deg:1,rad:1,turn:1},Sc={grid:1,flex:1},me=function r(t,e,i,s){var n=parseFloat(i)||0,o=(i+"").trim().substr((n+"").length)||"px",a=Le.style,l=dc.test(e),h=t.tagName.toLowerCase()==="svg",c=(h?"client":"offset")+(l?"Width":"Height"),u=100,f=s==="px",p=s==="%",m,d,g,_;if(s===o||!n||Co[s]||Co[o])return n;if(o!=="px"&&!f&&(n=r(t,e,i,"px")),_=t.getCTM&&No(t),(p||o==="%")&&(re[e]||~e.indexOf("adius")))return m=_?t.getBBox()[l?"width":"height"]:t[c],K(p?n/m*u:n/100*m);if(a[l?"width":"height"]=u+(f?o:s),d=s!=="rem"&&~e.indexOf("adius")||s==="em"&&t.appendChild&&!h?t:t.parentNode,_&&(d=(t.ownerSVGElement||{}).parentNode),(!d||d===de||!d.appendChild)&&(d=de.body),g=d._gsap,g&&p&&g.width&&l&&g.time===Et.time&&!g.uncache)return K(n/g.width*u);if(p&&(e==="height"||e==="width")){var x=t.style[e];t.style[e]=u+s,m=t[c],x?t.style[e]=x:Pe(t,e)}else(p||o==="%")&&!Sc[jt(d,"display")]&&(a.position=jt(t,"position")),d===t&&(a.position="static"),d.appendChild(Le),m=Le[c],d.removeChild(Le),a.position="absolute";return l&&p&&(g=ce(d),g.time=Et.time,g.width=d[c]),K(f?m*n/u:m&&n?u/m*n:0)},ie=function(t,e,i,s){var n;return ks||Ms(),e in Yt&&e!=="transform"&&(e=Yt[e],~e.indexOf(",")&&(e=e.split(",")[0])),re[e]&&e!=="transform"?(n=gi(t,s),n=e!=="transformOrigin"?n[e]:n.svg?n.origin:Ki(jt(t,St))+" "+n.zOrigin+"px"):(n=t.style[e],(!n||n==="auto"||s||~(n+"").indexOf("calc("))&&(n=Qi[e]&&Qi[e](t,e,i)||jt(t,e)||ps(t,e)||(e==="opacity"?1:0))),i&&!~(n+"").trim().indexOf(" ")?me(t,e,n,i)+i:n},Mc=function(t,e,i,s){if(!i||i==="none"){var n=Ke(e,t,1),o=n&&jt(t,n,1);o&&o!==i?(e=n,i=o):e==="borderColor"&&(i=jt(t,"borderTopColor"))}var a=new mt(this._pt,t.style,e,0,1,ws),l=0,h=0,c,u,f,p,m,d,g,_,x,y,v,w;if(a.b=i,a.e=s,i+="",s+="",s==="auto"&&(d=t.style[e],t.style[e]=s,s=jt(t,e)||s,d?t.style[e]=d:Pe(t,e)),c=[i,s],ms(c),i=c[0],s=c[1],f=i.match(Te)||[],w=s.match(Te)||[],w.length){for(;u=Te.exec(s);)g=u[0],x=s.substring(l,u.index),m?m=(m+1)%5:(x.substr(-5)==="rgba("||x.substr(-5)==="hsla(")&&(m=1),g!==(d=f[h++]||"")&&(p=parseFloat(d)||0,v=d.substr((p+"").length),g.charAt(1)==="="&&(g=Se(p,g)+v),_=parseFloat(g),y=g.substr((_+"").length),l=Te.lastIndex-y.length,y||(y=y||Tt.units[e]||v,l===s.length&&(s+=y,a.e+=y)),v!==y&&(p=me(t,e,d,y)||0),a._pt={_next:a._pt,p:x||h===1?x:",",s:p,c:_-p,m:m&&m<4||e==="zIndex"?Math.round:0});a.c=l<s.length?s.substring(l,s.length):""}else a.r=e==="display"&&s==="none"?Oo:Po;return hs.test(s)&&(a.e=0),this._pt=a,a},ko={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Cc=function(t){var e=t.split(" "),i=e[0],s=e[1]||"50%";return(i==="top"||i==="bottom"||s==="left"||s==="right")&&(t=i,i=s,s=t),e[0]=ko[i]||i,e[1]=ko[s]||s,e.join(" ")},kc=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var i=e.t,s=i.style,n=e.u,o=i._gsap,a,l,h;if(n==="all"||n===!0)s.cssText="",l=1;else for(n=n.split(","),h=n.length;--h>-1;)a=n[h],re[a]&&(l=1,a=a==="transformOrigin"?St:X),Pe(i,a);l&&(Pe(i,X),o&&(o.svg&&i.removeAttribute("transform"),s.scale=s.rotate=s.translate="none",gi(i,1),o.uncache=1,zo(s)))}},Qi={clearProps:function(t,e,i,s,n){if(n.data!=="isFromStart"){var o=t._pt=new mt(t._pt,e,i,0,0,kc);return o.u=s,o.pr=-10,o.tween=n,t._props.push(i),1}}},mi=[1,0,0,1,0,0],Bo={},Vo=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},Fo=function(t){var e=jt(t,X);return Vo(e)?mi:e.substr(7).match(ls).map(K)},Ps=function(t,e){var i=t._gsap||ce(t),s=t.style,n=Fo(t),o,a,l,h;return i.svg&&t.getAttribute("transform")?(l=t.transform.baseVal.consolidate().matrix,n=[l.a,l.b,l.c,l.d,l.e,l.f],n.join(",")==="1,0,0,1,0,0"?mi:n):(n===mi&&!t.offsetParent&&t!==We&&!i.svg&&(l=s.display,s.display="block",o=t.parentNode,(!o||!t.offsetParent&&!t.getBoundingClientRect().width)&&(h=1,a=t.nextElementSibling,We.appendChild(t)),n=Fo(t),l?s.display=l:Pe(t,"display"),h&&(a?o.insertBefore(t,a):o?o.appendChild(t):We.removeChild(t))),e&&n.length>6?[n[0],n[1],n[4],n[5],n[12],n[13]]:n)},Cs=function(t,e,i,s,n,o){var a=t._gsap,l=n||Ps(t,!0),h=a.xOrigin||0,c=a.yOrigin||0,u=a.xOffset||0,f=a.yOffset||0,p=l[0],m=l[1],d=l[2],g=l[3],_=l[4],x=l[5],y=e.split(" "),v=parseFloat(y[0])||0,w=parseFloat(y[1])||0,b,E,T,A;i?l!==mi&&(E=p*g-m*d)&&(T=v*(g/E)+w*(-d/E)+(d*x-g*_)/E,A=v*(-m/E)+w*(p/E)-(p*x-m*_)/E,v=T,w=A):(b=Io(t),v=b.x+(~y[0].indexOf("%")?v/100*b.width:v),w=b.y+(~(y[1]||y[0]).indexOf("%")?w/100*b.height:w)),s||s!==!1&&a.smooth?(_=v-h,x=w-c,a.xOffset=u+(_*p+x*d)-_,a.yOffset=f+(_*m+x*g)-x):a.xOffset=a.yOffset=0,a.xOrigin=v,a.yOrigin=w,a.smooth=!!s,a.origin=e,a.originIsAbsolute=!!i,t.style[St]="0px 0px",o&&(pe(o,a,"xOrigin",h,v),pe(o,a,"yOrigin",c,w),pe(o,a,"xOffset",u,a.xOffset),pe(o,a,"yOffset",f,a.yOffset)),t.setAttribute("data-svg-origin",v+" "+w)},gi=function(t,e){var i=t._gsap||new gs(t);if("x"in i&&!e&&!i.uncache)return i;var s=t.style,n=i.scaleX<0,o="px",a="deg",l=getComputedStyle(t),h=jt(t,St)||"0",c,u,f,p,m,d,g,_,x,y,v,w,b,E,T,A,M,C,F,L,k,R,N,B,Z,vt,It,ht,wt,Wt,it,Mt;return c=u=f=d=g=_=x=y=v=0,p=m=1,i.svg=!!(t.getCTM&&No(t)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(s[X]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[X]!=="none"?l[X]:"")),s.scale=s.rotate=s.translate="none"),E=Ps(t,i.svg),i.svg&&(i.uncache?(Z=t.getBBox(),h=i.xOrigin-Z.x+"px "+(i.yOrigin-Z.y)+"px",B=""):B=!e&&t.getAttribute("data-svg-origin"),Cs(t,B||h,!!B||i.originIsAbsolute,i.smooth!==!1,E)),w=i.xOrigin||0,b=i.yOrigin||0,E!==mi&&(C=E[0],F=E[1],L=E[2],k=E[3],c=R=E[4],u=N=E[5],E.length===6?(p=Math.sqrt(C*C+F*F),m=Math.sqrt(k*k+L*L),d=C||F?Xe(F,C)*Fe:0,x=L||k?Xe(L,k)*Fe+d:0,x&&(m*=Math.abs(Math.cos(x*Qe))),i.svg&&(c-=w-(w*C+b*L),u-=b-(w*F+b*k))):(Mt=E[6],Wt=E[7],It=E[8],ht=E[9],wt=E[10],it=E[11],c=E[12],u=E[13],f=E[14],T=Xe(Mt,wt),g=T*Fe,T&&(A=Math.cos(-T),M=Math.sin(-T),B=R*A+It*M,Z=N*A+ht*M,vt=Mt*A+wt*M,It=R*-M+It*A,ht=N*-M+ht*A,wt=Mt*-M+wt*A,it=Wt*-M+it*A,R=B,N=Z,Mt=vt),T=Xe(-L,wt),_=T*Fe,T&&(A=Math.cos(-T),M=Math.sin(-T),B=C*A-It*M,Z=F*A-ht*M,vt=L*A-wt*M,it=k*M+it*A,C=B,F=Z,L=vt),T=Xe(F,C),d=T*Fe,T&&(A=Math.cos(T),M=Math.sin(T),B=C*A+F*M,Z=R*A+N*M,F=F*A-C*M,N=N*A-R*M,C=B,R=Z),g&&Math.abs(g)+Math.abs(d)>359.9&&(g=d=0,_=180-_),p=K(Math.sqrt(C*C+F*F+L*L)),m=K(Math.sqrt(N*N+Mt*Mt)),T=Xe(R,N),x=Math.abs(T)>2e-4?T*Fe:0,v=it?1/(it<0?-it:it):0),i.svg&&(B=t.getAttribute("transform"),i.forceCSS=t.setAttribute("transform","")||!Vo(jt(t,X)),B&&t.setAttribute("transform",B))),Math.abs(x)>90&&Math.abs(x)<270&&(n?(p*=-1,x+=d<=0?180:-180,d+=d<=0?180:-180):(m*=-1,x+=x<=0?180:-180)),e=e||i.uncache,i.x=c-((i.xPercent=c&&(!e&&i.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-c)?-50:0)))?t.offsetWidth*i.xPercent/100:0)+o,i.y=u-((i.yPercent=u&&(!e&&i.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-u)?-50:0)))?t.offsetHeight*i.yPercent/100:0)+o,i.z=f+o,i.scaleX=K(p),i.scaleY=K(m),i.rotation=K(d)+a,i.rotationX=K(g)+a,i.rotationY=K(_)+a,i.skewX=x+a,i.skewY=y+a,i.transformPerspective=v+o,(i.zOrigin=parseFloat(h.split(" ")[2])||!e&&i.zOrigin||0)&&(s[St]=Ki(h)),i.xOffset=i.yOffset=0,i.force3D=Tt.force3D,i.renderTransform=i.svg?Lc:Do?Uo:Fc,i.uncache=0,i},Ki=function(t){return(t=t.split(" "))[0]+" "+t[1]},As=function(t,e,i){var s=at(e);return K(parseFloat(e)+parseFloat(me(t,"x",i+"px",s)))+s},Fc=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,Uo(t,e)},Ce="0deg",pi="0px",ke=") ",Uo=function(t,e){var i=e||this,s=i.xPercent,n=i.yPercent,o=i.x,a=i.y,l=i.z,h=i.rotation,c=i.rotationY,u=i.rotationX,f=i.skewX,p=i.skewY,m=i.scaleX,d=i.scaleY,g=i.transformPerspective,_=i.force3D,x=i.target,y=i.zOrigin,v="",w=_==="auto"&&t&&t!==1||_===!0;if(y&&(u!==Ce||c!==Ce)){var b=parseFloat(c)*Qe,E=Math.sin(b),T=Math.cos(b),A;b=parseFloat(u)*Qe,A=Math.cos(b),o=As(x,o,E*A*-y),a=As(x,a,-Math.sin(b)*-y),l=As(x,l,T*A*-y+y)}g!==pi&&(v+="perspective("+g+ke),(s||n)&&(v+="translate("+s+"%, "+n+"%) "),(w||o!==pi||a!==pi||l!==pi)&&(v+=l!==pi||w?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+ke),h!==Ce&&(v+="rotate("+h+ke),c!==Ce&&(v+="rotateY("+c+ke),u!==Ce&&(v+="rotateX("+u+ke),(f!==Ce||p!==Ce)&&(v+="skew("+f+", "+p+ke),(m!==1||d!==1)&&(v+="scale("+m+", "+d+ke),x.style[X]=v||"translate(0, 0)"},Lc=function(t,e){var i=e||this,s=i.xPercent,n=i.yPercent,o=i.x,a=i.y,l=i.rotation,h=i.skewX,c=i.skewY,u=i.scaleX,f=i.scaleY,p=i.target,m=i.xOrigin,d=i.yOrigin,g=i.xOffset,_=i.yOffset,x=i.forceCSS,y=parseFloat(o),v=parseFloat(a),w,b,E,T,A;l=parseFloat(l),h=parseFloat(h),c=parseFloat(c),c&&(c=parseFloat(c),h+=c,l+=c),l||h?(l*=Qe,h*=Qe,w=Math.cos(l)*u,b=Math.sin(l)*u,E=Math.sin(l-h)*-f,T=Math.cos(l-h)*f,h&&(c*=Qe,A=Math.tan(h-c),A=Math.sqrt(1+A*A),E*=A,T*=A,c&&(A=Math.tan(c),A=Math.sqrt(1+A*A),w*=A,b*=A)),w=K(w),b=K(b),E=K(E),T=K(T)):(w=u,T=f,b=E=0),(y&&!~(o+"").indexOf("px")||v&&!~(a+"").indexOf("px"))&&(y=me(p,"x",o,"px"),v=me(p,"y",a,"px")),(m||d||g||_)&&(y=K(y+m-(m*w+d*E)+g),v=K(v+d-(m*b+d*T)+_)),(s||n)&&(A=p.getBBox(),y=K(y+s/100*A.width),v=K(v+n/100*A.height)),A="matrix("+w+","+b+","+E+","+T+","+y+","+v+")",p.setAttribute("transform",A),x&&(p.style[X]=A)},Pc=function(t,e,i,s,n){var o=360,a=rt(n),l=parseFloat(n)*(a&&~n.indexOf("rad")?Fe:1),h=l-s,c=s+h+"deg",u,f;return a&&(u=n.split("_")[1],u==="short"&&(h%=o,h!==h%(o/2)&&(h+=h<0?o:-o)),u==="cw"&&h<0?h=(h+o*Ao)%o-~~(h/o)*o:u==="ccw"&&h>0&&(h=(h-o*Ao)%o-~~(h/o)*o)),t._pt=f=new mt(t._pt,e,i,s,h,mc),f.e=c,f.u="deg",t._props.push(i),f},Lo=function(t,e){for(var i in e)t[i]=e[i];return t},Oc=function(t,e,i){var s=Lo({},i._gsap),n="perspective,force3D,transformOrigin,svgOrigin",o=i.style,a,l,h,c,u,f,p,m;s.svg?(h=i.getAttribute("transform"),i.setAttribute("transform",""),o[X]=e,a=gi(i,1),Pe(i,X),i.setAttribute("transform",h)):(h=getComputedStyle(i)[X],o[X]=e,a=gi(i,1),o[X]=h);for(l in re)h=s[l],c=a[l],h!==c&&n.indexOf(l)<0&&(p=at(h),m=at(c),u=p!==m?me(i,l,h,m):parseFloat(h),f=parseFloat(c),t._pt=new mt(t._pt,a,l,u,f-u,Ts),t._pt.u=m||0,t._props.push(l));Lo(a,s)};pt("padding,margin,Width,Radius",function(r,t){var e="Top",i="Right",s="Bottom",n="Left",o=(t<3?[e,i,s,n]:[e+n,e+i,s+i,s+n]).map(function(a){return t<2?r+a:"border"+a+r});Qi[t>1?"border"+r:r]=function(a,l,h,c,u){var f,p;if(arguments.length<4)return f=o.map(function(m){return ie(a,m,h)}),p=f.join(" "),p.split(f[0]).length===5?f[0]:p;f=(c+"").split(" "),p={},o.forEach(function(m,d){return p[m]=f[d]=f[d]||f[(d-1)/2|0]}),a.init(l,p,u)}});var Os={name:"css",register:Ms,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,i,s,n){var o=this._props,a=t.style,l=i.vars.startAt,h,c,u,f,p,m,d,g,_,x,y,v,w,b,E,T;ks||Ms(),this.styles=this.styles||Ro(t),T=this.styles.props,this.tween=i;for(d in e)if(d!=="autoRound"&&(c=e[d],!(bt[d]&&xs(d,e,i,s,t,n)))){if(p=typeof c,m=Qi[d],p==="function"&&(c=c.call(i,s,t,n),p=typeof c),p==="string"&&~c.indexOf("random(")&&(c=je(c)),m)m(this,t,d,c,i)&&(E=1);else if(d.substr(0,2)==="--")h=(getComputedStyle(t).getPropertyValue(d)+"").trim(),c+="",te.lastIndex=0,te.test(h)||(g=at(h),_=at(c)),_?g!==_&&(h=me(t,d,h,_)+_):g&&(c+=g),this.add(a,"setProperty",h,c,s,n,0,0,d),o.push(d),T.push(d,0,a[d]);else if(p!=="undefined"){if(l&&d in l?(h=typeof l[d]=="function"?l[d].call(i,s,t,n):l[d],rt(h)&&~h.indexOf("random(")&&(h=je(h)),at(h+"")||h==="auto"||(h+=Tt.units[d]||at(ie(t,d))||""),(h+"").charAt(1)==="="&&(h=ie(t,d))):h=ie(t,d),f=parseFloat(h),x=p==="string"&&c.charAt(1)==="="&&c.substr(0,2),x&&(c=c.substr(2)),u=parseFloat(c),d in Yt&&(d==="autoAlpha"&&(f===1&&ie(t,"visibility")==="hidden"&&u&&(f=0),T.push("visibility",0,a.visibility),pe(this,a,"visibility",f?"inherit":"hidden",u?"inherit":"hidden",!u)),d!=="scale"&&d!=="transform"&&(d=Yt[d],~d.indexOf(",")&&(d=d.split(",")[0]))),y=d in re,y){if(this.styles.save(d),v||(w=t._gsap,w.renderTransform&&!e.parseTransform||gi(t,e.parseTransform),b=e.smoothOrigin!==!1&&w.smooth,v=this._pt=new mt(this._pt,a,X,0,1,w.renderTransform,w,0,-1),v.dep=1),d==="scale")this._pt=new mt(this._pt,w,"scaleY",w.scaleY,(x?Se(w.scaleY,x+u):u)-w.scaleY||0,Ts),this._pt.u=0,o.push("scaleY",d),d+="X";else if(d==="transformOrigin"){T.push(St,0,a[St]),c=Cc(c),w.svg?Cs(t,c,0,b,0,this):(_=parseFloat(c.split(" ")[2])||0,_!==w.zOrigin&&pe(this,w,"zOrigin",w.zOrigin,_),pe(this,a,d,Ki(h),Ki(c)));continue}else if(d==="svgOrigin"){Cs(t,c,1,b,0,this);continue}else if(d in Bo){Pc(this,w,d,f,x?Se(f,x+c):c);continue}else if(d==="smoothOrigin"){pe(this,w,"smooth",w.smooth,c);continue}else if(d==="force3D"){w[d]=c;continue}else if(d==="transform"){Oc(this,c,t);continue}}else d in a||(d=Ke(d)||d);if(y||(u||u===0)&&(f||f===0)&&!pc.test(c)&&d in a)g=(h+"").substr((f+"").length),u||(u=0),_=at(c)||(d in Tt.units?Tt.units[d]:g),g!==_&&(f=me(t,d,h,_)),this._pt=new mt(this._pt,y?w:a,d,f,(x?Se(f,x+u):u)-f,!y&&(_==="px"||d==="zIndex")&&e.autoRound!==!1?_c:Ts),this._pt.u=_||0,g!==_&&_!=="%"&&(this._pt.b=h,this._pt.r=gc);else if(d in a)Mc.call(this,t,d,h,x?x+c:c);else if(d in t)this.add(t,d,h||t[d],x?x+c:c,s,n);else if(d!=="parseTransform"){Gi(d,c);continue}y||(d in a?T.push(d,0,a[d]):typeof t[d]=="function"?T.push(d,2,t[d]()):T.push(d,1,h||t[d])),o.push(d)}}E&&Es(this)},render:function(t,e){if(e.tween._time||!Fs())for(var i=e._pt;i;)i.r(t,i.d),i=i._next;else e.styles.revert()},get:ie,aliases:Yt,getSetter:function(t,e,i){var s=Yt[e];return s&&s.indexOf(",")<0&&(e=s),e in re&&e!==St&&(t._gsap.x||ie(t,"x"))?i&&Eo===i?e==="scale"?wc:vc:(Eo=i||{})&&(e==="scale"?bc:Ec):t.style&&!qi(t.style[e])?xc:~e.indexOf("-")?yc:Wi(t,e)},core:{_removeProperty:Pe,_getMatrix:Ps}};ut.utils.checkPrefix=Ke;ut.core.getStyleSaver=Ro;(function(r,t,e,i){var s=pt(r+","+t+","+e,function(n){re[n]=1});pt(t,function(n){Tt.units[n]="deg",Bo[n]=1}),Yt[s[13]]=r+","+t,pt(i,function(n){var o=n.split(":");Yt[o[1]]=s[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");pt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(r){Tt.units[r]="px"});ut.registerPlugin(Os);var Zi=ut.registerPlugin(Os)||ut,Rf=Zi.core.Tween;var Nt={page:{duration:1.2,ease:"expo.out"},load:{duration:.6,ease:"linear",delay:.5}},zc={duration:1,ease:"expo.out"};Zi.defaults(zc);var gt=Zi;var ge=class{constructor(t,{config:e,addClass:i,cb:s}={}){this.element=t,this.config={root:null,margin:"10px",threshold:0,autoStart:!1,...e},s&&(this.cb=s),i!==void 0&&(this.addClass=i),this.init(),this.config.autoStart&&this.start()}init(){this.in=new IntersectionObserver(t=>{t.forEach(e=>{e.isIntersecting&&this.isIn()})},{root:this.config.root,rootMargin:this.config.margin,threshold:this.config.threshold}),this.out=new IntersectionObserver(t=>{t.forEach(e=>{e.isIntersecting||this.isOut()})},{root:this.config.root,rootMargin:"0px",threshold:0})}start(){this.in.observe(this.element),this.out.observe(this.element)}stop(){this.in.unobserve(this.element),this.out.unobserve(this.element)}isIn(){var t;(t=this.cb)!=null&&t.in&&this.cb.in(),this.addClass&&this.element.classList.add(this.addClass)}isOut(){var t;(t=this.cb)!=null&&t.out&&this.cb.out(),this.addClass&&this.element.classList.remove(this.addClass)}};var Ji=class{constructor(){S(this,"wrapper",document.querySelector("[data-nav='w']"));S(this,"links",[...document.querySelectorAll("[data-nav='link']")]);S(this,"anchor",[...document.querySelectorAll("[data-nav='anchor']")]);S(this,"anchorTarget",document.querySelector("[data-s='news']"));S(this,"logolink",document.querySelector("[data-nav='logo']"));S(this,"shouldScrollToAnchor",!1);S(this,"isTop",!0);S(this,"onScroll",t=>{t.progress<.01?this.isTop||(this.isTop=!0,this.wrapper.classList.remove("scrolled")):this.isTop&&(this.isTop=!1,this.wrapper.classList.add("scrolled"))});this.input=this.wrapper.querySelector("input"),z.on("PAGE",t=>this.handleColor(t)),z.on("LOAD",t=>this.onLoad(t)),this.handleColor(z.PAGE),queueMicrotask(()=>{H.scroll.subscribe(this.onScroll),this.anchor.forEach(t=>{t.onclick=()=>this.handleAnchorClick()})})}onLoad(t){switch(t){case"screen":gt.to(this.wrapper,{autoAlpha:1,duration:Nt.load.duration,ease:Nt.load.ease,delay:Nt.load.delay});break;default:break}}handleAnchorClick(){z.PAGE==="home"?(this.input.checked=!1,H.scroll.scrollTo(this.anchorTarget,{offset:-50}),this.anchor.forEach(t=>{t.classList.add("w--current")})):(this.anchor[0].querySelector("a").click(),this.shouldScrollToAnchor=!0)}createNewsHomeObserver(){this.observe&&(this.observe.stop(),this.observe=null);let t=document.querySelector("[data-s='news']");t&&(this.observe=new ge(t,{config:{autoStart:!0},cb:{in:()=>{this.anchor.forEach(e=>{e.classList.add("w--current")}),this.links[0].classList.remove("w--current"),this.links[2].classList.remove("w--current")},out:()=>{this.anchor.forEach(e=>{e.classList.remove("w--current")}),this.links[0].classList.add("w--current"),this.links[2].classList.add("w--current")}}}))}handleColor(t){this.input.checked=!1,this.createNewsHomeObserver(),t==="home"?(this.links[0].href=this.links[0].href+"#top",this.links[2].href=this.links[2].href+"#top",this.logolink.href=this.logolink.href+"#top"):(this.links[0].href=this.links[0].href.replace("#top",""),this.links[2].href=this.links[2].href.replace("#top",""),this.logolink.href=this.logolink.href.replace("#top",""));let e=document.querySelector("[data-ftlink='anchor']"),i=document.querySelector("[data-nslink='anchor']");e.onclick=()=>this.handleAnchorClick(),i&&(i.onclick=()=>this.handleAnchorClick()),this.anchorTarget=document.querySelector("[data-s='news']"),this.shouldScrollToAnchor&&(setTimeout(()=>H.scroll.scrollTo(this.anchorTarget,{duration:2.2,offset:-50}),300),this.shouldScrollToAnchor=!1),t==="news"?this.anchor.forEach(s=>{s.classList.add("w--current")}):this.anchor.forEach(s=>{s.classList.remove("w--current")}),this.links.forEach(s=>{let n=new URL(s.href).pathname;n==="/"&&(n="/home"),n==="/"+t?s.classList.add("w--current"):s.classList.remove("w--current")}),t!=="home"?this.wrapper.classList.add("dark"):this.wrapper.classList.remove("dark")}};function Ds(r){return typeof r=="number"}function zs(r){return typeof r=="string"}function tr(r){return typeof r=="boolean"}function $o(r){return Object.prototype.toString.call(r)==="[object Object]"}function W(r){return Math.abs(r)}function Is(r){return Math.sign(r)}function xi(r,t){return W(r-t)}function Rc(r,t){if(r===0||t===0||W(r)<=W(t))return 0;let e=xi(W(r),W(t));return W(e/r)}function Dc(r){return Math.round(r*100)/100}function yi(r){return vi(r).map(Number)}function Bt(r){return r[bi(r)]}function bi(r){return Math.max(0,r.length-1)}function Ns(r,t){return t===bi(r)}function Ho(r,t=0){return Array.from(Array(r),(e,i)=>t+i)}function vi(r){return Object.keys(r)}function qo(r,t){return[r,t].reduce((e,i)=>(vi(i).forEach(s=>{let n=e[s],o=i[s],a=$o(n)&&$o(o);e[s]=a?qo(n,o):o}),e),{})}function Rs(r,t){return typeof t.MouseEvent!="undefined"&&r instanceof t.MouseEvent}function Ic(r,t){let e={start:i,center:s,end:n};function i(){return 0}function s(l){return n(l)/2}function n(l){return t-l}function o(l,h){return zs(r)?e[r](l):r(t,l,h)}return{measure:o}}function wi(){let r=[];function t(s,n,o,a={passive:!0}){let l;if("addEventListener"in s)s.addEventListener(n,o,a),l=()=>s.removeEventListener(n,o,a);else{let h=s;h.addListener(o),l=()=>h.removeListener(o)}return r.push(l),i}function e(){r=r.filter(s=>s())}let i={add:t,clear:e};return i}function Nc(r,t,e,i){let s=wi(),n=1e3/60,o=null,a=0,l=0;function h(){s.add(r,"visibilitychange",()=>{r.hidden&&m()})}function c(){p(),s.clear()}function u(g){if(!l)return;o||(o=g,e(),e());let _=g-o;for(o=g,a+=_;a>=n;)e(),a-=n;let x=a/n;i(x),l&&(l=t.requestAnimationFrame(u))}function f(){l||(l=t.requestAnimationFrame(u))}function p(){t.cancelAnimationFrame(l),o=null,a=0,l=0}function m(){o=null,a=0}return{init:h,destroy:c,start:f,stop:p,update:e,render:i}}function Bc(r,t){let e=t==="rtl",i=r==="y",s=i?"y":"x",n=i?"x":"y",o=!i&&e?-1:1,a=c(),l=u();function h(m){let{height:d,width:g}=m;return i?d:g}function c(){return i?"top":e?"right":"left"}function u(){return i?"bottom":e?"left":"right"}function f(m){return m*o}return{scroll:s,cross:n,startEdge:a,endEdge:l,measureSize:h,direction:f}}function Oe(r=0,t=0){let e=W(r-t);function i(h){return h<r}function s(h){return h>t}function n(h){return i(h)||s(h)}function o(h){return n(h)?i(h)?r:t:h}function a(h){return e?h-e*Math.ceil((h-t)/e):h}return{length:e,max:t,min:r,constrain:o,reachedAny:n,reachedMax:s,reachedMin:i,removeOffset:a}}function Go(r,t,e){let{constrain:i}=Oe(0,r),s=r+1,n=o(t);function o(f){return e?W((s+f)%s):i(f)}function a(){return n}function l(f){return n=o(f),u}function h(f){return c().set(a()+f)}function c(){return Go(r,a(),e)}let u={get:a,set:l,add:h,clone:c};return u}function Vc(r,t,e,i,s,n,o,a,l,h,c,u,f,p,m,d,g,_,x){let{cross:y,direction:v}=r,w=["INPUT","SELECT","TEXTAREA"],b={passive:!1},E=wi(),T=wi(),A=Oe(50,225).constrain(p.measure(20)),M={mouse:300,touch:400},C={mouse:500,touch:600},F=m?43:25,L=!1,k=0,R=0,N=!1,B=!1,Z=!1,vt=!1;function It(P){if(!x)return;function $(dt){(tr(x)||x(P,dt))&&ii(dt)}let tt=t;E.add(tt,"dragstart",dt=>dt.preventDefault(),b).add(tt,"touchmove",()=>{},b).add(tt,"touchend",()=>{}).add(tt,"touchstart",$).add(tt,"mousedown",$).add(tt,"touchcancel",ft).add(tt,"contextmenu",ft).add(tt,"click",Qt,!0)}function ht(){E.clear(),T.clear()}function wt(){let P=vt?e:t;T.add(P,"touchmove",Ct,b).add(P,"touchend",ft).add(P,"mousemove",Ct,b).add(P,"mouseup",ft)}function Wt(P){let $=P.nodeName||"";return w.includes($)}function it(){return(m?C:M)[vt?"mouse":"touch"]}function Mt(P,$){let tt=u.add(Is(P)*-1),dt=c.byDistance(P,!m).distance;return m||W(P)<A?dt:g&&$?dt*.5:c.byIndex(tt.get(),0).distance}function ii(P){let $=Rs(P,i);vt=$,Z=m&&$&&!P.buttons&&L,L=xi(s.get(),o.get())>=2,!($&&P.button!==0)&&(Wt(P.target)||(N=!0,n.pointerDown(P),h.useFriction(0).useDuration(0),s.set(o),wt(),k=n.readPoint(P),R=n.readPoint(P,y),f.emit("pointerDown")))}function Ct(P){if(!Rs(P,i)&&P.touches.length>=2)return ft(P);let tt=n.readPoint(P),dt=n.readPoint(P,y),$t=xi(tt,k),Kt=xi(dt,R);if(!B&&!vt&&(!P.cancelable||(B=$t>Kt,!B)))return ft(P);let ye=n.pointerMove(P);$t>d&&(Z=!0),h.useFriction(.3).useDuration(.75),a.start(),s.add(v(ye)),P.preventDefault()}function ft(P){let tt=c.byDistance(0,!1).index!==u.get(),dt=n.pointerUp(P)*it(),$t=Mt(v(dt),tt),Kt=Rc(dt,$t),ye=F-10*Kt,ae=_+Kt/50;B=!1,N=!1,T.clear(),h.useDuration(ye).useFriction(ae),l.distance($t,!m),vt=!1,f.emit("pointerUp")}function Qt(P){Z&&(P.stopPropagation(),P.preventDefault(),Z=!1)}function Pt(){return N}return{init:It,destroy:ht,pointerDown:Pt}}function Uc(r,t){let i,s;function n(u){return u.timeStamp}function o(u,f){let m=`client${(f||r.scroll)==="x"?"X":"Y"}`;return(Rs(u,t)?u:u.touches[0])[m]}function a(u){return i=u,s=u,o(u)}function l(u){let f=o(u)-o(s),p=n(u)-n(i)>170;return s=u,p&&(i=u),f}function h(u){if(!i||!s)return 0;let f=o(s)-o(i),p=n(u)-n(i),m=n(u)-n(s)>170,d=f/p;return p&&!m&&W(d)>.1?d:0}return{pointerDown:a,pointerMove:l,pointerUp:h,readPoint:o}}function $c(){function r(e){let{offsetTop:i,offsetLeft:s,offsetWidth:n,offsetHeight:o}=e;return{top:i,right:s+n,bottom:i+o,left:s,width:n,height:o}}return{measure:r}}function Hc(r){function t(i){return r*(i/100)}return{measure:t}}function qc(r,t,e,i,s,n,o){let a=[r].concat(i),l,h,c=[],u=!1;function f(g){return s.measureSize(o.measure(g))}function p(g){if(!n)return;h=f(r),c=i.map(f);function _(x){for(let y of x){if(u)return;let v=y.target===r,w=i.indexOf(y.target),b=v?h:c[w],E=f(v?r:i[w]);if(W(E-b)>=.5){g.reInit(),t.emit("resize");break}}}l=new ResizeObserver(x=>{(tr(n)||n(g,x))&&_(x)}),e.requestAnimationFrame(()=>{a.forEach(x=>l.observe(x))})}function m(){u=!0,l&&l.disconnect()}return{init:p,destroy:m}}function Gc(r,t,e,i,s,n){let o=0,a=0,l=s,h=n,c=r.get(),u=0;function f(){let b=i.get()-r.get(),E=!l,T=0;return E?(o=0,e.set(i),r.set(i),T=b):(e.set(r),o+=b/l,o*=h,c+=o,r.add(o),T=c-u),a=Is(T),u=c,w}function p(){let b=i.get()-t.get();return W(b)<.001}function m(){return l}function d(){return a}function g(){return o}function _(){return y(s)}function x(){return v(n)}function y(b){return l=b,w}function v(b){return h=b,w}let w={direction:d,duration:m,velocity:g,seek:f,settled:p,useBaseFriction:x,useBaseDuration:_,useFriction:v,useDuration:y};return w}function Yc(r,t,e,i,s){let n=s.measure(10),o=s.measure(50),a=Oe(.1,.99),l=!1;function h(){return!(l||!r.reachedAny(e.get())||!r.reachedAny(t.get()))}function c(p){if(!h())return;let m=r.reachedMin(t.get())?"min":"max",d=W(r[m]-t.get()),g=e.get()-t.get(),_=a.constrain(d/o);e.subtract(g*_),!p&&W(g)<n&&(e.set(r.constrain(e.get())),i.useDuration(25).useBaseFriction())}function u(p){l=!p}return{shouldConstrain:h,constrain:c,toggleActive:u}}function jc(r,t,e,i,s){let n=Oe(-t+r,0),o=u(),a=c(),l=f();function h(m,d){return xi(m,d)<=1}function c(){let m=o[0],d=Bt(o),g=o.lastIndexOf(m),_=o.indexOf(d)+1;return Oe(g,_)}function u(){return e.map((m,d)=>{let{min:g,max:_}=n,x=n.constrain(m),y=!d,v=Ns(e,d);return y?_:v||h(g,x)?g:h(_,x)?_:x}).map(m=>parseFloat(m.toFixed(3)))}function f(){if(t<=r+s)return[n.max];if(i==="keepSnaps")return o;let{min:m,max:d}=a;return o.slice(m,d)}return{snapsContained:l,scrollContainLimit:a}}function Xc(r,t,e){let i=t[0],s=e?i-r:Bt(t);return{limit:Oe(s,i)}}function Wc(r,t,e,i){let n=t.min+.1,o=t.max+.1,{reachedMin:a,reachedMax:l}=Oe(n,o);function h(f){return f===1?l(e.get()):f===-1?a(e.get()):!1}function c(f){if(!h(f))return;let p=r*(f*-1);i.forEach(m=>m.add(p))}return{loop:c}}function Qc(r){let{max:t,length:e}=r;function i(n){let o=n-t;return e?o/-e:0}return{get:i}}function Kc(r,t,e,i,s){let{startEdge:n,endEdge:o}=r,{groupSlides:a}=s,l=u().map(t.measure),h=f(),c=p();function u(){return a(i).map(d=>Bt(d)[o]-d[0][n]).map(W)}function f(){return i.map(d=>e[n]-d[n]).map(d=>-W(d))}function p(){return a(h).map(d=>d[0]).map((d,g)=>d+l[g])}return{snaps:h,snapsAligned:c}}function Zc(r,t,e,i,s,n){let{groupSlides:o}=s,{min:a,max:l}=i,h=c();function c(){let f=o(n),p=!r||t==="keepSnaps";return e.length===1?[n]:p?f:f.slice(a,l).map((m,d,g)=>{let _=!d,x=Ns(g,d);if(_){let y=Bt(g[0])+1;return Ho(y)}if(x){let y=bi(n)-Bt(g)[0]+1;return Ho(y,Bt(g)[0])}return m})}return{slideRegistry:h}}function Jc(r,t,e,i,s){let{reachedAny:n,removeOffset:o,constrain:a}=i;function l(m){return m.concat().sort((d,g)=>W(d)-W(g))[0]}function h(m){let d=r?o(m):a(m),g=t.map((x,y)=>({diff:c(x-d,0),index:y})).sort((x,y)=>W(x.diff)-W(y.diff)),{index:_}=g[0];return{index:_,distance:d}}function c(m,d){let g=[m,m+e,m-e];if(!r)return m;if(!d)return l(g);let _=g.filter(x=>Is(x)===d);return _.length?l(_):Bt(g)-e}function u(m,d){let g=t[m]-s.get(),_=c(g,d);return{index:m,distance:_}}function f(m,d){let g=s.get()+m,{index:_,distance:x}=h(g),y=!r&&n(g);if(!d||y)return{index:_,distance:m};let v=t[_]-x,w=m+c(v,0);return{index:_,distance:w}}return{byDistance:f,byIndex:u,shortcut:c}}function tu(r,t,e,i,s,n,o){function a(u){let f=u.distance,p=u.index!==t.get();n.add(f),f&&(i.duration()?r.start():(r.update(),r.render(1),r.update())),p&&(e.set(t.get()),t.set(u.index),o.emit("select"))}function l(u,f){let p=s.byDistance(u,f);a(p)}function h(u,f){let p=t.clone().set(u),m=s.byIndex(p.get(),f);a(m)}return{distance:l,index:h}}function eu(r,t,e,i,s,n,o,a){let l={passive:!0,capture:!0},h=0;function c(p){if(!a)return;function m(d){if(new Date().getTime()-h>10)return;o.emit("slideFocusStart"),r.scrollLeft=0;let x=e.findIndex(y=>y.includes(d));Ds(x)&&(s.useDuration(0),i.index(x,0),o.emit("slideFocus"))}n.add(document,"keydown",u,!1),t.forEach((d,g)=>{n.add(d,"focus",_=>{(tr(a)||a(p,_))&&m(g)},l)})}function u(p){p.code==="Tab"&&(h=new Date().getTime())}return{init:c}}function _i(r){let t=r;function e(){return t}function i(l){t=o(l)}function s(l){t+=o(l)}function n(l){t-=o(l)}function o(l){return Ds(l)?l:l.get()}return{get:e,set:i,add:s,subtract:n}}function Yo(r,t){let e=r.scroll==="x"?o:a,i=t.style,s=null,n=!1;function o(f){return`translate3d(${f}px,0px,0px)`}function a(f){return`translate3d(0px,${f}px,0px)`}function l(f){if(n)return;let p=Dc(r.direction(f));p!==s&&(i.transform=e(p),s=p)}function h(f){n=!f}function c(){n||(i.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:c,to:l,toggleActive:h}}function iu(r,t,e,i,s,n,o,a,l){let c=yi(s),u=yi(s).reverse(),f=_().concat(x());function p(E,T){return E.reduce((A,M)=>A-s[M],T)}function m(E,T){return E.reduce((A,M)=>p(A,T)>0?A.concat([M]):A,[])}function d(E){return n.map((T,A)=>({start:T-i[A]+.5+E,end:T+t-.5+E}))}function g(E,T,A){let M=d(T);return E.map(C=>{let F=A?0:-e,L=A?e:0,k=A?"end":"start",R=M[C][k];return{index:C,loopPoint:R,slideLocation:_i(-1),translate:Yo(r,l[C]),target:()=>a.get()>R?F:L}})}function _(){let E=o[0],T=m(u,E);return g(T,e,!1)}function x(){let E=t-o[0]-1,T=m(c,E);return g(T,-e,!0)}function y(){return f.every(({index:E})=>{let T=c.filter(A=>A!==E);return p(T,t)<=.1})}function v(){f.forEach(E=>{let{target:T,translate:A,slideLocation:M}=E,C=T();C!==M.get()&&(A.to(C),M.set(C))})}function w(){f.forEach(E=>E.translate.clear())}return{canLoop:y,clear:w,loop:v,loopPoints:f}}function ru(r,t,e){let i,s=!1;function n(l){if(!e)return;function h(c){for(let u of c)if(u.type==="childList"){l.reInit(),t.emit("slidesChanged");break}}i=new MutationObserver(c=>{s||(tr(e)||e(l,c))&&h(c)}),i.observe(r,{childList:!0})}function o(){i&&i.disconnect(),s=!0}return{init:n,destroy:o}}function su(r,t,e,i){let s={},n=null,o=null,a,l=!1;function h(){a=new IntersectionObserver(m=>{l||(m.forEach(d=>{let g=t.indexOf(d.target);s[g]=d}),n=null,o=null,e.emit("slidesInView"))},{root:r.parentElement,threshold:i}),t.forEach(m=>a.observe(m))}function c(){a&&a.disconnect(),l=!0}function u(m){return vi(s).reduce((d,g)=>{let _=parseInt(g),{isIntersecting:x}=s[_];return(m&&x||!m&&!x)&&d.push(_),d},[])}function f(m=!0){if(m&&n)return n;if(!m&&o)return o;let d=u(m);return m&&(n=d),m||(o=d),d}return{init:h,destroy:c,get:f}}function nu(r,t,e,i,s,n){let{measureSize:o,startEdge:a,endEdge:l}=r,h=e[0]&&s,c=m(),u=d(),f=e.map(o),p=g();function m(){if(!h)return 0;let x=e[0];return W(t[a]-x[a])}function d(){if(!h)return 0;let x=n.getComputedStyle(Bt(i));return parseFloat(x.getPropertyValue(`margin-${l}`))}function g(){return e.map((x,y,v)=>{let w=!y,b=Ns(v,y);return w?f[y]+c:b?f[y]+u:v[y+1][a]-x[a]}).map(W)}return{slideSizes:f,slideSizesWithGaps:p,startGap:c,endGap:u}}function ou(r,t,e,i,s,n,o,a,l){let{startEdge:h,endEdge:c,direction:u}=r,f=Ds(e);function p(_,x){return yi(_).filter(y=>y%x===0).map(y=>_.slice(y,y+x))}function m(_){return _.length?yi(_).reduce((x,y,v)=>{let w=Bt(x)||0,b=w===0,E=y===bi(_),T=s[h]-n[w][h],A=s[h]-n[y][c],M=!i&&b?u(o):0,C=!i&&E?u(a):0,F=W(A-C-(T+M));return v&&F>t+l&&x.push(y),E&&x.push(_.length),x},[]).map((x,y,v)=>{let w=Math.max(v[y-1]||0);return _.slice(w,x)}):[]}function d(_){return f?p(_,e):m(_)}return{groupSlides:d}}function au(r,t,e,i,s,n,o){let{align:a,axis:l,direction:h,startIndex:c,loop:u,duration:f,dragFree:p,dragThreshold:m,inViewThreshold:d,slidesToScroll:g,skipSnaps:_,containScroll:x,watchResize:y,watchSlides:v,watchDrag:w,watchFocus:b}=n,E=2,T=$c(),A=T.measure(t),M=e.map(T.measure),C=Bc(l,h),F=C.measureSize(A),L=Hc(F),k=Ic(a,F),R=!u&&!!x,N=u||!!x,{slideSizes:B,slideSizesWithGaps:Z,startGap:vt,endGap:It}=nu(C,A,M,e,N,s),ht=ou(C,F,g,u,A,M,vt,It,E),{snaps:wt,snapsAligned:Wt}=Kc(C,k,A,M,ht),it=-Bt(wt)+Bt(Z),{snapsContained:Mt,scrollContainLimit:ii}=jc(F,it,Wt,x,E),Ct=R?Mt:Wt,{limit:ft}=Xc(it,Ct,u),Qt=Go(bi(Ct),c,u),Pt=Qt.clone(),Y=yi(e),P=({dragHandler:Ve,scrollBody:Br,scrollBounds:Vr,options:{loop:zi}})=>{zi||Vr.constrain(Ve.pointerDown()),Br.seek()},$=({scrollBody:Ve,translate:Br,location:Vr,offsetLocation:zi,previousLocation:Hl,scrollLooper:ql,slideLooper:Gl,dragHandler:Yl,animation:jl,eventHandler:Sn,scrollBounds:Xl,options:{loop:Mn}},Cn)=>{let kn=Ve.settled(),Wl=!Xl.shouldConstrain(),Fn=Mn?kn:kn&&Wl;Fn&&!Yl.pointerDown()&&(jl.stop(),Sn.emit("settle")),Fn||Sn.emit("scroll");let Ql=Vr.get()*Cn+Hl.get()*(1-Cn);zi.set(Ql),Mn&&(ql.loop(Ve.direction()),Gl.loop()),Br.to(zi.get())},tt=Nc(i,s,()=>P(Nr),Ve=>$(Nr,Ve)),dt=.68,$t=Ct[Qt.get()],Kt=_i($t),ye=_i($t),ae=_i($t),ve=_i($t),ri=Gc(Kt,ae,ye,ve,f,dt),Dr=Jc(u,Ct,it,ft,ve),Ir=tu(tt,Qt,Pt,ri,Dr,ve,o),En=Qc(ft),An=wi(),Ul=su(t,e,o,d),{slideRegistry:Tn}=Zc(R,x,Ct,ii,ht,Y),$l=eu(r,e,Tn,Ir,ri,An,o,b),Nr={ownerDocument:i,ownerWindow:s,eventHandler:o,containerRect:A,slideRects:M,animation:tt,axis:C,dragHandler:Vc(C,r,i,s,ve,Uc(C,s),Kt,tt,Ir,ri,Dr,Qt,o,L,p,m,_,dt,w),eventStore:An,percentOfView:L,index:Qt,indexPrevious:Pt,limit:ft,location:Kt,offsetLocation:ae,previousLocation:ye,options:n,resizeHandler:qc(t,o,s,e,C,y,T),scrollBody:ri,scrollBounds:Yc(ft,ae,ve,ri,L),scrollLooper:Wc(it,ft,ae,[Kt,ae,ye,ve]),scrollProgress:En,scrollSnapList:Ct.map(En.get),scrollSnaps:Ct,scrollTarget:Dr,scrollTo:Ir,slideLooper:iu(C,F,it,B,Z,wt,Ct,ae,e),slideFocus:$l,slidesHandler:ru(t,o,v),slidesInView:Ul,slideIndexes:Y,slideRegistry:Tn,slidesToScroll:ht,target:ve,translate:Yo(C,t)};return Nr}function lu(){let r={},t;function e(h){t=h}function i(h){return r[h]||[]}function s(h){return i(h).forEach(c=>c(t,h)),l}function n(h,c){return r[h]=i(h).concat([c]),l}function o(h,c){return r[h]=i(h).filter(u=>u!==c),l}function a(){r={}}let l={init:e,emit:s,off:o,on:n,clear:a};return l}var hu={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function cu(r){function t(n,o){return qo(n,o||{})}function e(n){let o=n.breakpoints||{},a=vi(o).filter(l=>r.matchMedia(l).matches).map(l=>o[l]).reduce((l,h)=>t(l,h),{});return t(n,a)}function i(n){return n.map(o=>vi(o.breakpoints||{})).reduce((o,a)=>o.concat(a),[]).map(r.matchMedia)}return{mergeOptions:t,optionsAtMedia:e,optionsMediaQueries:i}}function uu(r){let t=[];function e(n,o){return t=o.filter(({options:a})=>r.optionsAtMedia(a).active!==!1),t.forEach(a=>a.init(n,r)),o.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function i(){t=t.filter(n=>n.destroy())}return{init:e,destroy:i}}function er(r,t,e){let i=r.ownerDocument,s=i.defaultView,n=cu(s),o=uu(n),a=wi(),l=lu(),{mergeOptions:h,optionsAtMedia:c,optionsMediaQueries:u}=n,{on:f,off:p,emit:m}=l,d=C,g=!1,_,x=h(hu,er.globalOptions),y=h(x),v=[],w,b,E;function T(){let{container:Y,slides:P}=y;b=(zs(Y)?r.querySelector(Y):Y)||r.children[0];let tt=zs(P)?b.querySelectorAll(P):P;E=[].slice.call(tt||b.children)}function A(Y){let P=au(r,b,E,i,s,Y,l);if(Y.loop&&!P.slideLooper.canLoop()){let $=Object.assign({},Y,{loop:!1});return A($)}return P}function M(Y,P){g||(x=h(x,Y),y=c(x),v=P||v,T(),_=A(y),u([x,...v.map(({options:$})=>$)]).forEach($=>a.add($,"change",C)),y.active&&(_.translate.to(_.location.get()),_.animation.init(),_.slidesInView.init(),_.slideFocus.init(Pt),_.eventHandler.init(Pt),_.resizeHandler.init(Pt),_.slidesHandler.init(Pt),_.options.loop&&_.slideLooper.loop(),b.offsetParent&&E.length&&_.dragHandler.init(Pt),w=o.init(Pt,v)))}function C(Y,P){let $=ht();F(),M(h({startIndex:$},Y),P),l.emit("reInit")}function F(){_.dragHandler.destroy(),_.eventStore.clear(),_.translate.clear(),_.slideLooper.clear(),_.resizeHandler.destroy(),_.slidesHandler.destroy(),_.slidesInView.destroy(),_.animation.destroy(),o.destroy(),a.clear()}function L(){g||(g=!0,a.clear(),F(),l.emit("destroy"),l.clear())}function k(Y,P,$){!y.active||g||(_.scrollBody.useBaseFriction().useDuration(P===!0?0:y.duration),_.scrollTo.index(Y,$||0))}function R(Y){let P=_.index.add(1).get();k(P,Y,-1)}function N(Y){let P=_.index.add(-1).get();k(P,Y,1)}function B(){return _.index.add(1).get()!==ht()}function Z(){return _.index.add(-1).get()!==ht()}function vt(){return _.scrollSnapList}function It(){return _.scrollProgress.get(_.location.get())}function ht(){return _.index.get()}function wt(){return _.indexPrevious.get()}function Wt(){return _.slidesInView.get()}function it(){return _.slidesInView.get(!1)}function Mt(){return w}function ii(){return _}function Ct(){return r}function ft(){return b}function Qt(){return E}let Pt={canScrollNext:B,canScrollPrev:Z,containerNode:ft,internalEngine:ii,destroy:L,off:p,on:f,emit:m,plugins:Mt,previousScrollSnap:wt,reInit:d,rootNode:Ct,scrollNext:R,scrollPrev:N,scrollProgress:It,scrollSnapList:vt,scrollTo:k,selectedScrollSnap:ht,slideNodes:Qt,slidesInView:Wt,slidesNotInView:it};return M(t,e),setTimeout(()=>l.emit("init"),0),Pt}er.globalOptions=void 0;var ir=class{constructor(t){S(this,"options",{loop:!0});S(this,"btns",[...document.querySelector("[data-embla='btns']").children]);this.el=t,this.api=er(this.el,this.options),this.checkEnabled(),this.btns.forEach((e,i)=>{e.onclick=()=>{i===0?this.api.scrollPrev():this.api.scrollNext()}})}checkEnabled(){this.api.canScrollNext()?this.btns[1].classList.remove("disabled"):this.btns[1].classList.add("disabled"),this.api.canScrollPrev()?this.btns[0].classList.remove("disabled"):this.btns[0].classList.add("disabled")}destroy(){this.btns.forEach(t=>t.onclick=null),this.api.destroy()}};var rr=class{constructor(t){S(this,"current",0);this.el=t,this.items=[...this.el.children],this.items.forEach((e,i)=>{e.querySelector("input").onchange=this.onChange.bind(this,i)}),this.items[0].querySelector("input").checked=!0}onChange(t,e){this.current!==null&&(this.items[this.current].querySelector("input").checked=!1),this.current=t}destroy(){this.items.forEach(t=>{t.querySelector("input").onchange=null})}};var sr=class{constructor(t){this.el=t,this.hovers=[...this.el.querySelectorAll("[data-partners='hover']")],this.imgs=[...this.el.querySelectorAll("[data-partners='img']")],this.imgs.forEach((e,i)=>{e.style.zIndex=-0}),this.hovers.forEach((e,i)=>{e.onmouseenter=()=>{this.imgs.forEach(s=>{s.style.zIndex=0}),this.imgs[i].style.zIndex=10},e.onmouseleave=()=>{this.imgs.forEach((s,n)=>{s.style.zIndex=0})}})}destroy(){this.hovers.forEach(t=>{t.onmouseenter=null})}};var nr=class{constructor(t){S(this,"handleClickOut",()=>{document.body.onclick=()=>{this.filters.forEach(t=>{t.classList.remove("active"),document.body.onclick=null})}});this.el=t,document.querySelectorAll("[data-url]").forEach((i,s)=>{i.href=i.href+i.dataset.url}),this.filters=[...this.el.querySelectorAll('[data-filter="locations"] , [data-filter="department"]')],this.filterData={locations:[],departments:[]},this.items=[...this.el.querySelectorAll("[data-filter='item']")].map((i,s)=>{let n=i.querySelector("[data-filter-location]").textContent,o=i.dataset.dept;return this.filterData.locations.includes(n)||this.filterData.locations.push(n),this.filterData.departments.includes(o)||o.length>0&&this.filterData.departments.push(o),{item:i,location:n,index:s}}),this.filterData.locations.forEach(i=>{let s=this.filters[0].children[1].children[0].cloneNode(!0);s.textContent=i,this.filters[0].children[1].appendChild(s),s.onclick=()=>this.filterItems("locations",i)}),this.filterData.departments.forEach(i=>{let s=this.filters[1].children[1].children[0].cloneNode(!0);s.textContent=i,this.filters[1].children[1].appendChild(s),s.onclick=()=>this.filterItems("departments",i)}),this.filters[0].children[1].children[0].onclick=()=>this.filterItems("locations","all"),this.filters[1].children[1].children[0].onclick=()=>this.filterItems("departments","all"),this.filters.forEach(i=>{i.onclick=s=>{s.stopPropagation(),i.classList.toggle("active"),this.handleClickOut()}})}filterItems(t,e){t==="locations"?(this.filters[1].children[0].children[0].textContent="ALL DEPARTMENTS",this.items.forEach(i=>{e==="all"?(i.item.style.display="flex",this.filters[0].children[0].children[0].textContent="ALL LOCATIONS"):(i.item.style.display=i.location===e?"flex":"none",this.filters[0].children[0].children[0].textContent=e)})):(this.filters[0].children[0].children[0].textContent="ALL LOCATIONS",this.items.forEach(i=>{e==="all"?(i.item.style.display="flex",this.filters[1].children[0].children[0].textContent="ALL DEPARTMENTS"):(i.item.style.display=i.item.dataset.dept===e?"flex":"none",this.filters[1].children[0].children[0].textContent=e)}))}destroy(){this.filterData.forEach(t=>{t.onclick=null}),this.filters.forEach(t=>{t.onclick=null})}};var or=class{constructor(t){S(this,"field",document.querySelector('[data-newsletter="field"]'));S(this,"init",()=>{this.field&&(this.field.onchange=null);let t=document.querySelector('[data-newsletter="field"]'),e=document.querySelector('[data-newsletter="subscribe"]'),i=document.querySelector('[data-error="msg"]');t&&(t.oninput=()=>{this.receiver[0].value=t.value}),e&&(e.onclick=s=>{s.preventDefault(),this.checkValidEmail()?(this.receiver[1].click(),this.handleSuccess(e)):(i.style.display="block",setTimeout(()=>{i.style.display="none"},3e3))},this.el.onsubmit=s=>{s.preventDefault(),this.checkValidEmail()?(this.receiver[1].click(),this.handleSuccess(e)):(i.style.display="block",setTimeout(()=>{i.style.display="none"},3e3))})});S(this,"checkValidEmail",()=>{let t=this.receiver[0].value;return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)});this.el=t,this.receiver=[...this.el.querySelectorAll("input")],z.on("PAGE",()=>this.init()),this.init()}handleSuccess(t){let e=t.parentElement.parentElement;e.style.display="none",e.nextElementSibling.style.display="block"}};var ar=class{constructor(){S(this,"wrapper",document.body);z.on("PAGE",()=>this.handlePage()),this.handlePage()}handlePage(){this.observer&&(this.observer.stop(),this.observer=null,this.wrapper.classList.remove("darksection"));let t=document.querySelector('[data-color="dark"]');t&&(this.observer=new ge(t,{config:{threshold:0,autoStart:!0},cb:{in:()=>{this.wrapper.classList.add("darksection")},out:()=>{this.wrapper.classList.remove("darksection")}}}))}};var lr=class{constructor(t){this.el=t,this.target=t.getAttribute("data-anchor"),this.el.onclick=()=>{H.scroll.to(document.getElementById(this.target))}}destroy(){console.log("destroy")}};var fu=[{selector:'[data-a="char"],[data-a="word"],[data-a="line"]',class:Text},{selector:'[data-embla="wrapper"]',class:ir},{selector:'[data-tabs="w"]',class:rr},{selector:'[data-partners="w"]',class:sr},{selector:'[data-openings="w"]',class:nr},{selector:'[data-submit="w"]',class:or},{selector:"[data-anchor]",class:lr}],hr=class{constructor(){S(this,"wrapper",document.querySelector("[data-taxi]"));S(this,"dark",new ar);S(this,"nav",new Ji);this.create(),z.on("LOAD",t=>{switch(t){case"full":this.onLoad();break;case"screen":this.onFirstLoad();break;default:break}})}resize(){}render(t){this.children.forEach(e=>{e.render&&e.render()})}get _children(){return fu.map(e=>{let{selector:i,class:s}=e,n=[...document.querySelectorAll(i)];return n.length===0?null:n.map(o=>new s(o))})}create(){this.children=this._children.flat().filter(t=>t!==null),this.start()}start(){this.children.forEach(t=>{t.start&&t.start()})}destroy(){this.children.forEach(t=>{t.destroy&&t.destroy()})}onFirstLoad(){gt.to(this.wrapper,{autoAlpha:1,duration:Nt.load.duration,ease:Nt.load.ease,delay:Nt.load.delay})}onLoad(){}async transitionOut(t){this.destroy(),await gt.to(this.wrapper,{autoAlpha:0,duration:.5})}async transitionIn(t){this.create(),await gt.to(this.wrapper,{autoAlpha:1,duration:.5,delay:.2})}};var cr=class{constructor(){this.resize()}resize(){document.documentElement.style.setProperty("--100vh",`${window.innerHeight}px`)}};var du="1.1.19";function Xo(r,t,e){return Math.max(r,Math.min(t,e))}function pu(r,t,e){return(1-e)*r+e*t}function mu(r,t,e,i){return pu(r,t,1-Math.exp(-e*i))}function gu(r,t){return(r%t+t)%t}var _u=class{constructor(){S(this,"isRunning",!1);S(this,"value",0);S(this,"from",0);S(this,"to",0);S(this,"currentTime",0);S(this,"lerp");S(this,"duration");S(this,"easing");S(this,"onUpdate")}advance(r){var e;if(!this.isRunning)return;let t=!1;if(this.duration&&this.easing){this.currentTime+=r;let i=Xo(0,this.currentTime/this.duration,1);t=i>=1;let s=t?1:this.easing(i);this.value=this.from+(this.to-this.from)*s}else this.lerp?(this.value=mu(this.value,this.to,this.lerp*60,r),Math.round(this.value)===this.to&&(this.value=this.to,t=!0)):(this.value=this.to,t=!0);t&&this.stop(),(e=this.onUpdate)==null||e.call(this,this.value,t)}stop(){this.isRunning=!1}fromTo(r,t,{lerp:e,duration:i,easing:s,onStart:n,onUpdate:o}){this.from=this.value=r,this.to=t,this.lerp=e,this.duration=i,this.easing=s,this.currentTime=0,this.isRunning=!0,n==null||n(),this.onUpdate=o}};function xu(r,t){let e;return function(...i){let s=this;clearTimeout(e),e=setTimeout(()=>{e=void 0,r.apply(s,i)},t)}}var yu=class{constructor(r,t,{autoResize:e=!0,debounce:i=250}={}){S(this,"width",0);S(this,"height",0);S(this,"scrollHeight",0);S(this,"scrollWidth",0);S(this,"debouncedResize");S(this,"wrapperResizeObserver");S(this,"contentResizeObserver");S(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});S(this,"onWrapperResize",()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});S(this,"onContentResize",()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)});this.wrapper=r,this.content=t,e&&(this.debouncedResize=xu(this.resize,i),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){var r,t;(r=this.wrapperResizeObserver)==null||r.disconnect(),(t=this.contentResizeObserver)==null||t.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},Wo=class{constructor(){S(this,"events",{})}emit(r,...t){var i;let e=this.events[r]||[];for(let s=0,n=e.length;s<n;s++)(i=e[s])==null||i.call(e,...t)}on(r,t){var e;return(e=this.events[r])!=null&&e.push(t)||(this.events[r]=[t]),()=>{var i;this.events[r]=(i=this.events[r])==null?void 0:i.filter(s=>t!==s)}}off(r,t){var e;this.events[r]=(e=this.events[r])==null?void 0:e.filter(i=>t!==i)}destroy(){this.events={}}},jo=100/6,_e={passive:!1},vu=class{constructor(r,t={wheelMultiplier:1,touchMultiplier:1}){S(this,"touchStart",{x:0,y:0});S(this,"lastDelta",{x:0,y:0});S(this,"window",{width:0,height:0});S(this,"emitter",new Wo);S(this,"onTouchStart",r=>{let{clientX:t,clientY:e}=r.targetTouches?r.targetTouches[0]:r;this.touchStart.x=t,this.touchStart.y=e,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:r})});S(this,"onTouchMove",r=>{let{clientX:t,clientY:e}=r.targetTouches?r.targetTouches[0]:r,i=-(t-this.touchStart.x)*this.options.touchMultiplier,s=-(e-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=t,this.touchStart.y=e,this.lastDelta={x:i,y:s},this.emitter.emit("scroll",{deltaX:i,deltaY:s,event:r})});S(this,"onTouchEnd",r=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:r})});S(this,"onWheel",r=>{let{deltaX:t,deltaY:e,deltaMode:i}=r,s=i===1?jo:i===2?this.window.width:1,n=i===1?jo:i===2?this.window.height:1;t*=s,e*=n,t*=this.options.wheelMultiplier,e*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:t,deltaY:e,event:r})});S(this,"onWindowResize",()=>{this.window={width:window.innerWidth,height:window.innerHeight}});this.element=r,this.options=t,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,_e),this.element.addEventListener("touchstart",this.onTouchStart,_e),this.element.addEventListener("touchmove",this.onTouchMove,_e),this.element.addEventListener("touchend",this.onTouchEnd,_e)}on(r,t){return this.emitter.on(r,t)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,_e),this.element.removeEventListener("touchstart",this.onTouchStart,_e),this.element.removeEventListener("touchmove",this.onTouchMove,_e),this.element.removeEventListener("touchend",this.onTouchEnd,_e)}},Qo=class{constructor({wrapper:r=window,content:t=document.documentElement,eventsTarget:e=r,smoothWheel:i=!0,syncTouch:s=!1,syncTouchLerp:n=.075,touchInertiaMultiplier:o=35,duration:a,easing:l=b=>Math.min(1,1.001-Math.pow(2,-10*b)),lerp:h=.1,infinite:c=!1,orientation:u="vertical",gestureOrientation:f="vertical",touchMultiplier:p=1,wheelMultiplier:m=1,autoResize:d=!0,prevent:g,virtualScroll:_,overscroll:x=!0,autoRaf:y=!1,anchors:v=!1,__experimental__naiveDimensions:w=!1}={}){S(this,"_isScrolling",!1);S(this,"_isStopped",!1);S(this,"_isLocked",!1);S(this,"_preventNextNativeScrollEvent",!1);S(this,"_resetVelocityTimeout",null);S(this,"__rafID",null);S(this,"isTouching");S(this,"time",0);S(this,"userData",{});S(this,"lastVelocity",0);S(this,"velocity",0);S(this,"direction",0);S(this,"options");S(this,"targetScroll");S(this,"animatedScroll");S(this,"animate",new _u);S(this,"emitter",new Wo);S(this,"dimensions");S(this,"virtualScroll");S(this,"onScrollEnd",r=>{r instanceof CustomEvent||(this.isScrolling==="smooth"||this.isScrolling===!1)&&r.stopPropagation()});S(this,"dispatchScrollendEvent",()=>{this.options.wrapper.dispatchEvent(new CustomEvent("scrollend",{bubbles:this.options.wrapper===window,detail:{lenisScrollEnd:!0}}))});S(this,"onClick",r=>{let e=r.composedPath().find(i=>{var s;return i instanceof HTMLAnchorElement&&((s=i.getAttribute("href"))==null?void 0:s.startsWith("#"))});if(e){let i=e.getAttribute("href");if(i){let s=typeof this.options.anchors=="object"&&this.options.anchors?this.options.anchors:void 0;this.scrollTo(i,s)}}});S(this,"onPointerDown",r=>{r.button===1&&this.reset()});S(this,"onVirtualScroll",r=>{if(typeof this.options.virtualScroll=="function"&&this.options.virtualScroll(r)===!1)return;let{deltaX:t,deltaY:e,event:i}=r;if(this.emitter.emit("virtual-scroll",{deltaX:t,deltaY:e,event:i}),i.ctrlKey||i.lenisStopPropagation)return;let s=i.type.includes("touch"),n=i.type.includes("wheel");this.isTouching=i.type==="touchstart"||i.type==="touchmove";let o=t===0&&e===0;if(this.options.syncTouch&&s&&i.type==="touchstart"&&o&&!this.isStopped&&!this.isLocked){this.reset();return}let l=this.options.gestureOrientation==="vertical"&&e===0||this.options.gestureOrientation==="horizontal"&&t===0;if(o||l)return;let h=i.composedPath();h=h.slice(0,h.indexOf(this.rootElement));let c=this.options.prevent;if(h.find(g=>{var _,x,y;return g instanceof HTMLElement&&(typeof c=="function"&&(c==null?void 0:c(g))||((_=g.hasAttribute)==null?void 0:_.call(g,"data-lenis-prevent"))||s&&((x=g.hasAttribute)==null?void 0:x.call(g,"data-lenis-prevent-touch"))||n&&((y=g.hasAttribute)==null?void 0:y.call(g,"data-lenis-prevent-wheel")))}))return;if(this.isStopped||this.isLocked){i.preventDefault();return}if(!(this.options.syncTouch&&s||this.options.smoothWheel&&n)){this.isScrolling="native",this.animate.stop(),i.lenisStopPropagation=!0;return}let f=e;this.options.gestureOrientation==="both"?f=Math.abs(e)>Math.abs(t)?e:t:this.options.gestureOrientation==="horizontal"&&(f=t),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&(this.animatedScroll>0&&this.animatedScroll<this.limit||this.animatedScroll===0&&e>0||this.animatedScroll===this.limit&&e<0))&&(i.lenisStopPropagation=!0),i.preventDefault();let p=s&&this.options.syncTouch,d=s&&i.type==="touchend"&&Math.abs(f)>5;d&&(f=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+f,{programmatic:!1,...p?{lerp:d?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})});S(this,"onNativeScroll",()=>{if(this._resetVelocityTimeout!==null&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(this.isScrolling===!1||this.isScrolling==="native"){let r=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-r,this.direction=Math.sign(this.animatedScroll-r),this.isStopped||(this.isScrolling="native"),this.emit(),this.velocity!==0&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}});S(this,"raf",r=>{let t=r-(this.time||r);this.time=r,this.animate.advance(t*.001),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))});window.lenisVersion=du,(!r||r===document.documentElement)&&(r=window),this.options={wrapper:r,content:t,eventsTarget:e,smoothWheel:i,syncTouch:s,syncTouchLerp:n,touchInertiaMultiplier:o,duration:a,easing:l,lerp:h,infinite:c,gestureOrientation:f,orientation:u,touchMultiplier:p,wheelMultiplier:m,autoResize:d,prevent:g,virtualScroll:_,overscroll:x,autoRaf:y,anchors:v,__experimental__naiveDimensions:w},this.dimensions=new yu(r,t,{autoResize:d}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.addEventListener("click",this.onClick,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new vu(e,{touchMultiplier:p,wheelMultiplier:m}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.removeEventListener("click",this.onClick,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this.__rafID&&cancelAnimationFrame(this.__rafID)}on(r,t){return this.emitter.on(r,t)}off(r,t){return this.emitter.off(r,t)}setScroll(r){this.isHorizontal?this.options.wrapper.scrollTo({left:r,behavior:"instant"}):this.options.wrapper.scrollTo({top:r,behavior:"instant"})}resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.reset(),this.isStopped=!1)}stop(){this.isStopped||(this.reset(),this.isStopped=!0)}scrollTo(r,{offset:t=0,immediate:e=!1,lock:i=!1,duration:s=this.options.duration,easing:n=this.options.easing,lerp:o=this.options.lerp,onStart:a,onComplete:l,force:h=!1,programmatic:c=!0,userData:u}={}){if(!((this.isStopped||this.isLocked)&&!h)){if(typeof r=="string"&&["top","left","start"].includes(r))r=0;else if(typeof r=="string"&&["bottom","right","end"].includes(r))r=this.limit;else{let f;if(typeof r=="string"?f=document.querySelector(r):r instanceof HTMLElement&&(r!=null&&r.nodeType)&&(f=r),f){if(this.options.wrapper!==window){let m=this.rootElement.getBoundingClientRect();t-=this.isHorizontal?m.left:m.top}let p=f.getBoundingClientRect();r=(this.isHorizontal?p.left:p.top)+this.animatedScroll}}if(typeof r=="number"){if(r+=t,r=Math.round(r),this.options.infinite?c&&(this.targetScroll=this.animatedScroll=this.scroll):r=Xo(0,r,this.limit),r===this.targetScroll){a==null||a(this),l==null||l(this);return}if(this.userData=u!=null?u:{},e){this.animatedScroll=this.targetScroll=r,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),l==null||l(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()});return}c||(this.targetScroll=r),this.animate.fromTo(this.animatedScroll,r,{duration:s,easing:n,lerp:o,onStart:()=>{i&&(this.isLocked=!0),this.isScrolling="smooth",a==null||a(this)},onUpdate:(f,p)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=f-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=f,this.setScroll(this.scroll),c&&(this.targetScroll=f),p||this.emit(),p&&(this.reset(),this.emit(),l==null||l(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()}),this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){var t,e;let r=this.options.wrapper;return this.isHorizontal?(t=r.scrollX)!=null?t:r.scrollLeft:(e=r.scrollY)!=null?e:r.scrollTop}get scroll(){return this.options.infinite?gu(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(r){this._isScrolling!==r&&(this._isScrolling=r,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(r){this._isStopped!==r&&(this._isStopped=r,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(r){this._isLocked!==r&&(this._isLocked=r,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let r="lenis";return this.isStopped&&(r+=" lenis-stopped"),this.isLocked&&(r+=" lenis-locked"),this.isScrolling&&(r+=" lenis-scrolling"),this.isScrolling==="smooth"&&(r+=" lenis-smooth"),r}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}};function Ko(r){return r===1?1:1-Math.pow(2,-10*r)}var wu=r=>Math.min(1,1.001-Math.pow(2,-10*r));function bu(r=null){let t=localStorage.getItem("WebflowEditor");if(Webflow)return Webflow.env("editor")!==void 0||t!==null?(r!==null&&r(),console.log("Webflow Editor View"),!0):!1}var ur=class extends Qo{constructor(){super({wrapper:document.querySelector(".w"),duration:1,smoothWheel:!1,easing:wu,orientation:"vertical",smoothTouch:!1,syncTouch:!1,touchMultiplier:1}),this.isActive=!0,this.callbacks=[],this.init(),window.sscroll=this,queueMicrotask(()=>this.scrollTo(0,{offset:0,immediate:!0})),bu(()=>this.destroy())}init(){this.y=window.scrollY,this.max=window.innerHeight,this.speed=0,this.percent=this.y/(document.body.scrollHeight-window.innerHeight),this.on("scroll",({scroll:t,limit:e,velocity:i,progress:s})=>{this.y=t||0,this.max=e||window.innerHeight,this.speed=i||0,this.percent=s||0,this.callbackRaf()})}to(t){this.scrollTo(t,{offset:0,duration:.8,easing:Ko,immediate:!1})}top(){this.scrollTo(0,{offset:0,immediate:!0})}render(t){this.isActive&&this.raf(t)}set active(t){this.isActive=t}callbackRaf(){this.callbacks.forEach(t=>t.callback(this))}subscribe(t,e=Symbol()){return this.callbacks.push({callback:t,id:e}),this.unsubscribe.bind(this,e)}unsubscribe(t){this.callbacks=this.callbacks.filter(e=>e.id!==t)}unsunbscribeAll(){this.callbacks=[]}};function lt(){if(!(this instanceof lt))return new lt;this.size=0,this.uid=0,this.selectors=[],this.selectorObjects={},this.indexes=Object.create(this.indexes),this.activeIndexes=[]}var Ei=window.document.documentElement,Eu=Ei.matches||Ei.webkitMatchesSelector||Ei.mozMatchesSelector||Ei.oMatchesSelector||Ei.msMatchesSelector;lt.prototype.matchesSelector=function(r,t){return Eu.call(r,t)};lt.prototype.querySelectorAll=function(r,t){return t.querySelectorAll(r)};lt.prototype.indexes=[];var Au=/^#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;lt.prototype.indexes.push({name:"ID",selector:function(t){var e;if(e=t.match(Au))return e[0].slice(1)},element:function(t){if(t.id)return[t.id]}});var Tu=/^\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;lt.prototype.indexes.push({name:"CLASS",selector:function(t){var e;if(e=t.match(Tu))return e[0].slice(1)},element:function(t){var e=t.className;if(e){if(typeof e=="string")return e.split(/\s/);if(typeof e=="object"&&"baseVal"in e)return e.baseVal.split(/\s/)}}});var Su=/^((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;lt.prototype.indexes.push({name:"TAG",selector:function(t){var e;if(e=t.match(Su))return e[0].toUpperCase()},element:function(t){return[t.nodeName.toUpperCase()]}});lt.prototype.indexes.default={name:"UNIVERSAL",selector:function(){return!0},element:function(){return[!0]}};var Bs;typeof window.Map=="function"?Bs=window.Map:Bs=function(){function r(){this.map={}}return r.prototype.get=function(t){return this.map[t+" "]},r.prototype.set=function(t,e){this.map[t+" "]=e},r}();var Zo=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g;function Jo(r,t){r=r.slice(0).concat(r.default);var e=r.length,i,s,n,o,a=t,l,h,c=[];do if(Zo.exec(""),(n=Zo.exec(a))&&(a=n[3],n[2]||!a)){for(i=0;i<e;i++)if(h=r[i],l=h.selector(n[1])){for(s=c.length,o=!1;s--;)if(c[s].index===h&&c[s].key===l){o=!0;break}o||c.push({index:h,key:l});break}}while(n);return c}function Mu(r,t){var e,i,s;for(e=0,i=r.length;e<i;e++)if(s=r[e],t.isPrototypeOf(s))return s}lt.prototype.logDefaultIndexUsed=function(){};lt.prototype.add=function(r,t){var e,i,s,n,o,a,l,h,c=this.activeIndexes,u=this.selectors,f=this.selectorObjects;if(typeof r=="string"){for(e={id:this.uid++,selector:r,data:t},f[e.id]=e,l=Jo(this.indexes,r),i=0;i<l.length;i++)h=l[i],n=h.key,s=h.index,o=Mu(c,s),o||(o=Object.create(s),o.map=new Bs,c.push(o)),s===this.indexes.default&&this.logDefaultIndexUsed(e),a=o.map.get(n),a||(a=[],o.map.set(n,a)),a.push(e);this.size++,u.push(r)}};lt.prototype.remove=function(r,t){if(typeof r=="string"){var e,i,s,n,o,a,l,h,c=this.activeIndexes,u=this.selectors=[],f=this.selectorObjects,p={},m=arguments.length===1;for(e=Jo(this.indexes,r),s=0;s<e.length;s++)for(i=e[s],n=c.length;n--;)if(a=c[n],i.index.isPrototypeOf(a)){if(l=a.map.get(i.key),l)for(o=l.length;o--;)h=l[o],h.selector===r&&(m||h.data===t)&&(l.splice(o,1),p[h.id]=!0);break}for(s in p)delete f[s],this.size--;for(s in f)u.push(f[s].selector)}};function ta(r,t){return r.id-t.id}lt.prototype.queryAll=function(r){if(!this.selectors.length)return[];var t={},e=[],i=this.querySelectorAll(this.selectors.join(", "),r),s,n,o,a,l,h,c,u;for(s=0,o=i.length;s<o;s++)for(l=i[s],h=this.matches(l),n=0,a=h.length;n<a;n++)u=h[n],t[u.id]?c=t[u.id]:(c={id:u.id,selector:u.selector,data:u.data,elements:[]},t[u.id]=c,e.push(c)),c.elements.push(l);return e.sort(ta)};lt.prototype.matches=function(r){if(!r)return[];var t,e,i,s,n,o,a,l,h,c,u,f=this.activeIndexes,p={},m=[];for(t=0,s=f.length;t<s;t++)if(a=f[t],l=a.element(r),l){for(e=0,n=l.length;e<n;e++)if(h=a.map.get(l[e]))for(i=0,o=h.length;i<o;i++)c=h[i],u=c.id,!p[u]&&this.matchesSelector(r,c.selector)&&(p[u]=!0,m.push(c))}return m.sort(ta)};var ze={},se={},fr=["mouseenter","mouseleave","pointerenter","pointerleave","blur","focus"];function Vs(r){se[r]===void 0&&(se[r]=new Set)}function ia(r,t){se[r]&&se[r].forEach(e=>{e(...t)})}function Us(r){return typeof r=="string"?document.querySelectorAll(r):r}function Ai(r){let t=Cu(ze[r.type],r.target);if(t.length)for(let e=0;e<t.length;e++)for(let i=0;i<t[e].stack.length;i++)fr.indexOf(r.type)!==-1?(ea(r,t[e].delegatedTarget),r.target===t[e].delegatedTarget&&t[e].stack[i].data(r)):(ea(r,t[e].delegatedTarget),t[e].stack[i].data(r))}function Cu(r,t){let e=[],i=t;do{if(i.nodeType!==1)break;let s=r.matches(i);s.length&&e.push({delegatedTarget:i,stack:s})}while(i=i.parentElement);return e}function ea(r,t){Object.defineProperty(r,"currentTarget",{configurable:!0,enumerable:!0,get:()=>t})}function ra(r){let t={};for(let e in r)t[e]=[...r[e]];return t}var $s=class{bindAll(t,e){e||(e=Object.getOwnPropertyNames(Object.getPrototypeOf(t)));for(let i=0;i<e.length;i++)t[e[i]]=t[e[i]].bind(t)}on(t,e,i,s){let n=t.split(" ");for(let o=0;o<n.length;o++){if(typeof e=="function"&&i===void 0){Vs(n[o]),se[n[o]].add(e);continue}if(e.nodeType&&e.nodeType===1||e===window||e===document){e.addEventListener(n[o],i,s);continue}e=Us(e);for(let a=0;a<e.length;a++)e[a].addEventListener(n[o],i,s)}}delegate(t,e,i){let s=t.split(" ");for(let n=0;n<s.length;n++){let o=ze[s[n]];o===void 0&&(o=new lt,ze[s[n]]=o,fr.indexOf(s[n])!==-1?document.addEventListener(s[n],Ai,!0):document.addEventListener(s[n],Ai)),o.add(e,i)}}off(t,e,i,s){var o;let n=t.split(" ");for(let a=0;a<n.length;a++){if(e===void 0){(o=se[n[a]])==null||o.clear();continue}if(typeof e=="function"){Vs(n[a]),se[n[a]].delete(e);continue}let l=ze[n[a]];if(l!==void 0&&(l.remove(e,i),l.size===0)){delete ze[n[a]],fr.indexOf(n[a])!==-1?document.removeEventListener(n[a],Ai,!0):document.removeEventListener(n[a],Ai);continue}if(e.removeEventListener!==void 0){e.removeEventListener(n[a],i,s);continue}e=Us(e);for(let h=0;h<e.length;h++)e[h].removeEventListener(n[a],i,s)}}emit(t,...e){ia(t,e)}debugDelegated(){return JSON.parse(JSON.stringify(ze))}debugBus(){return ra(se)}hasBus(t){return this.debugBus().hasOwnProperty(t)}},ku=new $s,ne=ku;var Fu=new DOMParser;function sa(r){return typeof r=="string"?Fu.parseFromString(r,"text/html"):r}function Xt(r){let t=new URL(r,window.location.origin),e=t.hash.length?r.replace(t.hash,""):null;return{hasHash:t.hash.length>0,pathname:t.pathname.replace(/\/+$/,""),host:t.host,search:t.search,raw:r,href:e||t.href}}function Hs(r,t){r.parentNode.replaceChild(na(r,t),r)}function qs(r,t){(r.parentNode.tagName==="HEAD"?document.head:document.body).appendChild(na(r,t))}function na(r,t){let e=document.createElement(t);for(let i=0;i<r.attributes.length;i++){let s=r.attributes[i];e.setAttribute(s.nodeName,s.nodeValue)}return r.innerHTML&&(e.innerHTML=r.innerHTML),e}var Re=class{constructor({wrapper:t}){this.wrapper=t}leave(t){return new Promise(e=>{this.onLeave({...t,done:e})})}enter(t){return new Promise(e=>{this.onEnter({...t,done:e})})}onLeave({from:t,trigger:e,done:i}){i()}onEnter({to:t,trigger:e,done:i}){i()}};var De=class{constructor({content:t,page:e,title:i,wrapper:s}){this._contentString=t.outerHTML,this._DOM=null,this.page=e,this.title=i,this.wrapper=s,this.content=this.wrapper.lastElementChild}onEnter(){}onEnterCompleted(){}onLeave(){}onLeaveCompleted(){}initialLoad(){this.onEnter(),this.onEnterCompleted()}update(){document.title=this.title,this.wrapper.appendChild(this._DOM.firstElementChild),this.content=this.wrapper.lastElementChild,this._DOM=null}createDom(){this._DOM||(this._DOM=document.createElement("div"),this._DOM.innerHTML=this._contentString)}remove(){this.wrapper.firstElementChild.remove()}enter(t,e){return new Promise(i=>{this.onEnter(),t.enter({trigger:e,to:this.content}).then(()=>{this.onEnterCompleted(),i()})})}leave(t,e,i){return new Promise(s=>{this.onLeave(),t.leave({trigger:e,from:this.content}).then(()=>{i&&this.remove(),this.onLeaveCompleted(),s()})})}};var Ti=class{constructor(){S(this,"data",new Map);S(this,"regexCache",new Map)}add(t,e,i){this.data.has(t)||(this.data.set(t,new Map),this.regexCache.set(t,new RegExp(`^${t}$`))),this.data.get(t).set(e,i),this.regexCache.set(e,new RegExp(`^${e}$`))}findMatch(t,e){for(let[i,s]of this.data)if(t.pathname.match(this.regexCache.get(i))){for(let[n,o]of s)if(e.pathname.match(this.regexCache.get(n)))return o;break}return null}};var oa="A transition is currently in progress",Ze=class{constructor(t={}){S(this,"isTransitioning",!1);S(this,"currentCacheEntry",null);S(this,"cache",new Map);S(this,"activePromises",new Map);S(this,"onClick",t=>{if(!(t.metaKey||t.ctrlKey)){let e=Xt(t.currentTarget.href);if(this.currentLocation=Xt(window.location.href),this.currentLocation.host!==e.host)return;if(this.currentLocation.href!==e.href||this.currentLocation.hasHash&&!e.hasHash){t.preventDefault(),this.navigateTo(e.raw,t.currentTarget.dataset.transition||!1,t.currentTarget).catch(i=>console.warn(i));return}!this.currentLocation.hasHash&&!e.hasHash&&t.preventDefault()}});S(this,"onPopstate",()=>{let t=Xt(window.location.href);if(t.pathname===this.currentLocation.pathname&&t.search===this.currentLocation.search&&!this.isPopping)return!1;if(!this.allowInterruption&&(this.isTransitioning||this.isPopping))return window.history.pushState({},"",this.popTarget),console.warn(oa),!1;this.isPopping||(this.popTarget=window.location.href),this.isPopping=!0,this.navigateTo(window.location.href,!1,"popstate")});S(this,"onPrefetch",t=>{let e=Xt(t.currentTarget.href);this.currentLocation.host===e.host&&this.preload(t.currentTarget.href,!1)});let{links:e="a[href]:not([target]):not([href^=\\#]):not([data-taxi-ignore])",removeOldContent:i=!0,allowInterruption:s=!1,bypassCache:n=!1,enablePrefetch:o=!0,renderers:a={default:De},transitions:l={default:Re},reloadJsFilter:h=u=>u.dataset.taxiReload!==void 0,reloadCssFilter:c=u=>!0}=t;this.renderers=a,this.transitions=l,this.defaultRenderer=this.renderers.default||De,this.defaultTransition=this.transitions.default||Re,this.wrapper=document.querySelector("[data-taxi]"),this.reloadJsFilter=h,this.reloadCssFilter=c,this.removeOldContent=i,this.allowInterruption=s,this.bypassCache=n,this.enablePrefetch=o,this.cache=new Map,this.isPopping=!1,this.attachEvents(e),this.currentLocation=Xt(window.location.href),this.cache.set(this.currentLocation.href,this.createCacheEntry(document.cloneNode(!0),window.location.href)),this.currentCacheEntry=this.cache.get(this.currentLocation.href),this.currentCacheEntry.renderer.initialLoad()}setDefaultRenderer(t){this.defaultRenderer=this.renderers[t]}setDefaultTransition(t){this.defaultTransition=this.transitions[t]}addRoute(t,e,i){this.router||(this.router=new Ti),this.router.add(t,e,i)}preload(t,e=!1){return t=Xt(t).href,this.cache.has(t)?Promise.resolve():this.fetch(t,!1).then(async i=>{this.cache.set(t,this.createCacheEntry(i.html,i.url)),e&&this.cache.get(t).renderer.createDom()}).catch(i=>console.warn(i))}updateCache(t){let e=Xt(t||window.location.href).href;this.cache.has(e)&&this.cache.delete(e),this.cache.set(e,this.createCacheEntry(document.cloneNode(!0),e))}clearCache(t){let e=Xt(t||window.location.href).href;this.cache.has(e)&&this.cache.delete(e)}navigateTo(t,e=!1,i=!1){return new Promise((s,n)=>{if(!this.allowInterruption&&this.isTransitioning){n(new Error(oa));return}this.isTransitioning=!0,this.isPopping=!0,this.targetLocation=Xt(t),this.popTarget=window.location.href;let o=new(this.chooseTransition(e))({wrapper:this.wrapper}),a;if(this.bypassCache||!this.cache.has(this.targetLocation.href)||this.cache.get(this.targetLocation.href).skipCache){let l=this.fetch(this.targetLocation.href).then(h=>{this.cache.set(this.targetLocation.href,this.createCacheEntry(h.html,h.url)),this.cache.get(this.targetLocation.href).renderer.createDom()}).catch(h=>{window.location.href=t});a=this.beforeFetch(this.targetLocation,o,i).then(async()=>l.then(async()=>await this.afterFetch(this.targetLocation,o,this.cache.get(this.targetLocation.href),i)))}else this.cache.get(this.targetLocation.href).renderer.createDom(),a=this.beforeFetch(this.targetLocation,o,i).then(async()=>await this.afterFetch(this.targetLocation,o,this.cache.get(this.targetLocation.href),i));a.then(()=>{s()})})}on(t,e){ne.on(t,e)}off(t,e){ne.off(t,e)}beforeFetch(t,e,i){return ne.emit("NAVIGATE_OUT",{from:this.currentCacheEntry,trigger:i}),new Promise(s=>{this.currentCacheEntry.renderer.leave(e,i,this.removeOldContent).then(()=>{i!=="popstate"&&window.history.pushState({},"",t.raw),s()})})}afterFetch(t,e,i,s){return this.currentLocation=t,this.popTarget=this.currentLocation.href,new Promise(n=>{i.renderer.update(),ne.emit("NAVIGATE_IN",{from:this.currentCacheEntry,to:i,trigger:s}),this.reloadJsFilter&&this.loadScripts(i.scripts),this.reloadCssFilter&&this.loadStyles(i.styles),s!=="popstate"&&t.href!==i.finalUrl&&window.history.replaceState({},"",i.finalUrl),i.renderer.enter(e,s).then(()=>{ne.emit("NAVIGATE_END",{from:this.currentCacheEntry,to:i,trigger:s}),this.currentCacheEntry=i,this.isTransitioning=!1,this.isPopping=!1,n()})})}loadScripts(t){let e=[...t],i=Array.from(document.querySelectorAll("script")).filter(this.reloadJsFilter);for(let s=0;s<i.length;s++)for(let n=0;n<e.length;n++)if(i[s].outerHTML===e[n].outerHTML){Hs(i[s],"SCRIPT"),e.splice(n,1);break}for(let s of e)qs(s,"SCRIPT")}loadStyles(t){let e=Array.from(document.querySelectorAll('link[rel="stylesheet"]')).filter(this.reloadCssFilter),i=Array.from(document.querySelectorAll("style")).filter(this.reloadCssFilter),s=t.filter(n=>{if(n.href){if(!e.find(o=>o.href===n.href))return document.body.append(n),!1}else return!0});for(let n=0;n<i.length;n++)for(let o=0;o<s.length;o++)if(i[n].outerHTML===s[o].outerHTML){Hs(i[n],"STYLE"),s.splice(o,1);break}for(let n of s)qs(n,"STYLE")}attachEvents(t){ne.delegate("click",t,this.onClick),ne.on("popstate",window,this.onPopstate),this.enablePrefetch&&ne.delegate("mouseenter focus",t,this.onPrefetch)}fetch(t,e=!0){if(this.activePromises.has(t))return this.activePromises.get(t);let i=new Promise((s,n)=>{let o;fetch(t,{mode:"same-origin",method:"GET",headers:{"X-Requested-With":"Taxi"},credentials:"same-origin"}).then(a=>(a.ok||(n("Taxi encountered a non 2xx HTTP status code"),e&&(window.location.href=t)),o=a.url,a.text())).then(a=>{s({html:sa(a),url:o})}).catch(a=>{n(a),e&&(window.location.href=t)}).finally(()=>{this.activePromises.delete(t)})});return this.activePromises.set(t,i),i}chooseTransition(t){var i;if(t)return this.transitions[t];let e=(i=this.router)==null?void 0:i.findMatch(this.currentLocation,this.targetLocation);return e?this.transitions[e]:this.defaultTransition}createCacheEntry(t,e){let i=t.querySelector("[data-taxi-view]"),s=i.dataset.taxiView.length?this.renderers[i.dataset.taxiView]:this.defaultRenderer;return s||console.warn(`The Renderer "${i.dataset.taxiView}" was set in the data-taxi-view of the requested page, but not registered in Taxi.`),{page:t,content:i,finalUrl:e,skipCache:i.hasAttribute("data-taxi-nocache"),scripts:this.reloadJsFilter?Array.from(t.querySelectorAll("script")).filter(this.reloadJsFilter):[],styles:this.reloadCssFilter?Array.from(t.querySelectorAll('link[rel="stylesheet"], style')).filter(this.reloadCssFilter):[],title:t.title,renderer:new s({wrapper:this.wrapper,title:t.title,content:i,page:t})}}};function Ie(r){let t=r[0],e=r[1],i=r[2];return Math.sqrt(t*t+e*e+i*i)}function dr(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}function aa(r,t,e,i){return r[0]=t,r[1]=e,r[2]=i,r}function Gs(r,t,e){return r[0]=t[0]+e[0],r[1]=t[1]+e[1],r[2]=t[2]+e[2],r}function Ys(r,t,e){return r[0]=t[0]-e[0],r[1]=t[1]-e[1],r[2]=t[2]-e[2],r}function la(r,t,e){return r[0]=t[0]*e[0],r[1]=t[1]*e[1],r[2]=t[2]*e[2],r}function ha(r,t,e){return r[0]=t[0]/e[0],r[1]=t[1]/e[1],r[2]=t[2]/e[2],r}function mr(r,t,e){return r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e,r}function ca(r,t){let e=t[0]-r[0],i=t[1]-r[1],s=t[2]-r[2];return Math.sqrt(e*e+i*i+s*s)}function ua(r,t){let e=t[0]-r[0],i=t[1]-r[1],s=t[2]-r[2];return e*e+i*i+s*s}function js(r){let t=r[0],e=r[1],i=r[2];return t*t+e*e+i*i}function fa(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r}function da(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r}function pr(r,t){let e=t[0],i=t[1],s=t[2],n=e*e+i*i+s*s;return n>0&&(n=1/Math.sqrt(n)),r[0]=t[0]*n,r[1]=t[1]*n,r[2]=t[2]*n,r}function Xs(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]}function Ws(r,t,e){let i=t[0],s=t[1],n=t[2],o=e[0],a=e[1],l=e[2];return r[0]=s*l-n*a,r[1]=n*o-i*l,r[2]=i*a-s*o,r}function pa(r,t,e,i){let s=t[0],n=t[1],o=t[2];return r[0]=s+i*(e[0]-s),r[1]=n+i*(e[1]-n),r[2]=o+i*(e[2]-o),r}function ma(r,t,e,i,s){let n=Math.exp(-i*s),o=t[0],a=t[1],l=t[2];return r[0]=e[0]+(o-e[0])*n,r[1]=e[1]+(a-e[1])*n,r[2]=e[2]+(l-e[2])*n,r}function ga(r,t,e){let i=t[0],s=t[1],n=t[2],o=e[3]*i+e[7]*s+e[11]*n+e[15];return o=o||1,r[0]=(e[0]*i+e[4]*s+e[8]*n+e[12])/o,r[1]=(e[1]*i+e[5]*s+e[9]*n+e[13])/o,r[2]=(e[2]*i+e[6]*s+e[10]*n+e[14])/o,r}function _a(r,t,e){let i=t[0],s=t[1],n=t[2],o=e[3]*i+e[7]*s+e[11]*n+e[15];return o=o||1,r[0]=(e[0]*i+e[4]*s+e[8]*n)/o,r[1]=(e[1]*i+e[5]*s+e[9]*n)/o,r[2]=(e[2]*i+e[6]*s+e[10]*n)/o,r}function xa(r,t,e){let i=t[0],s=t[1],n=t[2];return r[0]=i*e[0]+s*e[3]+n*e[6],r[1]=i*e[1]+s*e[4]+n*e[7],r[2]=i*e[2]+s*e[5]+n*e[8],r}function ya(r,t,e){let i=t[0],s=t[1],n=t[2],o=e[0],a=e[1],l=e[2],h=e[3],c=a*n-l*s,u=l*i-o*n,f=o*s-a*i,p=a*f-l*u,m=l*c-o*f,d=o*u-a*c,g=h*2;return c*=g,u*=g,f*=g,p*=2,m*=2,d*=2,r[0]=i+c+p,r[1]=s+u+m,r[2]=n+f+d,r}var va=function(){let r=[0,0,0],t=[0,0,0];return function(e,i){dr(r,e),dr(t,i),pr(r,r),pr(t,t);let s=Xs(r,t);return s>1?0:s<-1?Math.PI:Math.acos(s)}}();function wa(r,t){return r[0]===t[0]&&r[1]===t[1]&&r[2]===t[2]}var I=class r extends Array{constructor(t=0,e=t,i=t){return super(t,e,i),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this[0]=t}set y(t){this[1]=t}set z(t){this[2]=t}set(t,e=t,i=t){return t.length?this.copy(t):(aa(this,t,e,i),this)}copy(t){return dr(this,t),this}add(t,e){return e?Gs(this,t,e):Gs(this,this,t),this}sub(t,e){return e?Ys(this,t,e):Ys(this,this,t),this}multiply(t){return t.length?la(this,this,t):mr(this,this,t),this}divide(t){return t.length?ha(this,this,t):mr(this,this,1/t),this}inverse(t=this){return da(this,t),this}len(){return Ie(this)}distance(t){return t?ca(this,t):Ie(this)}squaredLen(){return js(this)}squaredDistance(t){return t?ua(this,t):js(this)}negate(t=this){return fa(this,t),this}cross(t,e){return e?Ws(this,t,e):Ws(this,this,t),this}scale(t){return mr(this,this,t),this}normalize(){return pr(this,this),this}dot(t){return Xs(this,t)}equals(t){return wa(this,t)}applyMatrix3(t){return xa(this,this,t),this}applyMatrix4(t){return ga(this,this,t),this}scaleRotateMatrix4(t){return _a(this,this,t),this}applyQuaternion(t){return ya(this,this,t),this}angle(t){return va(this,t)}lerp(t,e){return pa(this,this,t,e),this}smoothLerp(t,e,i){return ma(this,this,t,e,i),this}clone(){return new r(this[0],this[1],this[2])}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t}transformDirection(t){let e=this[0],i=this[1],s=this[2];return this[0]=t[0]*e+t[4]*i+t[8]*s,this[1]=t[1]*e+t[5]*i+t[9]*s,this[2]=t[2]*e+t[6]*i+t[10]*s,this.normalize()}};var Ea=new I,Lu=1,Pu=1,Aa=!1,Vt=class{constructor(t,e={}){t.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=t,this.attributes=e,this.id=Lu++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let i in e)this.addAttribute(i,e[i])}addAttribute(t,e){if(this.attributes[t]=e,e.id=Pu++,e.size=e.size||1,e.type=e.type||(e.data.constructor===Float32Array?this.gl.FLOAT:e.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),e.target=t==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,e.normalized=e.normalized||!1,e.stride=e.stride||0,e.offset=e.offset||0,e.count=e.count||(e.stride?e.data.byteLength/e.stride:e.data.length/e.size),e.divisor=e.instanced||0,e.needsUpdate=!1,e.usage=e.usage||this.gl.STATIC_DRAW,e.buffer||this.updateAttribute(e),e.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==e.count*e.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,e.count*e.divisor);this.instancedCount=e.count*e.divisor}else t==="index"?this.drawRange.count=e.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,e.count))}updateAttribute(t){let e=!t.buffer;e&&(t.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==t.buffer&&(this.gl.bindBuffer(t.target,t.buffer),this.glState.boundBuffer=t.buffer),e?this.gl.bufferData(t.target,t.data,t.usage):this.gl.bufferSubData(t.target,0,t.data),t.needsUpdate=!1}setIndex(t){this.addAttribute("index",t)}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}setInstancedCount(t){this.instancedCount=t}createVAO(t){this.VAOs[t.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.bindAttributes(t)}bindAttributes(t){t.attributeLocations.forEach((e,{name:i,type:s})=>{if(!this.attributes[i]){console.warn(`active attribute ${i} not being supplied`);return}let n=this.attributes[i];this.gl.bindBuffer(n.target,n.buffer),this.glState.boundBuffer=n.buffer;let o=1;s===35674&&(o=2),s===35675&&(o=3),s===35676&&(o=4);let a=n.size/o,l=o===1?0:o*o*4,h=o===1?0:o*4;for(let c=0;c<o;c++)this.gl.vertexAttribPointer(e+c,a,n.type,n.normalized,n.stride+l,n.offset+c*h),this.gl.enableVertexAttribArray(e+c),this.gl.renderer.vertexAttribDivisor(e+c,n.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:t,mode:e=this.gl.TRIANGLES}){var s;this.gl.renderer.currentGeometry!==`${this.id}_${t.attributeOrder}`&&(this.VAOs[t.attributeOrder]||this.createVAO(t),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${t.attributeOrder}`),t.attributeLocations.forEach((n,{name:o})=>{let a=this.attributes[o];a.needsUpdate&&this.updateAttribute(a)});let i=2;((s=this.attributes.index)==null?void 0:s.type)===this.gl.UNSIGNED_INT&&(i=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(e,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*i,this.instancedCount):this.gl.renderer.drawArraysInstanced(e,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(e,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*i):this.gl.drawArrays(e,this.drawRange.start,this.drawRange.count)}getPosition(){let t=this.attributes.position;if(t.data)return t;if(!Aa)return console.warn("No position buffer data found to compute bounds"),Aa=!0}computeBoundingBox(t){t||(t=this.getPosition());let e=t.data,i=t.size;this.bounds||(this.bounds={min:new I,max:new I,center:new I,scale:new I,radius:1/0});let s=this.bounds.min,n=this.bounds.max,o=this.bounds.center,a=this.bounds.scale;s.set(1/0),n.set(-1/0);for(let l=0,h=e.length;l<h;l+=i){let c=e[l],u=e[l+1],f=e[l+2];s.x=Math.min(c,s.x),s.y=Math.min(u,s.y),s.z=Math.min(f,s.z),n.x=Math.max(c,n.x),n.y=Math.max(u,n.y),n.z=Math.max(f,n.z)}a.sub(n,s),o.add(s,n).divide(2)}computeBoundingSphere(t){t||(t=this.getPosition());let e=t.data,i=t.size;this.bounds||this.computeBoundingBox(t);let s=0;for(let n=0,o=e.length;n<o;n+=i)Ea.fromArray(e,n),s=Math.max(s,this.bounds.center.squaredDistance(Ea));this.bounds.radius=Math.sqrt(s)}remove(){for(let t in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[t]),delete this.VAOs[t];for(let t in this.attributes)this.gl.deleteBuffer(this.attributes[t].buffer),delete this.attributes[t]}};var Ou=1,Ta={},Ut=class{constructor(t,{vertex:e,fragment:i,uniforms:s={},transparent:n=!1,cullFace:o=t.BACK,frontFace:a=t.CCW,depthTest:l=!0,depthWrite:h=!0,depthFunc:c=t.LEQUAL}={}){t.canvas||console.error("gl not passed as first argument to Program"),this.gl=t,this.uniforms=s,this.id=Ou++,e||console.warn("vertex shader not supplied"),i||console.warn("fragment shader not supplied"),this.transparent=n,this.cullFace=o,this.frontFace=a,this.depthTest=l,this.depthWrite=h,this.depthFunc=c,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=t.createShader(t.VERTEX_SHADER),this.fragmentShader=t.createShader(t.FRAGMENT_SHADER),this.program=t.createProgram(),t.attachShader(this.program,this.vertexShader),t.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:e,fragment:i})}setShaders({vertex:t,fragment:e}){if(t&&(this.gl.shaderSource(this.vertexShader,t),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${Sa(t)}`)),e&&(this.gl.shaderSource(this.fragmentShader,e),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${Sa(e)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let i=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let o=0;o<i;o++){let a=this.gl.getActiveUniform(this.program,o);this.uniformLocations.set(a,this.gl.getUniformLocation(this.program,a.name));let l=a.name.match(/(\w+)/g);a.uniformName=l[0],a.nameComponents=l.slice(1)}this.attributeLocations=new Map;let s=[],n=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let o=0;o<n;o++){let a=this.gl.getActiveAttrib(this.program,o),l=this.gl.getAttribLocation(this.program,a.name);l!==-1&&(s[l]=a.name,this.attributeLocations.set(a,l))}this.attributeOrder=s.join("")}setBlendFunc(t,e,i,s){this.blendFunc.src=t,this.blendFunc.dst=e,this.blendFunc.srcAlpha=i,this.blendFunc.dstAlpha=s,t&&(this.transparent=!0)}setBlendEquation(t,e){this.blendEquation.modeRGB=t,this.blendEquation.modeAlpha=e}setStencilFunc(t,e,i){this.stencilRef=e,this.stencilFunc.func=t,this.stencilFunc.ref=e,this.stencilFunc.mask=i}setStencilOp(t,e,i){this.stencilOp.stencilFail=t,this.stencilOp.depthFail=e,this.stencilOp.depthPass=i}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:t=!1}={}){let e=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((s,n)=>{let o=this.uniforms[n.uniformName];for(let a of n.nameComponents){if(!o)break;if(a in o)o=o[a];else{if(Array.isArray(o.value))break;o=void 0;break}}if(!o)return Ma(`Active uniform ${n.name} has not been supplied`);if(o&&o.value===void 0)return Ma(`${n.name} uniform is missing a value parameter`);if(o.value.texture)return e=e+1,o.value.update(e),Qs(this.gl,n.type,s,e);if(o.value.length&&o.value[0].texture){let a=[];return o.value.forEach(l=>{e=e+1,l.update(e),a.push(e)}),Qs(this.gl,n.type,s,a)}Qs(this.gl,n.type,s,o.value)}),this.applyState(),t&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}};function Qs(r,t,e,i){i=i.length?zu(i):i;let s=r.renderer.state.uniformLocations.get(e);if(i.length)if(s===void 0||s.length!==i.length)r.renderer.state.uniformLocations.set(e,i.slice(0));else{if(Ru(s,i))return;s.set?s.set(i):Du(s,i),r.renderer.state.uniformLocations.set(e,s)}else{if(s===i)return;r.renderer.state.uniformLocations.set(e,i)}switch(t){case 5126:return i.length?r.uniform1fv(e,i):r.uniform1f(e,i);case 35664:return r.uniform2fv(e,i);case 35665:return r.uniform3fv(e,i);case 35666:return r.uniform4fv(e,i);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return i.length?r.uniform1iv(e,i):r.uniform1i(e,i);case 35671:case 35667:return r.uniform2iv(e,i);case 35672:case 35668:return r.uniform3iv(e,i);case 35673:case 35669:return r.uniform4iv(e,i);case 35674:return r.uniformMatrix2fv(e,!1,i);case 35675:return r.uniformMatrix3fv(e,!1,i);case 35676:return r.uniformMatrix4fv(e,!1,i)}}function Sa(r){let t=r.split(`
`);for(let e=0;e<t.length;e++)t[e]=e+1+": "+t[e];return t.join(`
`)}function zu(r){let t=r.length,e=r[0].length;if(e===void 0)return r;let i=t*e,s=Ta[i];s||(Ta[i]=s=new Float32Array(i));for(let n=0;n<t;n++)s.set(r[n],n*e);return s}function Ru(r,t){if(r.length!==t.length)return!1;for(let e=0,i=r.length;e<i;e++)if(r[e]!==t[e])return!1;return!0}function Du(r,t){for(let e=0,i=r.length;e<i;e++)r[e]=t[e]}var Ks=0;function Ma(r){Ks>100||(console.warn(r),Ks++,Ks>100&&console.warn("More than 100 program warnings - stopping logs."))}var Zs=new I,Iu=1,Si=class{constructor({canvas:t=document.createElement("canvas"),width:e=300,height:i=150,dpr:s=1,alpha:n=!1,depth:o=!0,stencil:a=!1,antialias:l=!1,premultipliedAlpha:h=!1,preserveDrawingBuffer:c=!1,powerPreference:u="default",autoClear:f=!0,webgl:p=2}={}){let m={alpha:n,depth:o,stencil:a,antialias:l,premultipliedAlpha:h,preserveDrawingBuffer:c,powerPreference:u};this.dpr=s,this.alpha=n,this.color=!0,this.depth=o,this.stencil=a,this.premultipliedAlpha=h,this.autoClear=f,this.id=Iu++,p===2&&(this.gl=t.getContext("webgl2",m)),this.isWebgl2=!!this.gl,this.gl||(this.gl=t.getContext("webgl",m)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(e,i),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(t,e){this.width=t,this.height=e,this.gl.canvas.width=t*this.dpr,this.gl.canvas.height=e*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:t+"px",height:e+"px"})}setViewport(t,e,i=0,s=0){this.state.viewport.width===t&&this.state.viewport.height===e||(this.state.viewport.width=t,this.state.viewport.height=e,this.state.viewport.x=i,this.state.viewport.y=s,this.gl.viewport(i,s,t,e))}setScissor(t,e,i=0,s=0){this.gl.scissor(i,s,t,e)}enable(t){this.state[t]!==!0&&(this.gl.enable(t),this.state[t]=!0)}disable(t){this.state[t]!==!1&&(this.gl.disable(t),this.state[t]=!1)}setBlendFunc(t,e,i,s){this.state.blendFunc.src===t&&this.state.blendFunc.dst===e&&this.state.blendFunc.srcAlpha===i&&this.state.blendFunc.dstAlpha===s||(this.state.blendFunc.src=t,this.state.blendFunc.dst=e,this.state.blendFunc.srcAlpha=i,this.state.blendFunc.dstAlpha=s,i!==void 0?this.gl.blendFuncSeparate(t,e,i,s):this.gl.blendFunc(t,e))}setBlendEquation(t,e){t=t||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===t&&this.state.blendEquation.modeAlpha===e)&&(this.state.blendEquation.modeRGB=t,this.state.blendEquation.modeAlpha=e,e!==void 0?this.gl.blendEquationSeparate(t,e):this.gl.blendEquation(t))}setCullFace(t){this.state.cullFace!==t&&(this.state.cullFace=t,this.gl.cullFace(t))}setFrontFace(t){this.state.frontFace!==t&&(this.state.frontFace=t,this.gl.frontFace(t))}setDepthMask(t){this.state.depthMask!==t&&(this.state.depthMask=t,this.gl.depthMask(t))}setDepthFunc(t){this.state.depthFunc!==t&&(this.state.depthFunc=t,this.gl.depthFunc(t))}setStencilMask(t){this.state.stencilMask!==t&&(this.state.stencilMask=t,this.gl.stencilMask(t))}setStencilFunc(t,e,i){this.state.stencilFunc===t&&this.state.stencilRef===e&&this.state.stencilFuncMask===i||(this.state.stencilFunc=t||this.gl.ALWAYS,this.state.stencilRef=e||0,this.state.stencilFuncMask=i||0,this.gl.stencilFunc(t||this.gl.ALWAYS,e||0,i||0))}setStencilOp(t,e,i){this.state.stencilFail===t&&this.state.stencilDepthFail===e&&this.state.stencilDepthPass===i||(this.state.stencilFail=t,this.state.stencilDepthFail=e,this.state.stencilDepthPass=i,this.gl.stencilOp(t,e,i))}activeTexture(t){this.state.activeTextureUnit!==t&&(this.state.activeTextureUnit=t,this.gl.activeTexture(this.gl.TEXTURE0+t))}bindFramebuffer({target:t=this.gl.FRAMEBUFFER,buffer:e=null}={}){this.state.framebuffer!==e&&(this.state.framebuffer=e,this.gl.bindFramebuffer(t,e))}getExtension(t,e,i){return e&&this.gl[e]?this.gl[e].bind(this.gl):(this.extensions[t]||(this.extensions[t]=this.gl.getExtension(t)),e?this.extensions[t]?this.extensions[t][i].bind(this.extensions[t]):null:this.extensions[t])}sortOpaque(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program.id!==e.program.id?t.program.id-e.program.id:t.zDepth!==e.zDepth?t.zDepth-e.zDepth:e.id-t.id}sortTransparent(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.zDepth!==e.zDepth?e.zDepth-t.zDepth:e.id-t.id}sortUI(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program.id!==e.program.id?t.program.id-e.program.id:e.id-t.id}getRenderList({scene:t,camera:e,frustumCull:i,sort:s}){let n=[];if(e&&i&&e.updateFrustum(),t.traverse(o=>{if(!o.visible)return!0;o.draw&&(i&&o.frustumCulled&&e&&!e.frustumIntersectsMesh(o)||n.push(o))}),s){let o=[],a=[],l=[];n.forEach(h=>{h.program.transparent?h.program.depthTest?a.push(h):l.push(h):o.push(h),h.zDepth=0,!(h.renderOrder!==0||!h.program.depthTest||!e)&&(h.worldMatrix.getTranslation(Zs),Zs.applyMatrix4(e.projectionViewMatrix),h.zDepth=Zs.z)}),o.sort(this.sortOpaque),a.sort(this.sortTransparent),l.sort(this.sortUI),n=o.concat(a,l)}return n}render({scene:t,camera:e,target:i=null,update:s=!0,sort:n=!0,frustumCull:o=!0,clear:a}){i===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(i),this.setViewport(i.width,i.height)),(a||this.autoClear&&a!==!1)&&(this.depth&&(!i||i.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!i||i.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),s&&t.updateMatrixWorld(),e&&e.updateMatrixWorld(),this.getRenderList({scene:t,camera:e,frustumCull:o,sort:n}).forEach(h=>{h.draw({camera:e})})}};function gr(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}function _r(r,t,e,i,s){return r[0]=t,r[1]=e,r[2]=i,r[3]=s,r}function Js(r,t,e){return r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e,r[3]=t[3]*e,r}function xr(r,t){let e=t[0],i=t[1],s=t[2],n=t[3],o=e*e+i*i+s*s+n*n;return o>0&&(o=1/Math.sqrt(o)),r[0]=e*o,r[1]=i*o,r[2]=s*o,r[3]=n*o,r}function yr(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]+r[3]*t[3]}function ka(r){return r[0]=0,r[1]=0,r[2]=0,r[3]=1,r}function Fa(r,t,e){e=e*.5;let i=Math.sin(e);return r[0]=i*t[0],r[1]=i*t[1],r[2]=i*t[2],r[3]=Math.cos(e),r}function tn(r,t,e){let i=t[0],s=t[1],n=t[2],o=t[3],a=e[0],l=e[1],h=e[2],c=e[3];return r[0]=i*c+o*a+s*h-n*l,r[1]=s*c+o*l+n*a-i*h,r[2]=n*c+o*h+i*l-s*a,r[3]=o*c-i*a-s*l-n*h,r}function La(r,t,e){e*=.5;let i=t[0],s=t[1],n=t[2],o=t[3],a=Math.sin(e),l=Math.cos(e);return r[0]=i*l+o*a,r[1]=s*l+n*a,r[2]=n*l-s*a,r[3]=o*l-i*a,r}function Pa(r,t,e){e*=.5;let i=t[0],s=t[1],n=t[2],o=t[3],a=Math.sin(e),l=Math.cos(e);return r[0]=i*l-n*a,r[1]=s*l+o*a,r[2]=n*l+i*a,r[3]=o*l-s*a,r}function Oa(r,t,e){e*=.5;let i=t[0],s=t[1],n=t[2],o=t[3],a=Math.sin(e),l=Math.cos(e);return r[0]=i*l+s*a,r[1]=s*l-i*a,r[2]=n*l+o*a,r[3]=o*l-n*a,r}function za(r,t,e,i){let s=t[0],n=t[1],o=t[2],a=t[3],l=e[0],h=e[1],c=e[2],u=e[3],f,p,m,d,g;return p=s*l+n*h+o*c+a*u,p<0&&(p=-p,l=-l,h=-h,c=-c,u=-u),1-p>1e-6?(f=Math.acos(p),m=Math.sin(f),d=Math.sin((1-i)*f)/m,g=Math.sin(i*f)/m):(d=1-i,g=i),r[0]=d*s+g*l,r[1]=d*n+g*h,r[2]=d*o+g*c,r[3]=d*a+g*u,r}function Ra(r,t){let e=t[0],i=t[1],s=t[2],n=t[3],o=e*e+i*i+s*s+n*n,a=o?1/o:0;return r[0]=-e*a,r[1]=-i*a,r[2]=-s*a,r[3]=n*a,r}function Da(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r[3]=t[3],r}function Ia(r,t){let e=t[0]+t[4]+t[8],i;if(e>0)i=Math.sqrt(e+1),r[3]=.5*i,i=.5/i,r[0]=(t[5]-t[7])*i,r[1]=(t[6]-t[2])*i,r[2]=(t[1]-t[3])*i;else{let s=0;t[4]>t[0]&&(s=1),t[8]>t[s*3+s]&&(s=2);let n=(s+1)%3,o=(s+2)%3;i=Math.sqrt(t[s*3+s]-t[n*3+n]-t[o*3+o]+1),r[s]=.5*i,i=.5/i,r[3]=(t[n*3+o]-t[o*3+n])*i,r[n]=(t[n*3+s]+t[s*3+n])*i,r[o]=(t[o*3+s]+t[s*3+o])*i}return r}function Na(r,t,e="YXZ"){let i=Math.sin(t[0]*.5),s=Math.cos(t[0]*.5),n=Math.sin(t[1]*.5),o=Math.cos(t[1]*.5),a=Math.sin(t[2]*.5),l=Math.cos(t[2]*.5);return e==="XYZ"?(r[0]=i*o*l+s*n*a,r[1]=s*n*l-i*o*a,r[2]=s*o*a+i*n*l,r[3]=s*o*l-i*n*a):e==="YXZ"?(r[0]=i*o*l+s*n*a,r[1]=s*n*l-i*o*a,r[2]=s*o*a-i*n*l,r[3]=s*o*l+i*n*a):e==="ZXY"?(r[0]=i*o*l-s*n*a,r[1]=s*n*l+i*o*a,r[2]=s*o*a+i*n*l,r[3]=s*o*l-i*n*a):e==="ZYX"?(r[0]=i*o*l-s*n*a,r[1]=s*n*l+i*o*a,r[2]=s*o*a-i*n*l,r[3]=s*o*l+i*n*a):e==="YZX"?(r[0]=i*o*l+s*n*a,r[1]=s*n*l+i*o*a,r[2]=s*o*a-i*n*l,r[3]=s*o*l-i*n*a):e==="XZY"&&(r[0]=i*o*l-s*n*a,r[1]=s*n*l-i*o*a,r[2]=s*o*a+i*n*l,r[3]=s*o*l+i*n*a),r}var Ba=gr,Va=_r;var Ua=yr;var $a=xr;var oe=class extends Array{constructor(t=0,e=0,i=0,s=1){super(t,e,i,s),this.onChange=()=>{},this._target=this;let n=["0","1","2","3"];return new Proxy(this,{set(o,a){let l=Reflect.set(...arguments);return l&&n.includes(a)&&o.onChange(),l}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(t){this._target[0]=t,this.onChange()}set y(t){this._target[1]=t,this.onChange()}set z(t){this._target[2]=t,this.onChange()}set w(t){this._target[3]=t,this.onChange()}identity(){return ka(this._target),this.onChange(),this}set(t,e,i,s){return t.length?this.copy(t):(Va(this._target,t,e,i,s),this.onChange(),this)}rotateX(t){return La(this._target,this._target,t),this.onChange(),this}rotateY(t){return Pa(this._target,this._target,t),this.onChange(),this}rotateZ(t){return Oa(this._target,this._target,t),this.onChange(),this}inverse(t=this._target){return Ra(this._target,t),this.onChange(),this}conjugate(t=this._target){return Da(this._target,t),this.onChange(),this}copy(t){return Ba(this._target,t),this.onChange(),this}normalize(t=this._target){return $a(this._target,t),this.onChange(),this}multiply(t,e){return e?tn(this._target,t,e):tn(this._target,this._target,t),this.onChange(),this}dot(t){return Ua(this._target,t)}fromMatrix3(t){return Ia(this._target,t),this.onChange(),this}fromEuler(t,e){return Na(this._target,t,t.order),e||this.onChange(),this}fromAxisAngle(t,e){return Fa(this._target,t,e),this.onChange(),this}slerp(t,e){return za(this._target,this._target,t,e),this.onChange(),this}fromArray(t,e=0){return this._target[0]=t[e],this._target[1]=t[e+1],this._target[2]=t[e+2],this._target[3]=t[e+3],this.onChange(),this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t[e+3]=this[3],t}};var Bu=1e-6;function Ha(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}function qa(r,t,e,i,s,n,o,a,l,h,c,u,f,p,m,d,g){return r[0]=t,r[1]=e,r[2]=i,r[3]=s,r[4]=n,r[5]=o,r[6]=a,r[7]=l,r[8]=h,r[9]=c,r[10]=u,r[11]=f,r[12]=p,r[13]=m,r[14]=d,r[15]=g,r}function Ga(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function Ya(r,t){let e=t[0],i=t[1],s=t[2],n=t[3],o=t[4],a=t[5],l=t[6],h=t[7],c=t[8],u=t[9],f=t[10],p=t[11],m=t[12],d=t[13],g=t[14],_=t[15],x=e*a-i*o,y=e*l-s*o,v=e*h-n*o,w=i*l-s*a,b=i*h-n*a,E=s*h-n*l,T=c*d-u*m,A=c*g-f*m,M=c*_-p*m,C=u*g-f*d,F=u*_-p*d,L=f*_-p*g,k=x*L-y*F+v*C+w*M-b*A+E*T;return k?(k=1/k,r[0]=(a*L-l*F+h*C)*k,r[1]=(s*F-i*L-n*C)*k,r[2]=(d*E-g*b+_*w)*k,r[3]=(f*b-u*E-p*w)*k,r[4]=(l*M-o*L-h*A)*k,r[5]=(e*L-s*M+n*A)*k,r[6]=(g*v-m*E-_*y)*k,r[7]=(c*E-f*v+p*y)*k,r[8]=(o*F-a*M+h*T)*k,r[9]=(i*M-e*F-n*T)*k,r[10]=(m*b-d*v+_*x)*k,r[11]=(u*v-c*b-p*x)*k,r[12]=(a*A-o*C-l*T)*k,r[13]=(e*C-i*A+s*T)*k,r[14]=(d*y-m*w-g*x)*k,r[15]=(c*w-u*y+f*x)*k,r):null}function en(r){let t=r[0],e=r[1],i=r[2],s=r[3],n=r[4],o=r[5],a=r[6],l=r[7],h=r[8],c=r[9],u=r[10],f=r[11],p=r[12],m=r[13],d=r[14],g=r[15],_=t*o-e*n,x=t*a-i*n,y=t*l-s*n,v=e*a-i*o,w=e*l-s*o,b=i*l-s*a,E=h*m-c*p,T=h*d-u*p,A=h*g-f*p,M=c*d-u*m,C=c*g-f*m,F=u*g-f*d;return _*F-x*C+y*M+v*A-w*T+b*E}function rn(r,t,e){let i=t[0],s=t[1],n=t[2],o=t[3],a=t[4],l=t[5],h=t[6],c=t[7],u=t[8],f=t[9],p=t[10],m=t[11],d=t[12],g=t[13],_=t[14],x=t[15],y=e[0],v=e[1],w=e[2],b=e[3];return r[0]=y*i+v*a+w*u+b*d,r[1]=y*s+v*l+w*f+b*g,r[2]=y*n+v*h+w*p+b*_,r[3]=y*o+v*c+w*m+b*x,y=e[4],v=e[5],w=e[6],b=e[7],r[4]=y*i+v*a+w*u+b*d,r[5]=y*s+v*l+w*f+b*g,r[6]=y*n+v*h+w*p+b*_,r[7]=y*o+v*c+w*m+b*x,y=e[8],v=e[9],w=e[10],b=e[11],r[8]=y*i+v*a+w*u+b*d,r[9]=y*s+v*l+w*f+b*g,r[10]=y*n+v*h+w*p+b*_,r[11]=y*o+v*c+w*m+b*x,y=e[12],v=e[13],w=e[14],b=e[15],r[12]=y*i+v*a+w*u+b*d,r[13]=y*s+v*l+w*f+b*g,r[14]=y*n+v*h+w*p+b*_,r[15]=y*o+v*c+w*m+b*x,r}function ja(r,t,e){let i=e[0],s=e[1],n=e[2],o,a,l,h,c,u,f,p,m,d,g,_;return t===r?(r[12]=t[0]*i+t[4]*s+t[8]*n+t[12],r[13]=t[1]*i+t[5]*s+t[9]*n+t[13],r[14]=t[2]*i+t[6]*s+t[10]*n+t[14],r[15]=t[3]*i+t[7]*s+t[11]*n+t[15]):(o=t[0],a=t[1],l=t[2],h=t[3],c=t[4],u=t[5],f=t[6],p=t[7],m=t[8],d=t[9],g=t[10],_=t[11],r[0]=o,r[1]=a,r[2]=l,r[3]=h,r[4]=c,r[5]=u,r[6]=f,r[7]=p,r[8]=m,r[9]=d,r[10]=g,r[11]=_,r[12]=o*i+c*s+m*n+t[12],r[13]=a*i+u*s+d*n+t[13],r[14]=l*i+f*s+g*n+t[14],r[15]=h*i+p*s+_*n+t[15]),r}function Xa(r,t,e){let i=e[0],s=e[1],n=e[2];return r[0]=t[0]*i,r[1]=t[1]*i,r[2]=t[2]*i,r[3]=t[3]*i,r[4]=t[4]*s,r[5]=t[5]*s,r[6]=t[6]*s,r[7]=t[7]*s,r[8]=t[8]*n,r[9]=t[9]*n,r[10]=t[10]*n,r[11]=t[11]*n,r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}function Wa(r,t,e,i){let s=i[0],n=i[1],o=i[2],a=Math.hypot(s,n,o),l,h,c,u,f,p,m,d,g,_,x,y,v,w,b,E,T,A,M,C,F,L,k,R;return Math.abs(a)<Bu?null:(a=1/a,s*=a,n*=a,o*=a,l=Math.sin(e),h=Math.cos(e),c=1-h,u=t[0],f=t[1],p=t[2],m=t[3],d=t[4],g=t[5],_=t[6],x=t[7],y=t[8],v=t[9],w=t[10],b=t[11],E=s*s*c+h,T=n*s*c+o*l,A=o*s*c-n*l,M=s*n*c-o*l,C=n*n*c+h,F=o*n*c+s*l,L=s*o*c+n*l,k=n*o*c-s*l,R=o*o*c+h,r[0]=u*E+d*T+y*A,r[1]=f*E+g*T+v*A,r[2]=p*E+_*T+w*A,r[3]=m*E+x*T+b*A,r[4]=u*M+d*C+y*F,r[5]=f*M+g*C+v*F,r[6]=p*M+_*C+w*F,r[7]=m*M+x*C+b*F,r[8]=u*L+d*k+y*R,r[9]=f*L+g*k+v*R,r[10]=p*L+_*k+w*R,r[11]=m*L+x*k+b*R,t!==r&&(r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r)}function Qa(r,t){return r[0]=t[12],r[1]=t[13],r[2]=t[14],r}function sn(r,t){let e=t[0],i=t[1],s=t[2],n=t[4],o=t[5],a=t[6],l=t[8],h=t[9],c=t[10];return r[0]=Math.hypot(e,i,s),r[1]=Math.hypot(n,o,a),r[2]=Math.hypot(l,h,c),r}function Ka(r){let t=r[0],e=r[1],i=r[2],s=r[4],n=r[5],o=r[6],a=r[8],l=r[9],h=r[10],c=t*t+e*e+i*i,u=s*s+n*n+o*o,f=a*a+l*l+h*h;return Math.sqrt(Math.max(c,u,f))}var nn=function(){let r=[1,1,1];return function(t,e){let i=r;sn(i,e);let s=1/i[0],n=1/i[1],o=1/i[2],a=e[0]*s,l=e[1]*n,h=e[2]*o,c=e[4]*s,u=e[5]*n,f=e[6]*o,p=e[8]*s,m=e[9]*n,d=e[10]*o,g=a+u+d,_=0;return g>0?(_=Math.sqrt(g+1)*2,t[3]=.25*_,t[0]=(f-m)/_,t[1]=(p-h)/_,t[2]=(l-c)/_):a>u&&a>d?(_=Math.sqrt(1+a-u-d)*2,t[3]=(f-m)/_,t[0]=.25*_,t[1]=(l+c)/_,t[2]=(p+h)/_):u>d?(_=Math.sqrt(1+u-a-d)*2,t[3]=(p-h)/_,t[0]=(l+c)/_,t[1]=.25*_,t[2]=(f+m)/_):(_=Math.sqrt(1+d-a-u)*2,t[3]=(l-c)/_,t[0]=(p+h)/_,t[1]=(f+m)/_,t[2]=.25*_),t}}();function Za(r,t,e,i){let s=Ie([r[0],r[1],r[2]]),n=Ie([r[4],r[5],r[6]]),o=Ie([r[8],r[9],r[10]]);en(r)<0&&(s=-s),e[0]=r[12],e[1]=r[13],e[2]=r[14];let l=r.slice(),h=1/s,c=1/n,u=1/o;l[0]*=h,l[1]*=h,l[2]*=h,l[4]*=c,l[5]*=c,l[6]*=c,l[8]*=u,l[9]*=u,l[10]*=u,nn(t,l),i[0]=s,i[1]=n,i[2]=o}function Ja(r,t,e,i){let s=r,n=t[0],o=t[1],a=t[2],l=t[3],h=n+n,c=o+o,u=a+a,f=n*h,p=n*c,m=n*u,d=o*c,g=o*u,_=a*u,x=l*h,y=l*c,v=l*u,w=i[0],b=i[1],E=i[2];return s[0]=(1-(d+_))*w,s[1]=(p+v)*w,s[2]=(m-y)*w,s[3]=0,s[4]=(p-v)*b,s[5]=(1-(f+_))*b,s[6]=(g+x)*b,s[7]=0,s[8]=(m+y)*E,s[9]=(g-x)*E,s[10]=(1-(f+d))*E,s[11]=0,s[12]=e[0],s[13]=e[1],s[14]=e[2],s[15]=1,s}function tl(r,t){let e=t[0],i=t[1],s=t[2],n=t[3],o=e+e,a=i+i,l=s+s,h=e*o,c=i*o,u=i*a,f=s*o,p=s*a,m=s*l,d=n*o,g=n*a,_=n*l;return r[0]=1-u-m,r[1]=c+_,r[2]=f-g,r[3]=0,r[4]=c-_,r[5]=1-h-m,r[6]=p+d,r[7]=0,r[8]=f+g,r[9]=p-d,r[10]=1-h-u,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function el(r,t,e,i,s){let n=1/Math.tan(t/2),o=1/(i-s);return r[0]=n/e,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=n,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(s+i)*o,r[11]=-1,r[12]=0,r[13]=0,r[14]=2*s*i*o,r[15]=0,r}function il(r,t,e,i,s,n,o){let a=1/(t-e),l=1/(i-s),h=1/(n-o);return r[0]=-2*a,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*l,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*h,r[11]=0,r[12]=(t+e)*a,r[13]=(s+i)*l,r[14]=(o+n)*h,r[15]=1,r}function rl(r,t,e,i){let s=t[0],n=t[1],o=t[2],a=i[0],l=i[1],h=i[2],c=s-e[0],u=n-e[1],f=o-e[2],p=c*c+u*u+f*f;p===0?f=1:(p=1/Math.sqrt(p),c*=p,u*=p,f*=p);let m=l*f-h*u,d=h*c-a*f,g=a*u-l*c;return p=m*m+d*d+g*g,p===0&&(h?a+=1e-6:l?h+=1e-6:l+=1e-6,m=l*f-h*u,d=h*c-a*f,g=a*u-l*c,p=m*m+d*d+g*g),p=1/Math.sqrt(p),m*=p,d*=p,g*=p,r[0]=m,r[1]=d,r[2]=g,r[3]=0,r[4]=u*g-f*d,r[5]=f*m-c*g,r[6]=c*d-u*m,r[7]=0,r[8]=c,r[9]=u,r[10]=f,r[11]=0,r[12]=s,r[13]=n,r[14]=o,r[15]=1,r}function on(r,t,e){return r[0]=t[0]+e[0],r[1]=t[1]+e[1],r[2]=t[2]+e[2],r[3]=t[3]+e[3],r[4]=t[4]+e[4],r[5]=t[5]+e[5],r[6]=t[6]+e[6],r[7]=t[7]+e[7],r[8]=t[8]+e[8],r[9]=t[9]+e[9],r[10]=t[10]+e[10],r[11]=t[11]+e[11],r[12]=t[12]+e[12],r[13]=t[13]+e[13],r[14]=t[14]+e[14],r[15]=t[15]+e[15],r}function an(r,t,e){return r[0]=t[0]-e[0],r[1]=t[1]-e[1],r[2]=t[2]-e[2],r[3]=t[3]-e[3],r[4]=t[4]-e[4],r[5]=t[5]-e[5],r[6]=t[6]-e[6],r[7]=t[7]-e[7],r[8]=t[8]-e[8],r[9]=t[9]-e[9],r[10]=t[10]-e[10],r[11]=t[11]-e[11],r[12]=t[12]-e[12],r[13]=t[13]-e[13],r[14]=t[14]-e[14],r[15]=t[15]-e[15],r}function sl(r,t,e){return r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e,r[3]=t[3]*e,r[4]=t[4]*e,r[5]=t[5]*e,r[6]=t[6]*e,r[7]=t[7]*e,r[8]=t[8]*e,r[9]=t[9]*e,r[10]=t[10]*e,r[11]=t[11]*e,r[12]=t[12]*e,r[13]=t[13]*e,r[14]=t[14]*e,r[15]=t[15]*e,r}var st=class extends Array{constructor(t=1,e=0,i=0,s=0,n=0,o=1,a=0,l=0,h=0,c=0,u=1,f=0,p=0,m=0,d=0,g=1){return super(t,e,i,s,n,o,a,l,h,c,u,f,p,m,d,g),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(t){this[12]=t}set y(t){this[13]=t}set z(t){this[14]=t}set w(t){this[15]=t}set(t,e,i,s,n,o,a,l,h,c,u,f,p,m,d,g){return t.length?this.copy(t):(qa(this,t,e,i,s,n,o,a,l,h,c,u,f,p,m,d,g),this)}translate(t,e=this){return ja(this,e,t),this}rotate(t,e,i=this){return Wa(this,i,t,e),this}scale(t,e=this){return Xa(this,e,typeof t=="number"?[t,t,t]:t),this}add(t,e){return e?on(this,t,e):on(this,this,t),this}sub(t,e){return e?an(this,t,e):an(this,this,t),this}multiply(t,e){return t.length?e?rn(this,t,e):rn(this,this,t):sl(this,this,t),this}identity(){return Ga(this),this}copy(t){return Ha(this,t),this}fromPerspective({fov:t,aspect:e,near:i,far:s}={}){return el(this,t,e,i,s),this}fromOrthogonal({left:t,right:e,bottom:i,top:s,near:n,far:o}){return il(this,t,e,i,s,n,o),this}fromQuaternion(t){return tl(this,t),this}setPosition(t){return this.x=t[0],this.y=t[1],this.z=t[2],this}inverse(t=this){return Ya(this,t),this}compose(t,e,i){return Ja(this,t,e,i),this}decompose(t,e,i){return Za(this,t,e,i),this}getRotation(t){return nn(t,this),this}getTranslation(t){return Qa(t,this),this}getScaling(t){return sn(t,this),this}getMaxScaleOnAxis(){return Ka(this)}lookAt(t,e,i){return rl(this,t,e,i),this}determinant(){return en(this)}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this[3]=t[e+3],this[4]=t[e+4],this[5]=t[e+5],this[6]=t[e+6],this[7]=t[e+7],this[8]=t[e+8],this[9]=t[e+9],this[10]=t[e+10],this[11]=t[e+11],this[12]=t[e+12],this[13]=t[e+13],this[14]=t[e+14],this[15]=t[e+15],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t[e+3]=this[3],t[e+4]=this[4],t[e+5]=this[5],t[e+6]=this[6],t[e+7]=this[7],t[e+8]=this[8],t[e+9]=this[9],t[e+10]=this[10],t[e+11]=this[11],t[e+12]=this[12],t[e+13]=this[13],t[e+14]=this[14],t[e+15]=this[15],t}};function nl(r,t,e="YXZ"){return e==="XYZ"?(r[1]=Math.asin(Math.min(Math.max(t[8],-1),1)),Math.abs(t[8])<.99999?(r[0]=Math.atan2(-t[9],t[10]),r[2]=Math.atan2(-t[4],t[0])):(r[0]=Math.atan2(t[6],t[5]),r[2]=0)):e==="YXZ"?(r[0]=Math.asin(-Math.min(Math.max(t[9],-1),1)),Math.abs(t[9])<.99999?(r[1]=Math.atan2(t[8],t[10]),r[2]=Math.atan2(t[1],t[5])):(r[1]=Math.atan2(-t[2],t[0]),r[2]=0)):e==="ZXY"?(r[0]=Math.asin(Math.min(Math.max(t[6],-1),1)),Math.abs(t[6])<.99999?(r[1]=Math.atan2(-t[2],t[10]),r[2]=Math.atan2(-t[4],t[5])):(r[1]=0,r[2]=Math.atan2(t[1],t[0]))):e==="ZYX"?(r[1]=Math.asin(-Math.min(Math.max(t[2],-1),1)),Math.abs(t[2])<.99999?(r[0]=Math.atan2(t[6],t[10]),r[2]=Math.atan2(t[1],t[0])):(r[0]=0,r[2]=Math.atan2(-t[4],t[5]))):e==="YZX"?(r[2]=Math.asin(Math.min(Math.max(t[1],-1),1)),Math.abs(t[1])<.99999?(r[0]=Math.atan2(-t[9],t[5]),r[1]=Math.atan2(-t[2],t[0])):(r[0]=0,r[1]=Math.atan2(t[8],t[10]))):e==="XZY"&&(r[2]=Math.asin(-Math.min(Math.max(t[4],-1),1)),Math.abs(t[4])<.99999?(r[0]=Math.atan2(t[6],t[5]),r[1]=Math.atan2(t[8],t[0])):(r[0]=Math.atan2(-t[9],t[10]),r[1]=0)),r}var ol=new st,vr=class extends Array{constructor(t=0,e=t,i=t,s="YXZ"){super(t,e,i),this.order=s,this.onChange=()=>{},this._target=this;let n=["0","1","2"];return new Proxy(this,{set(o,a){let l=Reflect.set(...arguments);return l&&n.includes(a)&&o.onChange(),l}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this._target[0]=t,this.onChange()}set y(t){this._target[1]=t,this.onChange()}set z(t){this._target[2]=t,this.onChange()}set(t,e=t,i=t){return t.length?this.copy(t):(this._target[0]=t,this._target[1]=e,this._target[2]=i,this.onChange(),this)}copy(t){return this._target[0]=t[0],this._target[1]=t[1],this._target[2]=t[2],this.onChange(),this}reorder(t){return this._target.order=t,this.onChange(),this}fromRotationMatrix(t,e=this.order){return nl(this._target,t,e),this.onChange(),this}fromQuaternion(t,e=this.order,i){return ol.fromQuaternion(t),this._target.fromRotationMatrix(ol,e),i||this.onChange(),this}fromArray(t,e=0){return this._target[0]=t[e],this._target[1]=t[e+1],this._target[2]=t[e+2],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t}};var _t=class{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new st,this.worldMatrix=new st,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new I,this.quaternion=new oe,this.scale=new I(1),this.rotation=new vr,this.up=new I(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(t,e=!0){this.parent&&t!==this.parent&&this.parent.removeChild(this,!1),this.parent=t,e&&t&&t.addChild(this,!1)}addChild(t,e=!0){~this.children.indexOf(t)||this.children.push(t),e&&t.setParent(this,!1)}removeChild(t,e=!0){~this.children.indexOf(t)&&this.children.splice(this.children.indexOf(t),1),e&&t.setParent(null,!1)}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||t)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,t=!0);for(let e=0,i=this.children.length;e<i;e++)this.children[e].updateMatrixWorld(t)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(t){if(!t(this))for(let e=0,i=this.children.length;e<i;e++)this.children[e].traverse(t)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(t,e=!1){e?this.matrix.lookAt(this.position,t,this.up):this.matrix.lookAt(t,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}};var $u=new st,Hu=new I,qu=new I,Ne=class extends _t{constructor(t,{near:e=.1,far:i=100,fov:s=45,aspect:n=1,left:o,right:a,bottom:l,top:h,zoom:c=1}={}){super(),Object.assign(this,{near:e,far:i,fov:s,aspect:n,left:o,right:a,bottom:l,top:h,zoom:c}),this.projectionMatrix=new st,this.viewMatrix=new st,this.projectionViewMatrix=new st,this.worldPosition=new I,this.type=o||a?"orthographic":"perspective",this.type==="orthographic"?this.orthographic():this.perspective()}perspective({near:t=this.near,far:e=this.far,fov:i=this.fov,aspect:s=this.aspect}={}){return Object.assign(this,{near:t,far:e,fov:i,aspect:s}),this.projectionMatrix.fromPerspective({fov:i*(Math.PI/180),aspect:s,near:t,far:e}),this.type="perspective",this}orthographic({near:t=this.near,far:e=this.far,left:i=this.left||-1,right:s=this.right||1,bottom:n=this.bottom||-1,top:o=this.top||1,zoom:a=this.zoom}={}){return Object.assign(this,{near:t,far:e,left:i,right:s,bottom:n,top:o,zoom:a}),i/=a,s/=a,n/=a,o/=a,this.projectionMatrix.fromOrthogonal({left:i,right:s,bottom:n,top:o,near:t,far:e}),this.type="orthographic",this}updateMatrixWorld(){return super.updateMatrixWorld(),this.viewMatrix.inverse(this.worldMatrix),this.worldMatrix.getTranslation(this.worldPosition),this.projectionViewMatrix.multiply(this.projectionMatrix,this.viewMatrix),this}updateProjectionMatrix(){return this.type==="perspective"?this.perspective():this.orthographic()}lookAt(t){return super.lookAt(t,!0),this}project(t){return t.applyMatrix4(this.viewMatrix),t.applyMatrix4(this.projectionMatrix),this}unproject(t){return t.applyMatrix4($u.inverse(this.projectionMatrix)),t.applyMatrix4(this.worldMatrix),this}updateFrustum(){this.frustum||(this.frustum=[new I,new I,new I,new I,new I,new I]);let t=this.projectionViewMatrix;this.frustum[0].set(t[3]-t[0],t[7]-t[4],t[11]-t[8]).constant=t[15]-t[12],this.frustum[1].set(t[3]+t[0],t[7]+t[4],t[11]+t[8]).constant=t[15]+t[12],this.frustum[2].set(t[3]+t[1],t[7]+t[5],t[11]+t[9]).constant=t[15]+t[13],this.frustum[3].set(t[3]-t[1],t[7]-t[5],t[11]-t[9]).constant=t[15]-t[13],this.frustum[4].set(t[3]-t[2],t[7]-t[6],t[11]-t[10]).constant=t[15]-t[14],this.frustum[5].set(t[3]+t[2],t[7]+t[6],t[11]+t[10]).constant=t[15]+t[14];for(let e=0;e<6;e++){let i=1/this.frustum[e].distance();this.frustum[e].multiply(i),this.frustum[e].constant*=i}}frustumIntersectsMesh(t,e=t.worldMatrix){if(!t.geometry.attributes.position||((!t.geometry.bounds||t.geometry.bounds.radius===1/0)&&t.geometry.computeBoundingSphere(),!t.geometry.bounds))return!0;let i=Hu;i.copy(t.geometry.bounds.center),i.applyMatrix4(e);let s=t.geometry.bounds.radius*e.getMaxScaleOnAxis();return this.frustumIntersectsSphere(i,s)}frustumIntersectsSphere(t,e){let i=qu;for(let s=0;s<6;s++){let n=this.frustum[s];if(i.copy(n).dot(t)+n.constant<-e)return!1}return!0}};function al(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[4],r[4]=t[5],r[5]=t[6],r[6]=t[8],r[7]=t[9],r[8]=t[10],r}function ll(r,t){let e=t[0],i=t[1],s=t[2],n=t[3],o=e+e,a=i+i,l=s+s,h=e*o,c=i*o,u=i*a,f=s*o,p=s*a,m=s*l,d=n*o,g=n*a,_=n*l;return r[0]=1-u-m,r[3]=c-_,r[6]=f+g,r[1]=c+_,r[4]=1-h-m,r[7]=p-d,r[2]=f-g,r[5]=p+d,r[8]=1-h-u,r}function hl(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r}function cl(r,t,e,i,s,n,o,a,l,h){return r[0]=t,r[1]=e,r[2]=i,r[3]=s,r[4]=n,r[5]=o,r[6]=a,r[7]=l,r[8]=h,r}function ul(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=1,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r}function fl(r,t){let e=t[0],i=t[1],s=t[2],n=t[3],o=t[4],a=t[5],l=t[6],h=t[7],c=t[8],u=c*o-a*h,f=-c*n+a*l,p=h*n-o*l,m=e*u+i*f+s*p;return m?(m=1/m,r[0]=u*m,r[1]=(-c*i+s*h)*m,r[2]=(a*i-s*o)*m,r[3]=f*m,r[4]=(c*e-s*l)*m,r[5]=(-a*e+s*n)*m,r[6]=p*m,r[7]=(-h*e+i*l)*m,r[8]=(o*e-i*n)*m,r):null}function ln(r,t,e){let i=t[0],s=t[1],n=t[2],o=t[3],a=t[4],l=t[5],h=t[6],c=t[7],u=t[8],f=e[0],p=e[1],m=e[2],d=e[3],g=e[4],_=e[5],x=e[6],y=e[7],v=e[8];return r[0]=f*i+p*o+m*h,r[1]=f*s+p*a+m*c,r[2]=f*n+p*l+m*u,r[3]=d*i+g*o+_*h,r[4]=d*s+g*a+_*c,r[5]=d*n+g*l+_*u,r[6]=x*i+y*o+v*h,r[7]=x*s+y*a+v*c,r[8]=x*n+y*l+v*u,r}function dl(r,t,e){let i=t[0],s=t[1],n=t[2],o=t[3],a=t[4],l=t[5],h=t[6],c=t[7],u=t[8],f=e[0],p=e[1];return r[0]=i,r[1]=s,r[2]=n,r[3]=o,r[4]=a,r[5]=l,r[6]=f*i+p*o+h,r[7]=f*s+p*a+c,r[8]=f*n+p*l+u,r}function pl(r,t,e){let i=t[0],s=t[1],n=t[2],o=t[3],a=t[4],l=t[5],h=t[6],c=t[7],u=t[8],f=Math.sin(e),p=Math.cos(e);return r[0]=p*i+f*o,r[1]=p*s+f*a,r[2]=p*n+f*l,r[3]=p*o-f*i,r[4]=p*a-f*s,r[5]=p*l-f*n,r[6]=h,r[7]=c,r[8]=u,r}function ml(r,t,e){let i=e[0],s=e[1];return r[0]=i*t[0],r[1]=i*t[1],r[2]=i*t[2],r[3]=s*t[3],r[4]=s*t[4],r[5]=s*t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r}function gl(r,t){let e=t[0],i=t[1],s=t[2],n=t[3],o=t[4],a=t[5],l=t[6],h=t[7],c=t[8],u=t[9],f=t[10],p=t[11],m=t[12],d=t[13],g=t[14],_=t[15],x=e*a-i*o,y=e*l-s*o,v=e*h-n*o,w=i*l-s*a,b=i*h-n*a,E=s*h-n*l,T=c*d-u*m,A=c*g-f*m,M=c*_-p*m,C=u*g-f*d,F=u*_-p*d,L=f*_-p*g,k=x*L-y*F+v*C+w*M-b*A+E*T;return k?(k=1/k,r[0]=(a*L-l*F+h*C)*k,r[1]=(l*M-o*L-h*A)*k,r[2]=(o*F-a*M+h*T)*k,r[3]=(s*F-i*L-n*C)*k,r[4]=(e*L-s*M+n*A)*k,r[5]=(i*M-e*F-n*T)*k,r[6]=(d*E-g*b+_*w)*k,r[7]=(g*v-m*E-_*y)*k,r[8]=(m*b-d*v+_*x)*k,r):null}var wr=class extends Array{constructor(t=1,e=0,i=0,s=0,n=1,o=0,a=0,l=0,h=1){return super(t,e,i,s,n,o,a,l,h),this}set(t,e,i,s,n,o,a,l,h){return t.length?this.copy(t):(cl(this,t,e,i,s,n,o,a,l,h),this)}translate(t,e=this){return dl(this,e,t),this}rotate(t,e=this){return pl(this,e,t),this}scale(t,e=this){return ml(this,e,t),this}multiply(t,e){return e?ln(this,t,e):ln(this,this,t),this}identity(){return ul(this),this}copy(t){return hl(this,t),this}fromMatrix4(t){return al(this,t),this}fromQuaternion(t){return ll(this,t),this}fromBasis(t,e,i){return this.set(t[0],t[1],t[2],e[0],e[1],e[2],i[0],i[1],i[2]),this}inverse(t=this){return fl(this,t),this}getNormalMatrix(t){return gl(this,t),this}};var Yu=0,xt=class extends _t{constructor(t,{geometry:e,program:i,mode:s=t.TRIANGLES,frustumCulled:n=!0,renderOrder:o=0}={}){super(),t.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=t,this.id=Yu++,this.geometry=e,this.program=i,this.mode=s,this.frustumCulled=n,this.renderOrder=o,this.modelViewMatrix=new st,this.normalMatrix=new wr,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(t){return this.beforeRenderCallbacks.push(t),this}onAfterRender(t){return this.afterRenderCallbacks.push(t),this}draw({camera:t}={}){t&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=t.projectionMatrix,this.program.uniforms.cameraPosition.value=t.worldPosition,this.program.uniforms.viewMatrix.value=t.viewMatrix,this.modelViewMatrix.multiply(t.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(i=>i&&i({mesh:this,camera:t}));let e=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:e}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(i=>i&&i({mesh:this,camera:t}))}};var _l=new Uint8Array(4);function xl(r){return(r&r-1)===0}var ju=1,yt=class{constructor(t,{image:e,target:i=t.TEXTURE_2D,type:s=t.UNSIGNED_BYTE,format:n=t.RGBA,internalFormat:o=n,wrapS:a=t.CLAMP_TO_EDGE,wrapT:l=t.CLAMP_TO_EDGE,wrapR:h=t.CLAMP_TO_EDGE,generateMipmaps:c=i===(t.TEXTURE_2D||t.TEXTURE_CUBE_MAP),minFilter:u=c?t.NEAREST_MIPMAP_LINEAR:t.LINEAR,magFilter:f=t.LINEAR,premultiplyAlpha:p=!1,unpackAlignment:m=4,flipY:d=i==(t.TEXTURE_2D||t.TEXTURE_3D),anisotropy:g=0,level:_=0,width:x,height:y=x,length:v=1}={}){this.gl=t,this.id=ju++,this.image=e,this.target=i,this.type=s,this.format=n,this.internalFormat=o,this.minFilter=u,this.magFilter=f,this.wrapS=a,this.wrapT=l,this.wrapR=h,this.generateMipmaps=c,this.premultiplyAlpha=p,this.unpackAlignment=m,this.flipY=d,this.anisotropy=Math.min(g,this.gl.renderer.parameters.maxAnisotropy),this.level=_,this.width=x,this.height=y,this.length=v,this.texture=this.gl.createTexture(),this.store={image:null},this.glState=this.gl.renderer.state,this.state={},this.state.minFilter=this.gl.NEAREST_MIPMAP_LINEAR,this.state.magFilter=this.gl.LINEAR,this.state.wrapS=this.gl.REPEAT,this.state.wrapT=this.gl.REPEAT,this.state.anisotropy=0}bind(){this.glState.textureUnits[this.glState.activeTextureUnit]!==this.id&&(this.gl.bindTexture(this.target,this.texture),this.glState.textureUnits[this.glState.activeTextureUnit]=this.id)}update(t=0){let e=!(this.image===this.store.image&&!this.needsUpdate);if((e||this.glState.textureUnits[t]!==this.id)&&(this.gl.renderer.activeTexture(t),this.bind()),!!e){if(this.needsUpdate=!1,this.flipY!==this.glState.flipY&&(this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,this.flipY),this.glState.flipY=this.flipY),this.premultiplyAlpha!==this.glState.premultiplyAlpha&&(this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),this.glState.premultiplyAlpha=this.premultiplyAlpha),this.unpackAlignment!==this.glState.unpackAlignment&&(this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,this.unpackAlignment),this.glState.unpackAlignment=this.unpackAlignment),this.minFilter!==this.state.minFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MIN_FILTER,this.minFilter),this.state.minFilter=this.minFilter),this.magFilter!==this.state.magFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MAG_FILTER,this.magFilter),this.state.magFilter=this.magFilter),this.wrapS!==this.state.wrapS&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_S,this.wrapS),this.state.wrapS=this.wrapS),this.wrapT!==this.state.wrapT&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_T,this.wrapT),this.state.wrapT=this.wrapT),this.wrapR!==this.state.wrapR&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_R,this.wrapR),this.state.wrapR=this.wrapR),this.anisotropy&&this.anisotropy!==this.state.anisotropy&&(this.gl.texParameterf(this.target,this.gl.renderer.getExtension("EXT_texture_filter_anisotropic").TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropy),this.state.anisotropy=this.anisotropy),this.image){if(this.image.width&&(this.width=this.image.width,this.height=this.image.height),this.target===this.gl.TEXTURE_CUBE_MAP)for(let i=0;i<6;i++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+i,this.level,this.internalFormat,this.format,this.type,this.image[i]);else if(ArrayBuffer.isView(this.image))this.target===this.gl.TEXTURE_2D?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,this.image):(this.target===this.gl.TEXTURE_2D_ARRAY||this.target===this.gl.TEXTURE_3D)&&this.gl.texImage3D(this.target,this.level,this.internalFormat,this.width,this.height,this.length,0,this.format,this.type,this.image);else if(this.image.isCompressedTexture)for(let i=0;i<this.image.length;i++)this.gl.compressedTexImage2D(this.target,i,this.internalFormat,this.image[i].width,this.image[i].height,0,this.image[i].data);else this.target===this.gl.TEXTURE_2D?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.format,this.type,this.image):this.gl.texImage3D(this.target,this.level,this.internalFormat,this.width,this.height,this.length,0,this.format,this.type,this.image);this.generateMipmaps&&(!this.gl.renderer.isWebgl2&&(!xl(this.image.width)||!xl(this.image.height))?(this.generateMipmaps=!1,this.wrapS=this.wrapT=this.gl.CLAMP_TO_EDGE,this.minFilter=this.gl.LINEAR):this.gl.generateMipmap(this.target)),this.onUpdate&&this.onUpdate()}else if(this.target===this.gl.TEXTURE_CUBE_MAP)for(let i=0;i<6;i++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,_l);else this.width?this.target===this.gl.TEXTURE_2D?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,null):this.gl.texImage3D(this.target,this.level,this.internalFormat,this.width,this.height,this.length,0,this.format,this.type,null):this.gl.texImage2D(this.target,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,_l);this.store.image=this.image}}};var Je=class{constructor(t,{width:e=t.canvas.width,height:i=t.canvas.height,target:s=t.FRAMEBUFFER,color:n=1,depth:o=!0,stencil:a=!1,depthTexture:l=!1,wrapS:h=t.CLAMP_TO_EDGE,wrapT:c=t.CLAMP_TO_EDGE,wrapR:u=t.CLAMP_TO_EDGE,minFilter:f=t.LINEAR,magFilter:p=f,type:m=t.UNSIGNED_BYTE,format:d=t.RGBA,internalFormat:g=d,unpackAlignment:_,premultiplyAlpha:x}={}){this.gl=t,this.width=e,this.height=i,this.depth=o,this.stencil=a,this.buffer=this.gl.createFramebuffer(),this.target=s,this.gl.renderer.bindFramebuffer(this),this.textures=[];let y=[];for(let v=0;v<n;v++)this.textures.push(new yt(t,{width:e,height:i,wrapS:h,wrapT:c,wrapR:u,minFilter:f,magFilter:p,type:m,format:d,internalFormat:g,unpackAlignment:_,premultiplyAlpha:x,flipY:!1,generateMipmaps:!1})),this.textures[v].update(),this.gl.framebufferTexture2D(this.target,this.gl.COLOR_ATTACHMENT0+v,this.gl.TEXTURE_2D,this.textures[v].texture,0),y.push(this.gl.COLOR_ATTACHMENT0+v);y.length>1&&this.gl.renderer.drawBuffers(y),this.texture=this.textures[0],l&&(this.gl.renderer.isWebgl2||this.gl.renderer.getExtension("WEBGL_depth_texture"))?(this.depthTexture=new yt(t,{width:e,height:i,minFilter:this.gl.NEAREST,magFilter:this.gl.NEAREST,format:this.stencil?this.gl.DEPTH_STENCIL:this.gl.DEPTH_COMPONENT,internalFormat:t.renderer.isWebgl2?this.stencil?this.gl.DEPTH24_STENCIL8:this.gl.DEPTH_COMPONENT16:this.gl.DEPTH_COMPONENT,type:this.stencil?this.gl.UNSIGNED_INT_24_8:this.gl.UNSIGNED_INT}),this.depthTexture.update(),this.gl.framebufferTexture2D(this.target,this.stencil?this.gl.DEPTH_STENCIL_ATTACHMENT:this.gl.DEPTH_ATTACHMENT,this.gl.TEXTURE_2D,this.depthTexture.texture,0)):(o&&!a&&(this.depthBuffer=this.gl.createRenderbuffer(),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.depthBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_COMPONENT16,e,i),this.gl.framebufferRenderbuffer(this.target,this.gl.DEPTH_ATTACHMENT,this.gl.RENDERBUFFER,this.depthBuffer)),a&&!o&&(this.stencilBuffer=this.gl.createRenderbuffer(),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.stencilBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.STENCIL_INDEX8,e,i),this.gl.framebufferRenderbuffer(this.target,this.gl.STENCIL_ATTACHMENT,this.gl.RENDERBUFFER,this.stencilBuffer)),o&&a&&(this.depthStencilBuffer=this.gl.createRenderbuffer(),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.depthStencilBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_STENCIL,e,i),this.gl.framebufferRenderbuffer(this.target,this.gl.DEPTH_STENCIL_ATTACHMENT,this.gl.RENDERBUFFER,this.depthStencilBuffer))),this.gl.renderer.bindFramebuffer({target:this.target})}setSize(t,e){if(!(this.width===t&&this.height===e)){this.width=t,this.height=e,this.gl.renderer.bindFramebuffer(this);for(let i=0;i<this.textures.length;i++)this.textures[i].width=t,this.textures[i].height=e,this.textures[i].needsUpdate=!0,this.textures[i].update(),this.gl.framebufferTexture2D(this.target,this.gl.COLOR_ATTACHMENT0+i,this.gl.TEXTURE_2D,this.textures[i].texture,0);this.depthTexture?(this.depthTexture.width=t,this.depthTexture.height=e,this.depthTexture.needsUpdate=!0,this.depthTexture.update(),this.gl.framebufferTexture2D(this.target,this.gl.DEPTH_ATTACHMENT,this.gl.TEXTURE_2D,this.depthTexture.texture,0)):(this.depthBuffer&&(this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.depthBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_COMPONENT16,t,e)),this.stencilBuffer&&(this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.stencilBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.STENCIL_INDEX8,t,e)),this.depthStencilBuffer&&(this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.depthStencilBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_STENCIL,t,e))),this.gl.renderer.bindFramebuffer({target:this.target})}}};var br=class extends Array{constructor(t=0,e=t,i=t,s=t){return super(t,e,i,s),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(t){this[0]=t}set y(t){this[1]=t}set z(t){this[2]=t}set w(t){this[3]=t}set(t,e=t,i=t,s=t){return t.length?this.copy(t):(_r(this,t,e,i,s),this)}copy(t){return gr(this,t),this}normalize(){return xr(this,this),this}multiply(t){return Js(this,this,t),this}dot(t){return yr(this,t)}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this[3]=t[e+3],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t[e+3]=this[3],t}};var Mi=class r extends Vt{constructor(t,{width:e=1,height:i=1,widthSegments:s=1,heightSegments:n=1,attributes:o={}}={}){let a=s,l=n,h=(a+1)*(l+1),c=a*l*6,u=new Float32Array(h*3),f=new Float32Array(h*3),p=new Float32Array(h*2),m=c>65536?new Uint32Array(c):new Uint16Array(c);r.buildPlane(u,f,p,m,e,i,0,a,l),Object.assign(o,{position:{size:3,data:u},normal:{size:3,data:f},uv:{size:2,data:p},index:{data:m}}),super(t,o)}static buildPlane(t,e,i,s,n,o,a,l,h,c=0,u=1,f=2,p=1,m=-1,d=0,g=0){let _=d,x=n/l,y=o/h;for(let v=0;v<=h;v++){let w=v*y-o/2;for(let b=0;b<=l;b++,d++){let E=b*x-n/2;if(t[d*3+c]=E*p,t[d*3+u]=w*m,t[d*3+f]=a/2,e[d*3+c]=0,e[d*3+u]=0,e[d*3+f]=a>=0?1:-1,i[d*2]=b/l,i[d*2+1]=1-v/h,v===h||b===l)continue;let T=_+b+v*(l+1),A=_+b+(v+1)*(l+1),M=_+b+(v+1)*(l+1)+1,C=_+b+v*(l+1)+1;s[g*6]=T,s[g*6+1]=A,s[g*6+2]=C,s[g*6+3]=A,s[g*6+4]=M,s[g*6+5]=C,g++}}}};var Ci=class extends Vt{constructor(t,{attributes:e={}}={}){Object.assign(e,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(t,e)}};var Xu=`
    precision highp float;
    precision highp int;

    attribute vec3 position;
    attribute vec3 normal;

    uniform mat3 normalMatrix;
    uniform mat4 modelViewMatrix;
    uniform mat4 projectionMatrix;

    varying vec3 vNormal;

    void main() {
        vNormal = normalize(normalMatrix * normal);
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }
`,Wu=`
    precision highp float;
    precision highp int;

    varying vec3 vNormal;

    void main() {
        gl_FragColor.rgb = normalize(vNormal);
        gl_FragColor.a = 1.0;
    }
`;function yl(r){return new Ut(r,{vertex:Xu,fragment:Wu,cullFace:!1})}var vl=new I,Qu=new I,Ku=new I,Zu=new I,wl=new oe,Ju=new oe,tf=new oe,ef=new oe,Er=class{constructor(t,e=1){this.data=t,this.elapsed=0,this.weight=e,this.loop=!0,this.startTime=t.reduce((i,{times:s})=>Math.min(i,s[0]),1/0),this.endTime=t.reduce((i,{times:s})=>Math.max(i,s[s.length-1]),0),this.duration=this.endTime-this.startTime}update(t=1,e){let i=e?1:this.weight/t,s=this.duration?(this.loop?this.elapsed%this.duration:Math.min(this.elapsed,this.duration-.001))+this.startTime:0;this.data.forEach(({node:n,transform:o,interpolation:a,times:l,values:h})=>{if(!this.duration){let x=vl,y=3;o==="quaternion"&&(x=wl,y=4),x.fromArray(h,0),y===4?n[o].slerp(x,i):n[o].lerp(x,i);return}let c=Math.max(1,l.findIndex(x=>x>s))-1,u=c+1,f=(s-l[c])/(l[u]-l[c]);a==="STEP"&&(f=0);let p=vl,m=Qu,d=Ku,g=Zu,_=3;o==="quaternion"&&(p=wl,m=Ju,d=tf,g=ef,_=4),a==="CUBICSPLINE"?(p.fromArray(h,c*_*3+_*1),m.fromArray(h,c*_*3+_*2),d.fromArray(h,u*_*3+_*0),g.fromArray(h,u*_*3+_*1),p=this.cubicSplineInterpolate(f,p,m,d,g),_===4&&p.normalize()):(p.fromArray(h,c*_),g.fromArray(h,u*_),_===4?p.slerp(g,f):p.lerp(g,f)),_===4?n[o].slerp(p,i):n[o].lerp(p,i)})}cubicSplineInterpolate(t,e,i,s,n){let o=t*t,a=o*t,l=3*o-2*a,h=a-o,c=1-l,u=h-o+t;for(let f=0;f<e.length;f++)e[f]=c*e[f]+u*(1-t)*i[f]+l*n[f]+h*t*s[f];return e}};var bl=new st,rf=new st,Ar=class extends xt{constructor(t,{skeleton:e,geometry:i,program:s,mode:n=t.TRIANGLES}={}){super(t,{geometry:i,program:s,mode:n}),this.skeleton=e,this.program=s,this.createBoneTexture()}createBoneTexture(){if(!this.skeleton.joints.length)return;let t=Math.max(4,Math.pow(2,Math.ceil(Math.log(Math.sqrt(this.skeleton.joints.length*4))/Math.LN2)));this.boneMatrices=new Float32Array(t*t*4),this.boneTextureSize=t,this.boneTexture=new yt(this.gl,{image:this.boneMatrices,generateMipmaps:!1,type:this.gl.FLOAT,internalFormat:this.gl.renderer.isWebgl2?this.gl.RGBA32F:this.gl.RGBA,minFilter:this.gl.NEAREST,magFilter:this.gl.NEAREST,flipY:!1,width:t})}updateUniforms(){this.skeleton.joints.forEach((t,e)=>{bl.multiply(t.worldMatrix,t.bindInverse),this.boneMatrices.set(bl,e*16)}),this.boneTexture.needsUpdate=!0,this.program.uniforms.boneTexture.value=this.boneTexture,this.program.uniforms.boneTextureSize.value=this.boneTextureSize}draw({camera:t}={}){this.program.uniforms.boneTexture||Object.assign(this.program.uniforms,{boneTexture:{value:this.boneTexture},boneTextureSize:{value:this.boneTextureSize}}),this.updateUniforms();let e=this.worldMatrix;this.worldMatrix=rf,super.draw({camera:t}),this.worldMatrix=e}};var Tr=class extends xt{constructor(...t){super(...t),this.frustumCulled=!1,this.isInstancedMesh=!0}addFrustumCull(){this.instanceTransforms=null,this.instanceLightmapScaleOffset=null,this.totalInstanceCount=0,this.frustumCullFunction=null,this.instanceRenderList=null,this.geometry.attributes.instanceMatrix||console.error(`mesh ${this.name?`"${this.name}" `:""}missing instanceMatrix attribute; unable to frustum cull`);let t=this.geometry.attributes.instanceMatrix.data;this.instanceTransforms=[];for(let e=0,i=0;e<t.length;e+=16,i++){let s=new _t;s.index=i,s.matrix.fromArray(t,e),s.decompose(),this.instanceTransforms.push(s),s.setParent(this.parent)}if(this.totalInstanceCount=this.instanceTransforms.length,this.geometry.attributes.lightmapScaleOffset){let e=this.geometry.attributes.lightmapScaleOffset.data;for(let i=0,s=0;i<e.length;i+=4,s++)this.instanceTransforms[s].lightmapData=new br().fromArray(e,i)}this.frustumCullFunction=({camera:e})=>{this.instanceRenderList=[],this.instanceTransforms.forEach(i=>{e.frustumIntersectsMesh(this,i.worldMatrix)&&this.instanceRenderList.push(i)}),this.instanceRenderList.forEach((i,s)=>{i.matrix.toArray(this.geometry.attributes.instanceMatrix.data,s*16),i.lightmapData&&(i.lightmapData.toArray(this.geometry.attributes.lightmapScaleOffset.data,s*4),this.geometry.attributes.lightmapScaleOffset.needsUpdate=!0)}),this.geometry.instancedCount=this.instanceRenderList.length,this.geometry.attributes.instanceMatrix.needsUpdate=!0},this.onBeforeRender(this.frustumCullFunction)}removeFrustumCull(){this.offBeforeRender(this.frustumCullFunction),this.geometry.instancedCount=this.totalInstanceCount,this.instanceTransforms.forEach((t,e)=>{t.matrix.toArray(this.geometry.attributes.instanceMatrix.data,e*16),t.lightmapData&&(t.lightmapData.toArray(this.geometry.attributes.lightmapScaleOffset.data,e*4),this.geometry.attributes.lightmapScaleOffset.needsUpdate=!0)}),this.geometry.attributes.instanceMatrix.needsUpdate=!0}};var sf={5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array,"image/jpeg":Uint8Array,"image/png":Uint8Array},nf={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},of={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},af={translation:"position",rotation:"quaternion",scale:"scale"},ki=class{static setBasisManager(t){this.basisManager=t}static async load(t,e){let i=e.split("/").slice(0,-1).join("/")+"/",s=await this.parseDesc(e);return this.parse(t,s,i)}static async parse(t,e,i){var _;(e.asset===void 0||e.asset.version[0]<2)&&console.warn("Only GLTF >=2.0 supported. Attempting to parse."),(_=e.extensionsRequired)!=null&&_.includes("KHR_texture_basisu")&&!this.basisManager&&console.warn("KHR_texture_basisu extension required but no manager supplied. Use .setBasisManager()");let s=await this.loadBuffers(e,i);t.renderer.bindVertexArray(null);let n=this.parseBufferViews(t,e,s),o=await this.parseImages(t,e,i,n),a=this.parseTextures(t,e,o),l=this.parseMaterials(t,e,a),h=this.parseSkins(t,e,n),c=this.parseMeshes(t,e,n,l,h),[u,f]=this.parseNodes(t,e,c,h,o);this.populateSkins(h,u);let p=this.parseAnimations(t,e,u,n),m=this.parseScenes(e,u),d=m[e.scene],g=this.parseLights(t,e,u,m);for(let x=u.length;x>=0;x--)u[x]||u.splice(x,1);return{json:e,buffers:s,bufferViews:n,cameras:f,images:o,textures:a,materials:l,meshes:c,nodes:u,lights:g,animations:p,scenes:m,scene:d}}static parseDesc(t){return t.match(/\.glb/)?fetch(t).then(e=>e.arrayBuffer()).then(e=>this.unpackGLB(e)):fetch(t).then(e=>e.json())}static unpackGLB(t){let e=new Uint32Array(t,0,3);if(e[0]!==1179937895)throw new Error("Invalid glTF asset.");if(e[1]!==2)throw new Error(`Unsupported glTF binary version, "${e[1]}".`);let i=new Uint32Array(t,12,2),s=20,n=i[0];if(i[1]!==1313821514)throw new Error("Unexpected GLB layout.");let o=new TextDecoder().decode(t.slice(s,s+n)),a=JSON.parse(o);if(s+n===t.byteLength)return a;let l=new Uint32Array(t,s+n,2);if(l[1]!==5130562)throw new Error("Unexpected GLB layout.");let h=s+n+8,c=l[0],u=t.slice(h,h+c);return a.buffers[0].binary=u,a}static resolveURI(t,e){return typeof t!="string"||t===""?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}static loadBuffers(t,e){return t.buffers?Promise.all(t.buffers.map(i=>{if(i.binary)return i.binary;let s=this.resolveURI(i.uri,e);return fetch(s).then(n=>n.arrayBuffer())})):null}static parseBufferViews(t,e,i){if(!e.bufferViews)return null;let s=e.bufferViews.map(n=>Object.assign({},n));return e.meshes&&e.meshes.forEach(({primitives:n})=>{n.forEach(({attributes:o,indices:a})=>{for(let l in o)s[e.accessors[o[l]].bufferView].isAttribute=!0;a!==void 0&&(s[e.accessors[a].bufferView].isAttribute=!0,s[e.accessors[a].bufferView].target=t.ELEMENT_ARRAY_BUFFER)})}),e.accessors.forEach(({bufferView:n,componentType:o})=>{s[n].componentType=o}),e.images&&e.images.forEach(({uri:n,bufferView:o,mimeType:a})=>{o!==void 0&&(s[o].mimeType=a)}),s.forEach(({buffer:n,byteOffset:o=0,byteLength:a,byteStride:l,target:h=t.ARRAY_BUFFER,name:c,extensions:u,extras:f,componentType:p,mimeType:m,isAttribute:d},g)=>{if(s[g].data=i[n].slice(o,o+a),!d)return;let _=t.createBuffer();t.bindBuffer(h,_),t.renderer.state.boundBuffer=_,t.bufferData(h,s[g].data,t.STATIC_DRAW),s[g].buffer=_}),s}static parseImages(t,e,i,s){return e.images?Promise.all(e.images.map(async({uri:n,bufferView:o,mimeType:a,name:l})=>{if(a==="image/ktx2"){let{data:c}=s[o];return await this.basisManager.parseTexture(c)}let h=new Image;if(h.name=l,n)h.src=this.resolveURI(n,i);else if(o!==void 0){let{data:c}=s[o],u=new Blob([c],{type:a});h.src=URL.createObjectURL(u)}return h.ready=new Promise(c=>{h.onload=()=>c()}),h})):null}static parseTextures(t,e,i){return e.textures?e.textures.map(s=>this.createTexture(t,e,i,s)):null}static createTexture(t,e,i,{sampler:s,source:n,name:o,extensions:a,extras:l}){n===void 0&&a&&a.KHR_texture_basisu&&(n=a.KHR_texture_basisu.source);let h=i[n];if(h.texture)return h.texture;let c={flipY:!1,wrapS:t.REPEAT,wrapT:t.REPEAT},u=s!==void 0?e.samplers[s]:null;if(u&&["magFilter","minFilter","wrapS","wrapT"].forEach(p=>{u[p]&&(c[p]=u[p])}),h.isBasis){c.image=h,c.internalFormat=h.internalFormat,h.isCompressedTexture&&(c.generateMipmaps=!1,h.length>1&&(this.minFilter=t.NEAREST_MIPMAP_LINEAR));let p=new yt(t,c);return p.name=o,h.texture=p,p}let f=new yt(t,c);return f.name=o,h.texture=f,h.ready.then(()=>{f.image=h}),f}static parseMaterials(t,e,i){return e.materials?e.materials.map(({name:s,extensions:n,extras:o,pbrMetallicRoughness:a={},normalTexture:l,occlusionTexture:h,emissiveTexture:c,emissiveFactor:u=[0,0,0],alphaMode:f="OPAQUE",alphaCutoff:p=.5,doubleSided:m=!1})=>{let{baseColorFactor:d=[1,1,1,1],baseColorTexture:g,metallicFactor:_=1,roughnessFactor:x=1,metallicRoughnessTexture:y}=a;return g&&(g.texture=i[g.index]),l&&(l.texture=i[l.index]),y&&(y.texture=i[y.index]),h&&(h.texture=i[h.index]),c&&(c.texture=i[c.index]),{name:s,extensions:n,extras:o,baseColorFactor:d,baseColorTexture:g,metallicFactor:_,roughnessFactor:x,metallicRoughnessTexture:y,normalTexture:l,occlusionTexture:h,emissiveTexture:c,emissiveFactor:u,alphaMode:f,alphaCutoff:p,doubleSided:m}}):null}static parseSkins(t,e,i){return e.skins?e.skins.map(({inverseBindMatrices:s,skeleton:n,joints:o})=>({inverseBindMatrices:this.parseAccessor(s,e,i),skeleton:n,joints:o})):null}static parseMeshes(t,e,i,s,n){return e.meshes?e.meshes.map(({primitives:o,weights:a,name:l,extensions:h,extras:c={}},u)=>{let f=0,p=[],m=!1;return e.nodes&&e.nodes.forEach(({mesh:g,skin:_,extras:x})=>{g===u&&(f++,_!==void 0&&p.push(_),x&&x.lightmap_scale_offset&&(m=!0))}),!!p.length?(o=p.map(g=>this.parsePrimitives(t,o,e,i,s,1,m).map(({geometry:_,program:x,mode:y})=>{let v=new Ar(t,{skeleton:n[g],geometry:_,program:x,mode:y});return v.name=l,v.extras=c,h&&(v.extensions=h),v.frustumCulled=!1,v})),o.instanceCount=0,o.numInstances=f):o=this.parsePrimitives(t,o,e,i,s,f,m).map(({geometry:g,program:_,mode:x})=>{let y=g.attributes.instanceMatrix?Tr:xt,v=new y(t,{geometry:g,program:_,mode:x});return v.name=l,v.extras=c,h&&(v.extensions=h),v.numInstances=f,v}),{primitives:o,weights:a,name:l}}):null}static parsePrimitives(t,e,i,s,n,o,a){return e.map(({attributes:l,indices:h,material:c,mode:u=4,targets:f,extensions:p,extras:m})=>{let d=new yl(t);c!==void 0&&(d.gltfMaterial=n[c]);let g=new Vt(t);m&&(g.extras=m),p&&(g.extensions=p);for(let _ in l)g.addAttribute(of[_],this.parseAccessor(l[_],i,s));return h!==void 0&&g.addAttribute("index",this.parseAccessor(h,i,s)),o>1&&g.addAttribute("instanceMatrix",{instanced:1,size:16,data:new Float32Array(o*16)}),a&&g.addAttribute("lightmapScaleOffset",{instanced:1,size:4,data:new Float32Array(o*4)}),{geometry:g,program:d,mode:u}})}static parseAccessor(t,e,i){let{bufferView:s,byteOffset:n=0,componentType:o,normalized:a=!1,count:l,type:h,min:c,max:u,sparse:f}=e.accessors[t],{data:p,buffer:m,byteOffset:d=0,byteStride:g=0,target:_}=i[s],x=nf[h],y=sf[o],v=y.BYTES_PER_ELEMENT,w=g/v,b=!!g&&w!==x,E;if(b){let T=new y(p,n);E=new y(l*x);for(let A=0;A<l;A++){let M=w*A,C=M+x;E.set(T.slice(M,C),A*x)}}else E=new y(p,n,l*x);return{data:E,size:x,type:o,normalized:a,buffer:m,stride:g,offset:n,count:l,min:c,max:u}}static parseNodes(t,e,i,s,n){if(!e.nodes)return null;let o=[],a=e.nodes.map(({camera:l,children:h,skin:c,matrix:u,mesh:f,rotation:p,scale:m,translation:d,weights:g,name:_,extensions:x,extras:y})=>{let v=l!==void 0,w=v?new Ne(t):new _t;if(v){let M=e.cameras[l];if(M.type==="perspective"){let{yfov:C,znear:F,zfar:L}=M.perspective;w.perspective({fov:C*(180/Math.PI),near:F,far:L})}else{let{xmag:C,ymag:F,znear:L,zfar:k}=M.orthographic;w.orthographic({near:L,far:k,left:-C,right:C,top:-F,bottom:F})}o.push(w)}_&&(w.name=_),y&&(w.extras=y),x&&(w.extensions=x),y&&y.lightmapTexture!==void 0&&(y.lightmapTexture.texture=this.createTexture(t,e,n,{source:y.lightmapTexture.index})),u?(w.matrix.copy(u),w.decompose()):(p&&w.quaternion.copy(p),m&&w.scale.copy(m),d&&w.position.copy(d),w.updateMatrix());let b=!1,E=!0,T=!1;if(f!==void 0&&(c!==void 0?(i[f].primitives[i[f].primitives.instanceCount].forEach(M=>{y&&Object.assign(M.extras,y),M.setParent(w)}),i[f].primitives.instanceCount++,i[f].primitives.instanceCount===i[f].primitives.numInstances&&(delete i[f].primitives.numInstances,delete i[f].primitives.instanceCount)):i[f].primitives.forEach(M=>{y&&Object.assign(M.extras,y),M.geometry.isInstanced&&(b=!0,M.instanceCount?E=!1:M.instanceCount=0,M.geometry.attributes.instanceMatrix&&(T=!0,w.matrix.toArray(M.geometry.attributes.instanceMatrix.data,M.instanceCount*16)),M.geometry.attributes.lightmapScaleOffset&&M.geometry.attributes.lightmapScaleOffset.data.set(y.lightmap_scale_offset,M.instanceCount*4),M.instanceCount++,M.instanceCount===M.numInstances&&(delete M.numInstances,delete M.instanceCount,M.geometry.attributes.instanceMatrix&&(M.geometry.attributes.instanceMatrix.needsUpdate=!0),M.geometry.attributes.lightmapScaleOffset&&(M.geometry.attributes.lightmapScaleOffset.needsUpdate=!0))),b?E&&M.setParent(w):M.setParent(w)})),T){if(!E)return null;w.matrix.identity(),w.decompose()}return w});return e.nodes.forEach(({children:l=[]},h)=>{l.forEach(c=>{a[c]&&a[c].setParent(a[h])})}),i.forEach(({primitives:l},h)=>{l.forEach((c,u)=>{c.isInstancedMesh&&c.addFrustumCull()})}),[a,o]}static populateSkins(t,e){t&&t.forEach(i=>{i.joints=i.joints.map((s,n)=>{let o=e[s];return o.skin=i,o.bindInverse=new st(...i.inverseBindMatrices.data.slice(n*16,(n+1)*16)),o}),i.skeleton&&(i.skeleton=e[i.skeleton])})}static parseAnimations(t,e,i,s){return e.animations?e.animations.map(({channels:n,samplers:o,name:a},l)=>{let h=n.map(({sampler:c,target:u})=>{let{input:f,interpolation:p="LINEAR",output:m}=o[c],{node:d,path:g}=u,_=i[d],x=af[g],y=this.parseAccessor(f,e,s).data,v=this.parseAccessor(m,e,s).data;return _.animations||(_.animations=[]),_.animations.includes(l)||_.animations.push(l),{node:_,transform:x,interpolation:p,times:y,values:v}});return{name:a,animation:new Er(h)}}):null}static parseScenes(t,e){return t.scenes?t.scenes.map(({nodes:i=[],name:s,extensions:n,extras:o})=>{let a=i.reduce((l,h)=>(e[h]&&l.push(e[h]),l),[]);return a.extras=o,a}):null}static parseLights(t,e,i,s){var a,l;let n={directional:[],point:[],spot:[]};s.forEach(h=>h.forEach(c=>c.updateMatrixWorld()));let o=((l=(a=e.extensions)==null?void 0:a.KHR_lights_punctual)==null?void 0:l.lights)||[];return i.forEach(h=>{var p;if(!((p=h==null?void 0:h.extensions)!=null&&p.KHR_lights_punctual))return;let c=h.extensions.KHR_lights_punctual.light,u=o[c],f={name:u.name||"",color:{value:new I().set(u.color||1)}};switch(u.intensity!==void 0&&f.color.value.multiply(u.intensity),u.type){case"directional":f.direction={value:new I(0,0,1).transformDirection(h.worldMatrix)};break;case"point":f.position={value:new I().applyMatrix4(h.worldMatrix)},f.distance={value:u.range},f.decay={value:2};break;case"spot":Object.assign(f,u);break}n[u.type].push(f)}),n}};var Sr=class extends Ne{constructor(t,{fov:e=25}){super(),this.gl=t,this.fov=e}get fovInRad(){return this.fov*Math.PI/180}getViewSize(t){let e=Math.abs(this.position.z*Math.tan(this.fovInRad/2)*2);return{w:e*t,h:e}}};var El=`#define MPI 3.1415926538
#define MTAU 6.28318530718
attribute vec2 uv;attribute vec2 position;varying vec2 v_uv;void main(){vec2 pos=position;gl_Position=vec4(pos,0,1);v_uv=uv;}`;var Al="precision highp float;const vec3 BLUE_DARK=vec3(0.0,0.0,0.5);const vec3 BLUE_LIGHT=vec3(0.0,0.0,1.0);vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x,289.0);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float simplex3d(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+1.0*C.xxx;vec3 x2=x0-i2+2.0*C.xxx;vec3 x3=x0-1.+3.0*C.xxx;i=mod(i,289.0);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=1.0/7.0;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}uniform float u_time;uniform vec3 u_color_dark1;uniform vec3 u_color_dark2;uniform vec3 u_color_light1;uniform vec3 u_color_light2;uniform float u_a_dark;uniform sampler2D u_sparkle;varying vec2 v_uv;uniform vec2 u_a_mouse;const vec2 light_focus=vec2(0.75,0.5);uniform float u_BG_POWER;void main(){float ns=smoothstep(0.,1.,simplex3d(vec3(v_uv*1.+u_time,u_time*1.5)));float ho_grad=smoothstep(0.5,1.,v_uv.x+ns);float dist=distance(v_uv,vec2(0.,.7));dist=smoothstep(0.1,1.,dist);float grad=ns*dist;vec3 col1=mix(u_color_dark1*1.2,u_color_dark2,grad);vec3 col2=mix(u_color_light1,u_color_light2,grad);vec3 color=mix(col2*u_BG_POWER,col1,u_a_dark);vec4 sparkle=texture2D(u_sparkle,v_uv);color=mix(color,sparkle.rgb,sparkle.a);gl_FragColor.rgb=color;gl_FragColor.a=1.0;}";function hn(r,t,e){return r*(1-e)+t*e}function Tl(r,t,e,i,s){return i+(s-i)*(r-t)/(e-t)}function Mr(r,t,e){return Math.min(Math.max(e,r),t)}var Sl=`#define MPI 3.1415926538
#define MTAU 6.28318530718
attribute vec3 position;attribute vec3 normal;attribute vec2 uv;attribute vec3 a_posmod;attribute float a_random;attribute vec4 a_id;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat3 normalMatrix;uniform float u_time;varying vec3 v_normal;varying vec2 v_uv;varying float v_random;vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x,289.0);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float simplex3d(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+1.0*C.xxx;vec3 x2=x0-i2+2.0*C.xxx;vec3 x3=x0-1.+3.0*C.xxx;i=mod(i,289.0);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=1.0/7.0;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}void main(){vec3 pos=position;float ns=simplex3d(vec3(pos.x+u_time,pos.y,pos.z));pos*=vec3(.1);float time_mult=u_time*(a_random*2.+1.)*.02;vec3 posmod=a_posmod;float multi=1.;float multi_time=2.;posmod.x+=sin(time_mult*multi_time+v_random+posmod.x*.7)*multi;posmod.y+=sin(time_mult*multi_time+v_random+posmod.y*.2)*multi;posmod.z+=sin(time_mult*multi_time+v_random+posmod.z*.5)*multi;pos+=posmod;pos*=4.;gl_Position=projectionMatrix*modelViewMatrix*vec4(pos,1.0);v_normal=normalize(normalMatrix*normal);v_uv=uv;v_random=a_random;}`;var Ml="precision highp float;varying vec3 v_normal;varying vec2 v_uv;varying vec4 v_color;varying float v_random;uniform float u_time;uniform float u_a_scroll;void main(){float dist=distance(v_uv,vec2(0.5));float alpha=1.0-smoothstep(0.,0.5,dist);float color=smoothstep(0.8,0.1,dist);alpha*=(v_random*0.5+0.5+sin(u_time*3.+v_random*10.))*.5-u_a_scroll;gl_FragColor.rgb=vec3(color);gl_FragColor.a=alpha*.4;}";var Cr=class extends xt{constructor(t,e=70,{attribs:i}={}){i||(i=new Mi(t).attributes),super(t,{geometry:new Vt(t,{...i,...ff(e)}),program:new cn(t)});let s=.1;this.scale.set(s,s,s),z.on("PAGE",n=>this.pageChange(n)),this.pageChange(z.PAGE)}pageChange(t){t==="home"?this.visible=!0:this.visible=!1}resize(){}render(t){this.program.time=t}},cn=class extends Ut{constructor(t,e={}){super(t,{vertex:Sl,fragment:Ml,transparent:!0,cullFace:null,depthTest:!1,depthWrite:!1,uniforms:{u_time:{value:0},u_a_scroll:{value:0}}})}set time(t){this.uniforms.u_time.value=t;let e=O.scene.bg.track?O.scene.bg.track.value:0;this.uniforms.u_a_scroll.value=e}};function ff(r){let t=new Float32Array(r*4),e=new Float32Array(r*3),i=new Float32Array(r*1);for(let s=0;s<r;s+=1){let n=s+1;t.set([(n>>0&255)/255,(n>>8&255)/255,(n>>16&255)/255,(n>>24&255)/255],s*4),e.set([Math.random()*5-2.5,Math.random()*5-2.5,Math.random()*5-2.5],s*3),i.set([Math.random()*4],s)}return{a_id:{instanced:1,size:4,data:t},a_random:{instanced:1,size:1,data:i},a_posmod:{instanced:1,size:3,data:e}}}var Cl=r=>{let t=r.getBoundingClientRect(),e=H.scroll.y;return{top:t.top+e,bottom:t.bottom+e,width:t.width,height:t.height,left:t.left,right:t.right,wh:window.innerHeight,ww:window.innerWidth,offset:t.top+e}};var kr,kl,ti=class extends ge{constructor({element:e,config:i,cb:s,addClass:n}){super({element:e,config:i,cb:s,addClass:n});Pn(this,kr);this.element=e,this.config={bounds:[0,1],top:"bottom",bottom:"top",...i},this.value=0,this.resize(),this.scrollUnsub=H.scroll.subscribe(On(this,kr,kl).bind(this))}resize(){this.bounds=df(this.element,this.config)}destroy(){this.stop(),this.in.disconnect(),this.out.disconnect(),this.scrollUnsub()}};kr=new WeakSet,kl=function(){this.value=Mr(0,1,Tl(H.scroll.y,this.bounds.top,this.bounds.bottom,this.config.bounds[0],this.config.bounds[1])),this.render&&this.render(this.value)};function df(r,t){let e=Cl(r);switch(t.top){case"top":e.top=e.top;break;case"center":e.top=e.top-e.wh/2;break;case"bottom":e.top=e.top-e.wh;break}switch(t.bottom){case"top":e.bottom=e.bottom;break;case"center":e.bottom=e.bottom-e.wh/2;break;case"bottom":e.bottom=e.bottom-e.wh;break}return{...e}}var xe=class r{constructor(t,e,i,s,n="div"){this.parent=t,this.object=e,this.property=i,this._disabled=!1,this._hidden=!1,this.initialValue=this.getValue(),this.domElement=document.createElement(n),this.domElement.classList.add("controller"),this.domElement.classList.add(s),this.$name=document.createElement("div"),this.$name.classList.add("name"),r.nextNameID=r.nextNameID||0,this.$name.id=`lil-gui-name-${++r.nextNameID}`,this.$widget=document.createElement("div"),this.$widget.classList.add("widget"),this.$disable=this.$widget,this.domElement.appendChild(this.$name),this.domElement.appendChild(this.$widget),this.domElement.addEventListener("keydown",o=>o.stopPropagation()),this.domElement.addEventListener("keyup",o=>o.stopPropagation()),this.parent.children.push(this),this.parent.controllers.push(this),this.parent.$children.appendChild(this.domElement),this._listenCallback=this._listenCallback.bind(this),this.name(i)}name(t){return this._name=t,this.$name.textContent=t,this}onChange(t){return this._onChange=t,this}_callOnChange(){this.parent._callOnChange(this),this._onChange!==void 0&&this._onChange.call(this,this.getValue()),this._changed=!0}onFinishChange(t){return this._onFinishChange=t,this}_callOnFinishChange(){this._changed&&(this.parent._callOnFinishChange(this),this._onFinishChange!==void 0&&this._onFinishChange.call(this,this.getValue())),this._changed=!1}reset(){return this.setValue(this.initialValue),this._callOnFinishChange(),this}enable(t=!0){return this.disable(!t)}disable(t=!0){return t===this._disabled?this:(this._disabled=t,this.domElement.classList.toggle("disabled",t),this.$disable.toggleAttribute("disabled",t),this)}show(t=!0){return this._hidden=!t,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}options(t){let e=this.parent.add(this.object,this.property,t);return e.name(this._name),this.destroy(),e}min(t){return this}max(t){return this}step(t){return this}decimals(t){return this}listen(t=!0){return this._listening=t,this._listenCallbackID!==void 0&&(cancelAnimationFrame(this._listenCallbackID),this._listenCallbackID=void 0),this._listening&&this._listenCallback(),this}_listenCallback(){this._listenCallbackID=requestAnimationFrame(this._listenCallback);let t=this.save();t!==this._listenPrevValue&&this.updateDisplay(),this._listenPrevValue=t}getValue(){return this.object[this.property]}setValue(t){return this.getValue()!==t&&(this.object[this.property]=t,this._callOnChange(),this.updateDisplay()),this}updateDisplay(){return this}load(t){return this.setValue(t),this._callOnFinishChange(),this}save(){return this.getValue()}destroy(){this.listen(!1),this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.controllers.splice(this.parent.controllers.indexOf(this),1),this.parent.$children.removeChild(this.domElement)}},un=class extends xe{constructor(t,e,i){super(t,e,i,"boolean","label"),this.$input=document.createElement("input"),this.$input.setAttribute("type","checkbox"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$input.addEventListener("change",()=>{this.setValue(this.$input.checked),this._callOnFinishChange()}),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.checked=this.getValue(),this}};function fn(r){let t,e;return(t=r.match(/(#|0x)?([a-f0-9]{6})/i))?e=t[2]:(t=r.match(/rgb\(\s*(\d*)\s*,\s*(\d*)\s*,\s*(\d*)\s*\)/))?e=parseInt(t[1]).toString(16).padStart(2,0)+parseInt(t[2]).toString(16).padStart(2,0)+parseInt(t[3]).toString(16).padStart(2,0):(t=r.match(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i))&&(e=t[1]+t[1]+t[2]+t[2]+t[3]+t[3]),e?"#"+e:!1}var pf={isPrimitive:!0,match:r=>typeof r=="string",fromHexString:fn,toHexString:fn},Li={isPrimitive:!0,match:r=>typeof r=="number",fromHexString:r=>parseInt(r.substring(1),16),toHexString:r=>"#"+r.toString(16).padStart(6,0)},mf={isPrimitive:!1,match:r=>Array.isArray(r),fromHexString(r,t,e=1){let i=Li.fromHexString(r);t[0]=(i>>16&255)/255*e,t[1]=(i>>8&255)/255*e,t[2]=(i&255)/255*e},toHexString([r,t,e],i=1){i=255/i;let s=r*i<<16^t*i<<8^e*i<<0;return Li.toHexString(s)}},gf={isPrimitive:!1,match:r=>Object(r)===r,fromHexString(r,t,e=1){let i=Li.fromHexString(r);t.r=(i>>16&255)/255*e,t.g=(i>>8&255)/255*e,t.b=(i&255)/255*e},toHexString({r,g:t,b:e},i=1){i=255/i;let s=r*i<<16^t*i<<8^e*i<<0;return Li.toHexString(s)}},_f=[pf,Li,mf,gf];function xf(r){return _f.find(t=>t.match(r))}var dn=class extends xe{constructor(t,e,i,s){super(t,e,i,"color"),this.$input=document.createElement("input"),this.$input.setAttribute("type","color"),this.$input.setAttribute("tabindex",-1),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$text=document.createElement("input"),this.$text.setAttribute("type","text"),this.$text.setAttribute("spellcheck","false"),this.$text.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this.$display.appendChild(this.$input),this.$widget.appendChild(this.$display),this.$widget.appendChild(this.$text),this._format=xf(this.initialValue),this._rgbScale=s,this._initialValueHexString=this.save(),this._textFocused=!1,this.$input.addEventListener("input",()=>{this._setValueFromHexString(this.$input.value)}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$text.addEventListener("input",()=>{let n=fn(this.$text.value);n&&this._setValueFromHexString(n)}),this.$text.addEventListener("focus",()=>{this._textFocused=!0,this.$text.select()}),this.$text.addEventListener("blur",()=>{this._textFocused=!1,this.updateDisplay(),this._callOnFinishChange()}),this.$disable=this.$text,this.updateDisplay()}reset(){return this._setValueFromHexString(this._initialValueHexString),this}_setValueFromHexString(t){if(this._format.isPrimitive){let e=this._format.fromHexString(t);this.setValue(e)}else this._format.fromHexString(t,this.getValue(),this._rgbScale),this._callOnChange(),this.updateDisplay()}save(){return this._format.toHexString(this.getValue(),this._rgbScale)}load(t){return this._setValueFromHexString(t),this._callOnFinishChange(),this}updateDisplay(){return this.$input.value=this._format.toHexString(this.getValue(),this._rgbScale),this._textFocused||(this.$text.value=this.$input.value.substring(1)),this.$display.style.backgroundColor=this.$input.value,this}},Fi=class extends xe{constructor(t,e,i){super(t,e,i,"function"),this.$button=document.createElement("button"),this.$button.appendChild(this.$name),this.$widget.appendChild(this.$button),this.$button.addEventListener("click",s=>{s.preventDefault(),this.getValue().call(this.object),this._callOnChange()}),this.$button.addEventListener("touchstart",()=>{},{passive:!0}),this.$disable=this.$button}},pn=class extends xe{constructor(t,e,i,s,n,o){super(t,e,i,"number"),this._initInput(),this.min(s),this.max(n);let a=o!==void 0;this.step(a?o:this._getImplicitStep(),a),this.updateDisplay()}decimals(t){return this._decimals=t,this.updateDisplay(),this}min(t){return this._min=t,this._onUpdateMinMax(),this}max(t){return this._max=t,this._onUpdateMinMax(),this}step(t,e=!0){return this._step=t,this._stepExplicit=e,this}updateDisplay(){let t=this.getValue();if(this._hasSlider){let e=(t-this._min)/(this._max-this._min);e=Math.max(0,Math.min(e,1)),this.$fill.style.width=e*100+"%"}return this._inputFocused||(this.$input.value=this._decimals===void 0?t:t.toFixed(this._decimals)),this}_initInput(){this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("aria-labelledby",this.$name.id),window.matchMedia("(pointer: coarse)").matches&&(this.$input.setAttribute("type","number"),this.$input.setAttribute("step","any")),this.$widget.appendChild(this.$input),this.$disable=this.$input;let e=()=>{let x=parseFloat(this.$input.value);isNaN(x)||(this._stepExplicit&&(x=this._snap(x)),this.setValue(this._clamp(x)))},i=x=>{let y=parseFloat(this.$input.value);isNaN(y)||(this._snapClampSetValue(y+x),this.$input.value=this.getValue())},s=x=>{x.key==="Enter"&&this.$input.blur(),x.code==="ArrowUp"&&(x.preventDefault(),i(this._step*this._arrowKeyMultiplier(x))),x.code==="ArrowDown"&&(x.preventDefault(),i(this._step*this._arrowKeyMultiplier(x)*-1))},n=x=>{this._inputFocused&&(x.preventDefault(),i(this._step*this._normalizeMouseWheel(x)))},o=!1,a,l,h,c,u,f=5,p=x=>{a=x.clientX,l=h=x.clientY,o=!0,c=this.getValue(),u=0,window.addEventListener("mousemove",m),window.addEventListener("mouseup",d)},m=x=>{if(o){let y=x.clientX-a,v=x.clientY-l;Math.abs(v)>f?(x.preventDefault(),this.$input.blur(),o=!1,this._setDraggingStyle(!0,"vertical")):Math.abs(y)>f&&d()}if(!o){let y=x.clientY-h;u-=y*this._step*this._arrowKeyMultiplier(x),c+u>this._max?u=this._max-c:c+u<this._min&&(u=this._min-c),this._snapClampSetValue(c+u)}h=x.clientY},d=()=>{this._setDraggingStyle(!1,"vertical"),this._callOnFinishChange(),window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",d)},g=()=>{this._inputFocused=!0},_=()=>{this._inputFocused=!1,this.updateDisplay(),this._callOnFinishChange()};this.$input.addEventListener("input",e),this.$input.addEventListener("keydown",s),this.$input.addEventListener("wheel",n,{passive:!1}),this.$input.addEventListener("mousedown",p),this.$input.addEventListener("focus",g),this.$input.addEventListener("blur",_)}_initSlider(){this._hasSlider=!0,this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.$fill=document.createElement("div"),this.$fill.classList.add("fill"),this.$slider.appendChild(this.$fill),this.$widget.insertBefore(this.$slider,this.$input),this.domElement.classList.add("hasSlider");let t=(_,x,y,v,w)=>(_-x)/(y-x)*(w-v)+v,e=_=>{let x=this.$slider.getBoundingClientRect(),y=t(_,x.left,x.right,this._min,this._max);this._snapClampSetValue(y)},i=_=>{this._setDraggingStyle(!0),e(_.clientX),window.addEventListener("mousemove",s),window.addEventListener("mouseup",n)},s=_=>{e(_.clientX)},n=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",n)},o=!1,a,l,h=_=>{_.preventDefault(),this._setDraggingStyle(!0),e(_.touches[0].clientX),o=!1},c=_=>{_.touches.length>1||(this._hasScrollBar?(a=_.touches[0].clientX,l=_.touches[0].clientY,o=!0):h(_),window.addEventListener("touchmove",u,{passive:!1}),window.addEventListener("touchend",f))},u=_=>{if(o){let x=_.touches[0].clientX-a,y=_.touches[0].clientY-l;Math.abs(x)>Math.abs(y)?h(_):(window.removeEventListener("touchmove",u),window.removeEventListener("touchend",f))}else _.preventDefault(),e(_.touches[0].clientX)},f=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("touchmove",u),window.removeEventListener("touchend",f)},p=this._callOnFinishChange.bind(this),m=400,d,g=_=>{if(Math.abs(_.deltaX)<Math.abs(_.deltaY)&&this._hasScrollBar)return;_.preventDefault();let y=this._normalizeMouseWheel(_)*this._step;this._snapClampSetValue(this.getValue()+y),this.$input.value=this.getValue(),clearTimeout(d),d=setTimeout(p,m)};this.$slider.addEventListener("mousedown",i),this.$slider.addEventListener("touchstart",c,{passive:!1}),this.$slider.addEventListener("wheel",g,{passive:!1})}_setDraggingStyle(t,e="horizontal"){this.$slider&&this.$slider.classList.toggle("active",t),document.body.classList.toggle("lil-gui-dragging",t),document.body.classList.toggle(`lil-gui-${e}`,t)}_getImplicitStep(){return this._hasMin&&this._hasMax?(this._max-this._min)/1e3:.1}_onUpdateMinMax(){!this._hasSlider&&this._hasMin&&this._hasMax&&(this._stepExplicit||this.step(this._getImplicitStep(),!1),this._initSlider(),this.updateDisplay())}_normalizeMouseWheel(t){let{deltaX:e,deltaY:i}=t;return Math.floor(t.deltaY)!==t.deltaY&&t.wheelDelta&&(e=0,i=-t.wheelDelta/120,i*=this._stepExplicit?1:10),e+-i}_arrowKeyMultiplier(t){let e=this._stepExplicit?1:10;return t.shiftKey?e*=10:t.altKey&&(e/=10),e}_snap(t){let e=0;return this._hasMin?e=this._min:this._hasMax&&(e=this._max),t-=e,t=Math.round(t/this._step)*this._step,t+=e,t=parseFloat(t.toPrecision(15)),t}_clamp(t){return t<this._min&&(t=this._min),t>this._max&&(t=this._max),t}_snapClampSetValue(t){this.setValue(this._clamp(this._snap(t)))}get _hasScrollBar(){let t=this.parent.root.$children;return t.scrollHeight>t.clientHeight}get _hasMin(){return this._min!==void 0}get _hasMax(){return this._max!==void 0}},mn=class extends xe{constructor(t,e,i,s){super(t,e,i,"option"),this.$select=document.createElement("select"),this.$select.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this.$select.addEventListener("change",()=>{this.setValue(this._values[this.$select.selectedIndex]),this._callOnFinishChange()}),this.$select.addEventListener("focus",()=>{this.$display.classList.add("focus")}),this.$select.addEventListener("blur",()=>{this.$display.classList.remove("focus")}),this.$widget.appendChild(this.$select),this.$widget.appendChild(this.$display),this.$disable=this.$select,this.options(s)}options(t){return this._values=Array.isArray(t)?t:Object.values(t),this._names=Array.isArray(t)?t:Object.keys(t),this.$select.replaceChildren(),this._names.forEach(e=>{let i=document.createElement("option");i.textContent=e,this.$select.appendChild(i)}),this.updateDisplay(),this}updateDisplay(){let t=this.getValue(),e=this._values.indexOf(t);return this.$select.selectedIndex=e,this.$display.textContent=e===-1?t:this._names[e],this}},gn=class extends xe{constructor(t,e,i){super(t,e,i,"string"),this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("spellcheck","false"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$input.addEventListener("input",()=>{this.setValue(this.$input.value)}),this.$input.addEventListener("keydown",s=>{s.code==="Enter"&&this.$input.blur()}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$widget.appendChild(this.$input),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.value=this.getValue(),this}},yf=`.lil-gui {
  font-family: var(--font-family);
  font-size: var(--font-size);
  line-height: 1;
  font-weight: normal;
  font-style: normal;
  text-align: left;
  color: var(--text-color);
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  --background-color: #1f1f1f;
  --text-color: #ebebeb;
  --title-background-color: #111111;
  --title-text-color: #ebebeb;
  --widget-color: #424242;
  --hover-color: #4f4f4f;
  --focus-color: #595959;
  --number-color: #2cc9ff;
  --string-color: #a2db3c;
  --font-size: 11px;
  --input-font-size: 11px;
  --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
  --font-family-mono: Menlo, Monaco, Consolas, "Droid Sans Mono", monospace;
  --padding: 4px;
  --spacing: 4px;
  --widget-height: 20px;
  --title-height: calc(var(--widget-height) + var(--spacing) * 1.25);
  --name-width: 45%;
  --slider-knob-width: 2px;
  --slider-input-width: 27%;
  --color-input-width: 27%;
  --slider-input-min-width: 45px;
  --color-input-min-width: 45px;
  --folder-indent: 7px;
  --widget-padding: 0 0 0 3px;
  --widget-border-radius: 2px;
  --checkbox-size: calc(0.75 * var(--widget-height));
  --scrollbar-width: 5px;
}
.lil-gui, .lil-gui * {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}
.lil-gui.root {
  width: var(--width, 245px);
  display: flex;
  flex-direction: column;
  background: var(--background-color);
}
.lil-gui.root > .title {
  background: var(--title-background-color);
  color: var(--title-text-color);
}
.lil-gui.root > .children {
  overflow-x: hidden;
  overflow-y: auto;
}
.lil-gui.root > .children::-webkit-scrollbar {
  width: var(--scrollbar-width);
  height: var(--scrollbar-width);
  background: var(--background-color);
}
.lil-gui.root > .children::-webkit-scrollbar-thumb {
  border-radius: var(--scrollbar-width);
  background: var(--focus-color);
}
@media (pointer: coarse) {
  .lil-gui.allow-touch-styles, .lil-gui.allow-touch-styles .lil-gui {
    --widget-height: 28px;
    --padding: 6px;
    --spacing: 6px;
    --font-size: 13px;
    --input-font-size: 16px;
    --folder-indent: 10px;
    --scrollbar-width: 7px;
    --slider-input-min-width: 50px;
    --color-input-min-width: 65px;
  }
}
.lil-gui.force-touch-styles, .lil-gui.force-touch-styles .lil-gui {
  --widget-height: 28px;
  --padding: 6px;
  --spacing: 6px;
  --font-size: 13px;
  --input-font-size: 16px;
  --folder-indent: 10px;
  --scrollbar-width: 7px;
  --slider-input-min-width: 50px;
  --color-input-min-width: 65px;
}
.lil-gui.autoPlace {
  max-height: 100%;
  position: fixed;
  top: 0;
  right: 15px;
  z-index: 1001;
}

.lil-gui .controller {
  display: flex;
  align-items: center;
  padding: 0 var(--padding);
  margin: var(--spacing) 0;
}
.lil-gui .controller.disabled {
  opacity: 0.5;
}
.lil-gui .controller.disabled, .lil-gui .controller.disabled * {
  pointer-events: none !important;
}
.lil-gui .controller > .name {
  min-width: var(--name-width);
  flex-shrink: 0;
  white-space: pre;
  padding-right: var(--spacing);
  line-height: var(--widget-height);
}
.lil-gui .controller .widget {
  position: relative;
  display: flex;
  align-items: center;
  width: 100%;
  min-height: var(--widget-height);
}
.lil-gui .controller.string input {
  color: var(--string-color);
}
.lil-gui .controller.boolean {
  cursor: pointer;
}
.lil-gui .controller.color .display {
  width: 100%;
  height: var(--widget-height);
  border-radius: var(--widget-border-radius);
  position: relative;
}
@media (hover: hover) {
  .lil-gui .controller.color .display:hover:before {
    content: " ";
    display: block;
    position: absolute;
    border-radius: var(--widget-border-radius);
    border: 1px solid #fff9;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }
}
.lil-gui .controller.color input[type=color] {
  opacity: 0;
  width: 100%;
  height: 100%;
  cursor: pointer;
}
.lil-gui .controller.color input[type=text] {
  margin-left: var(--spacing);
  font-family: var(--font-family-mono);
  min-width: var(--color-input-min-width);
  width: var(--color-input-width);
  flex-shrink: 0;
}
.lil-gui .controller.option select {
  opacity: 0;
  position: absolute;
  width: 100%;
  max-width: 100%;
}
.lil-gui .controller.option .display {
  position: relative;
  pointer-events: none;
  border-radius: var(--widget-border-radius);
  height: var(--widget-height);
  line-height: var(--widget-height);
  max-width: 100%;
  overflow: hidden;
  word-break: break-all;
  padding-left: 0.55em;
  padding-right: 1.75em;
  background: var(--widget-color);
}
@media (hover: hover) {
  .lil-gui .controller.option .display.focus {
    background: var(--focus-color);
  }
}
.lil-gui .controller.option .display.active {
  background: var(--focus-color);
}
.lil-gui .controller.option .display:after {
  font-family: "lil-gui";
  content: "\u2195";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  padding-right: 0.375em;
}
.lil-gui .controller.option .widget,
.lil-gui .controller.option select {
  cursor: pointer;
}
@media (hover: hover) {
  .lil-gui .controller.option .widget:hover .display {
    background: var(--hover-color);
  }
}
.lil-gui .controller.number input {
  color: var(--number-color);
}
.lil-gui .controller.number.hasSlider input {
  margin-left: var(--spacing);
  width: var(--slider-input-width);
  min-width: var(--slider-input-min-width);
  flex-shrink: 0;
}
.lil-gui .controller.number .slider {
  width: 100%;
  height: var(--widget-height);
  background: var(--widget-color);
  border-radius: var(--widget-border-radius);
  padding-right: var(--slider-knob-width);
  overflow: hidden;
  cursor: ew-resize;
  touch-action: pan-y;
}
@media (hover: hover) {
  .lil-gui .controller.number .slider:hover {
    background: var(--hover-color);
  }
}
.lil-gui .controller.number .slider.active {
  background: var(--focus-color);
}
.lil-gui .controller.number .slider.active .fill {
  opacity: 0.95;
}
.lil-gui .controller.number .fill {
  height: 100%;
  border-right: var(--slider-knob-width) solid var(--number-color);
  box-sizing: content-box;
}

.lil-gui-dragging .lil-gui {
  --hover-color: var(--widget-color);
}
.lil-gui-dragging * {
  cursor: ew-resize !important;
}

.lil-gui-dragging.lil-gui-vertical * {
  cursor: ns-resize !important;
}

.lil-gui .title {
  height: var(--title-height);
  font-weight: 600;
  padding: 0 var(--padding);
  width: 100%;
  text-align: left;
  background: none;
  text-decoration-skip: objects;
}
.lil-gui .title:before {
  font-family: "lil-gui";
  content: "\u25BE";
  padding-right: 2px;
  display: inline-block;
}
.lil-gui .title:active {
  background: var(--title-background-color);
  opacity: 0.75;
}
@media (hover: hover) {
  body:not(.lil-gui-dragging) .lil-gui .title:hover {
    background: var(--title-background-color);
    opacity: 0.85;
  }
  .lil-gui .title:focus {
    text-decoration: underline var(--focus-color);
  }
}
.lil-gui.root > .title:focus {
  text-decoration: none !important;
}
.lil-gui.closed > .title:before {
  content: "\u25B8";
}
.lil-gui.closed > .children {
  transform: translateY(-7px);
  opacity: 0;
}
.lil-gui.closed:not(.transition) > .children {
  display: none;
}
.lil-gui.transition > .children {
  transition-duration: 300ms;
  transition-property: height, opacity, transform;
  transition-timing-function: cubic-bezier(0.2, 0.6, 0.35, 1);
  overflow: hidden;
  pointer-events: none;
}
.lil-gui .children:empty:before {
  content: "Empty";
  padding: 0 var(--padding);
  margin: var(--spacing) 0;
  display: block;
  height: var(--widget-height);
  font-style: italic;
  line-height: var(--widget-height);
  opacity: 0.5;
}
.lil-gui.root > .children > .lil-gui > .title {
  border: 0 solid var(--widget-color);
  border-width: 1px 0;
  transition: border-color 300ms;
}
.lil-gui.root > .children > .lil-gui.closed > .title {
  border-bottom-color: transparent;
}
.lil-gui + .controller {
  border-top: 1px solid var(--widget-color);
  margin-top: 0;
  padding-top: var(--spacing);
}
.lil-gui .lil-gui .lil-gui > .title {
  border: none;
}
.lil-gui .lil-gui .lil-gui > .children {
  border: none;
  margin-left: var(--folder-indent);
  border-left: 2px solid var(--widget-color);
}
.lil-gui .lil-gui .controller {
  border: none;
}

.lil-gui label, .lil-gui input, .lil-gui button {
  -webkit-tap-highlight-color: transparent;
}
.lil-gui input {
  border: 0;
  outline: none;
  font-family: var(--font-family);
  font-size: var(--input-font-size);
  border-radius: var(--widget-border-radius);
  height: var(--widget-height);
  background: var(--widget-color);
  color: var(--text-color);
  width: 100%;
}
@media (hover: hover) {
  .lil-gui input:hover {
    background: var(--hover-color);
  }
  .lil-gui input:active {
    background: var(--focus-color);
  }
}
.lil-gui input:disabled {
  opacity: 1;
}
.lil-gui input[type=text],
.lil-gui input[type=number] {
  padding: var(--widget-padding);
  -moz-appearance: textfield;
}
.lil-gui input[type=text]:focus,
.lil-gui input[type=number]:focus {
  background: var(--focus-color);
}
.lil-gui input[type=checkbox] {
  appearance: none;
  width: var(--checkbox-size);
  height: var(--checkbox-size);
  border-radius: var(--widget-border-radius);
  text-align: center;
  cursor: pointer;
}
.lil-gui input[type=checkbox]:checked:before {
  font-family: "lil-gui";
  content: "\u2713";
  font-size: var(--checkbox-size);
  line-height: var(--checkbox-size);
}
@media (hover: hover) {
  .lil-gui input[type=checkbox]:focus {
    box-shadow: inset 0 0 0 1px var(--focus-color);
  }
}
.lil-gui button {
  outline: none;
  cursor: pointer;
  font-family: var(--font-family);
  font-size: var(--font-size);
  color: var(--text-color);
  width: 100%;
  border: none;
}
.lil-gui .controller button {
  height: var(--widget-height);
  text-transform: none;
  background: var(--widget-color);
  border-radius: var(--widget-border-radius);
}
@media (hover: hover) {
  .lil-gui .controller button:hover {
    background: var(--hover-color);
  }
  .lil-gui .controller button:focus {
    box-shadow: inset 0 0 0 1px var(--focus-color);
  }
}
.lil-gui .controller button:active {
  background: var(--focus-color);
}

@font-face {
  font-family: "lil-gui";
  src: url("data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUsAAsAAAAACJwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAH4AAADAImwmYE9TLzIAAAGIAAAAPwAAAGBKqH5SY21hcAAAAcgAAAD0AAACrukyyJBnbHlmAAACvAAAAF8AAACEIZpWH2hlYWQAAAMcAAAAJwAAADZfcj2zaGhlYQAAA0QAAAAYAAAAJAC5AHhobXR4AAADXAAAABAAAABMAZAAAGxvY2EAAANsAAAAFAAAACgCEgIybWF4cAAAA4AAAAAeAAAAIAEfABJuYW1lAAADoAAAASIAAAIK9SUU/XBvc3QAAATEAAAAZgAAAJCTcMc2eJxVjbEOgjAURU+hFRBK1dGRL+ALnAiToyMLEzFpnPz/eAshwSa97517c/MwwJmeB9kwPl+0cf5+uGPZXsqPu4nvZabcSZldZ6kfyWnomFY/eScKqZNWupKJO6kXN3K9uCVoL7iInPr1X5baXs3tjuMqCtzEuagm/AAlzQgPAAB4nGNgYRBlnMDAysDAYM/gBiT5oLQBAwuDJAMDEwMrMwNWEJDmmsJwgCFeXZghBcjlZMgFCzOiKOIFAB71Bb8AeJy1kjFuwkAQRZ+DwRAwBtNQRUGKQ8OdKCAWUhAgKLhIuAsVSpWz5Bbkj3dEgYiUIszqWdpZe+Z7/wB1oCYmIoboiwiLT2WjKl/jscrHfGg/pKdMkyklC5Zs2LEfHYpjcRoPzme9MWWmk3dWbK9ObkWkikOetJ554fWyoEsmdSlt+uR0pCJR34b6t/TVg1SY3sYvdf8vuiKrpyaDXDISiegp17p7579Gp3p++y7HPAiY9pmTibljrr85qSidtlg4+l25GLCaS8e6rRxNBmsnERunKbaOObRz7N72ju5vdAjYpBXHgJylOAVsMseDAPEP8LYoUHicY2BiAAEfhiAGJgZWBgZ7RnFRdnVJELCQlBSRlATJMoLV2DK4glSYs6ubq5vbKrJLSbGrgEmovDuDJVhe3VzcXFwNLCOILB/C4IuQ1xTn5FPilBTj5FPmBAB4WwoqAHicY2BkYGAA4sk1sR/j+W2+MnAzpDBgAyEMQUCSg4EJxAEAwUgFHgB4nGNgZGBgSGFggJMhDIwMqEAYAByHATJ4nGNgAIIUNEwmAABl3AGReJxjYAACIQYlBiMGJ3wQAEcQBEV4nGNgZGBgEGZgY2BiAAEQyQWEDAz/wXwGAAsPATIAAHicXdBNSsNAHAXwl35iA0UQXYnMShfS9GPZA7T7LgIu03SSpkwzYTIt1BN4Ak/gKTyAeCxfw39jZkjymzcvAwmAW/wgwHUEGDb36+jQQ3GXGot79L24jxCP4gHzF/EIr4jEIe7wxhOC3g2TMYy4Q7+Lu/SHuEd/ivt4wJd4wPxbPEKMX3GI5+DJFGaSn4qNzk8mcbKSR6xdXdhSzaOZJGtdapd4vVPbi6rP+cL7TGXOHtXKll4bY1Xl7EGnPtp7Xy2n00zyKLVHfkHBa4IcJ2oD3cgggWvt/V/FbDrUlEUJhTn/0azVWbNTNr0Ens8de1tceK9xZmfB1CPjOmPH4kitmvOubcNpmVTN3oFJyjzCvnmrwhJTzqzVj9jiSX911FjeAAB4nG3HMRKCMBBA0f0giiKi4DU8k0V2GWbIZDOh4PoWWvq6J5V8If9NVNQcaDhyouXMhY4rPTcG7jwYmXhKq8Wz+p762aNaeYXom2n3m2dLTVgsrCgFJ7OTmIkYbwIbC6vIB7WmFfAAAA==") format("woff");
}`;function vf(r){let t=document.createElement("style");t.innerHTML=r;let e=document.querySelector("head link[rel=stylesheet], head style");e?document.head.insertBefore(t,e):document.head.appendChild(t)}var Fl=!1,Fr=class r{constructor({parent:t,autoPlace:e=t===void 0,container:i,width:s,title:n="Controls",closeFolders:o=!1,injectStyles:a=!0,touchStyles:l=!0}={}){if(this.parent=t,this.root=t?t.root:this,this.children=[],this.controllers=[],this.folders=[],this._closed=!1,this._hidden=!1,this.domElement=document.createElement("div"),this.domElement.classList.add("lil-gui"),this.$title=document.createElement("button"),this.$title.classList.add("title"),this.$title.setAttribute("aria-expanded",!0),this.$title.addEventListener("click",()=>this.openAnimated(this._closed)),this.$title.addEventListener("touchstart",()=>{},{passive:!0}),this.$children=document.createElement("div"),this.$children.classList.add("children"),this.domElement.appendChild(this.$title),this.domElement.appendChild(this.$children),this.title(n),this.parent){this.parent.children.push(this),this.parent.folders.push(this),this.parent.$children.appendChild(this.domElement);return}this.domElement.classList.add("root"),l&&this.domElement.classList.add("allow-touch-styles"),!Fl&&a&&(vf(yf),Fl=!0),i?i.appendChild(this.domElement):e&&(this.domElement.classList.add("autoPlace"),document.body.appendChild(this.domElement)),s&&this.domElement.style.setProperty("--width",s+"px"),this._closeFolders=o}add(t,e,i,s,n){if(Object(i)===i)return new mn(this,t,e,i);let o=t[e];switch(typeof o){case"number":return new pn(this,t,e,i,s,n);case"boolean":return new un(this,t,e);case"string":return new gn(this,t,e);case"function":return new Fi(this,t,e)}console.error(`gui.add failed
	property:`,e,`
	object:`,t,`
	value:`,o)}addColor(t,e,i=1){return new dn(this,t,e,i)}addFolder(t){let e=new r({parent:this,title:t});return this.root._closeFolders&&e.close(),e}load(t,e=!0){return t.controllers&&this.controllers.forEach(i=>{i instanceof Fi||i._name in t.controllers&&i.load(t.controllers[i._name])}),e&&t.folders&&this.folders.forEach(i=>{i._title in t.folders&&i.load(t.folders[i._title])}),this}save(t=!0){let e={controllers:{},folders:{}};return this.controllers.forEach(i=>{if(!(i instanceof Fi)){if(i._name in e.controllers)throw new Error(`Cannot save GUI with duplicate property "${i._name}"`);e.controllers[i._name]=i.save()}}),t&&this.folders.forEach(i=>{if(i._title in e.folders)throw new Error(`Cannot save GUI with duplicate folder "${i._title}"`);e.folders[i._title]=i.save()}),e}open(t=!0){return this._setClosed(!t),this.$title.setAttribute("aria-expanded",!this._closed),this.domElement.classList.toggle("closed",this._closed),this}close(){return this.open(!1)}_setClosed(t){this._closed!==t&&(this._closed=t,this._callOnOpenClose(this))}show(t=!0){return this._hidden=!t,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}openAnimated(t=!0){return this._setClosed(!t),this.$title.setAttribute("aria-expanded",!this._closed),requestAnimationFrame(()=>{let e=this.$children.clientHeight;this.$children.style.height=e+"px",this.domElement.classList.add("transition");let i=n=>{n.target===this.$children&&(this.$children.style.height="",this.domElement.classList.remove("transition"),this.$children.removeEventListener("transitionend",i))};this.$children.addEventListener("transitionend",i);let s=t?this.$children.scrollHeight:0;this.domElement.classList.toggle("closed",!t),requestAnimationFrame(()=>{this.$children.style.height=s+"px"})}),this}title(t){return this._title=t,this.$title.textContent=t,this}reset(t=!0){return(t?this.controllersRecursive():this.controllers).forEach(i=>i.reset()),this}onChange(t){return this._onChange=t,this}_callOnChange(t){this.parent&&this.parent._callOnChange(t),this._onChange!==void 0&&this._onChange.call(this,{object:t.object,property:t.property,value:t.getValue(),controller:t})}onFinishChange(t){return this._onFinishChange=t,this}_callOnFinishChange(t){this.parent&&this.parent._callOnFinishChange(t),this._onFinishChange!==void 0&&this._onFinishChange.call(this,{object:t.object,property:t.property,value:t.getValue(),controller:t})}onOpenClose(t){return this._onOpenClose=t,this}_callOnOpenClose(t){this.parent&&this.parent._callOnOpenClose(t),this._onOpenClose!==void 0&&this._onOpenClose.call(this,t)}destroy(){this.parent&&(this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.folders.splice(this.parent.folders.indexOf(this),1)),this.domElement.parentElement&&this.domElement.parentElement.removeChild(this.domElement),Array.from(this.children).forEach(t=>t.destroy())}controllersRecursive(){let t=Array.from(this.controllers);return this.folders.forEach(e=>{t=t.concat(e.controllersRecursive())}),t}foldersRecursive(){let t=Array.from(this.folders);return this.folders.forEach(e=>{t=t.concat(e.foldersRecursive())}),t}};window.gui=new Fr;gui.params={bgPower:.9,lightColor1:"#bccedd",lightColor2:"#c4dce5"};var ei=!1;gui.hide();ei&&gui.show();document.addEventListener("keydown",r=>{r.key==="G"&&r.shiftKey&&(ei?(gui.hide(),ei=!1):(gui.show(),ei=!0))});gui.add(gui.params,"bgPower",0,1,.01);gui.add(gui.params,"lightColor1");gui.add(gui.params,"lightColor2");var Lr={dark1:857371,dark2:7447472,light1:16711680,light2:12901605};function Ll(){return{width:O.vp.w*O.vp.dpr(),height:O.vp.h*O.vp.dpr()}}var Or=class extends xt{constructor(e){super(e,{geometry:new Ci(e),program:new _n(e)});S(this,"target",new Je(O.gl,Ll()));S(this,"a",{dark:z.PAGE==="home"?1:0});this.sparkle=new Cr(e,10),z.on("PAGE",i=>this.pageChange(i)),this.pageChange(z.PAGE)}resize(){var e;(e=this.track)==null||e.resize(),this.target=new Je(O.gl,Ll())}render(e){var i,s;this.program.time=e*.2,this.program.uniforms.u_a_dark.value=Mr(0,1,this.a.dark-((i=this.track)==null?void 0:i.value)||0),(s=this.sparkle)==null||s.render(e),this.sparkle&&(O.renderer.render({scene:this.sparkle,camera:O.camera,target:this.target}),this.program.uniforms.u_sparkle.value=this.target.texture),window.gui&&ei&&(this.program.uniforms.u_color_light1.value=Pl(window.gui.params.lightColor1),this.program.uniforms.u_color_light2.value=Pl(window.gui.params.lightColor2),this.program.uniforms.u_BG_POWER.value=window.gui.params.bgPower)}pageChange(e){(e==="news"||e==="career")&&(this.a.dark=0),gt.to(this.a,{dark:e==="home"?1:0,duration:Nt.page.duration,ease:Nt.page.ease});let i=document.querySelector("[data-track='gradient']");i?this.track=new ti({element:i,config:{bottom:"bottom"}}):this.track&&this.track.destroy()}},_n=class extends Ut{constructor(t){super(t,{vertex:El,fragment:Al,transparent:!1,cullFace:null,uniforms:{u_time:{value:0},u_color_dark1:{value:Pr(Lr.dark1)},u_color_dark2:{value:Pr(Lr.dark2)},u_color_light1:{value:Pr(Lr.light1)},u_color_light2:{value:Pr(Lr.light2)},u_BG_POWER:{value:.9},u_a_dark:{value:.5},u_a_mouse:{value:[0,0]},u_sparkle:{value:new yt(t)}},depthTest:!1})}set time(t){this.uniforms.u_time.value=t,this.uniforms.u_a_mouse.value=[O.mouse.ex,O.mouse.ey]}};function Pr(r){return[(r>>16&255)/255,(r>>8&255)/255,(r&255)/255]}function Pl(r){return[parseInt(r.substring(1,3),16)/255,parseInt(r.substring(3,5),16)/255,parseInt(r.substring(5,7),16)/255]}var Ol=`#define MPI 3.1415926538
#define MTAU 6.28318530718
attribute vec3 position;attribute vec3 normal;attribute vec2 uv;attribute vec2 uv2;attribute vec4 color;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat3 normalMatrix;uniform float u_time;varying vec3 v_normal;varying vec2 v_uv;varying vec2 v_uv2;varying vec3 v_view;void main(){vec3 pos=position;vec4 transformed=modelViewMatrix*vec4(pos,1.0);gl_Position=projectionMatrix*transformed;v_view=normalize(-transformed.xyz);v_normal=normalize(normalMatrix*normal);v_uv=uv;v_uv2=uv2;}`;var zl="precision highp float;uniform sampler2D u_mtc;uniform sampler2D u_mtc2;uniform sampler2D u_light;uniform sampler2D u_light2;uniform sampler2D dirty_mask;varying vec3 v_normal;varying vec2 v_uv;varying vec2 v_uv2;varying vec3 v_view;uniform float u_a_illuminate;const vec3 col_blue=vec3(0.16470588235294117,0.19607843137254902,0.25098039215686274);void main(){vec3 x=normalize(vec3(v_view.z,0.,-v_view.x));vec3 y=cross(v_view,x);vec2 fakeUv=vec2(dot(x,v_normal),dot(y,v_normal))*.495+.5;vec3 base_color=mix(col_blue*.2,vec3(0.),step(.5,v_uv2.x));vec3 mtc1=texture2D(u_mtc,fakeUv).rgb+base_color;vec3 mtc2=texture2D(u_mtc2,fakeUv).rgb+base_color;vec3 mtc=mix(mtc1,mtc2,(u_a_illuminate*.5+.5));vec3 light=mix(texture2D(u_light,v_uv).rgb,texture2D(u_light2,v_uv).rgb,u_a_illuminate*.4);vec3 color=(mtc*light)*1.5;gl_FragColor.rgb=color;gl_FragColor.a=1.0;}";var Pi=class extends _t{constructor(e,i=null){super();S(this,"a",{baseY:0,markY:0,scale:[1,1]});this.gl=e,this.mark=i,this.create(),z.on("PAGE",s=>this.pageChange(s)),z.on("PAGE_OUT",s=>this.pageOut(s)),this.pageChange(),setTimeout(()=>{this.mark&&this.getTracking(),this.resize()},100)}async create(){this.battery=new xn(this.gl),this.resize(),this.battery.setParent(this)}render(e){var i;if((i=this.battery)==null||i.render(e),this.rotation.x=O.mouse.ey*.3,this.rotation.y=O.mouse.ex*.3,this.rotation.z=-Math.PI/4*.5,this.mark)this.position.y=H.scroll.y*O.vp.viewRatio+this.a.markY;else{let s=H.isMobile?0:-.15;this.position.y=H.scroll.y*O.vp.viewRatio+this.a.baseY+s}O.scene.bg.track&&(this.battery.program.uniforms.u_a_illuminate.value=O.scene.bg.track.value)}getTracking(){this.markItem&&queueMicrotask(()=>{let{top:e,height:i}=this.markItem.getBoundingClientRect();e+=i/2-window.innerHeight/2,this.a.markY=(-e-H.scroll.y)*O.vp.viewRatio})}resize(){setTimeout(()=>{if(this.mark&&this.markItem&&this.getTracking(),H.isMobile){let e=O.vp.viewSize.w/2.5,i=1.5;this.position.x=0,this.scale.set(e*i,e*i,e*i),this.a.baseY=-O.vp.viewSize.h/4}else{let e=O.vp.viewSize.w/3.5;this.position.x=O.vp.viewSize.w/5,this.scale.set(e,e,e)}queueMicrotask(()=>{var e,i;(e=this.battery)==null||e.resize(),(i=this.track)==null||i.resize()})},10)}pageChange(e){let i=document.querySelector("[data-track='gradient']");this.mark&&(this.markItem=document.querySelector(this.mark),this.markItem&&this.getTracking()),setTimeout(()=>{i&&(this.track=new ti({element:i,config:{top:"top",bottom:"top"}}),setTimeout(()=>{this.track.resize()},10))})}pageOut(){this.track&&(this.track.destroy(),this.track=null)}},xn=class extends xt{constructor(t){super(t,{geometry:O.scene.assets.model.scenes[0][0].children[0].geometry,program:new yn(t),frustumCulled:!1}),this.scale.set(0,0,0),z.on("LOAD",e=>this.pageChange(z.PAGE)),z.on("PAGE",e=>this.pageChange(e)),z.on("PAGE_OUT",e=>this.animateOut(e))}animateIn(){gt.to(this.scale,{x:1,y:1,z:1,delay:.2}),gt.to(this.position,{y:0,delay:.2})}async animateOut(){await gt.to(this.scale,{x:0,y:0,z:0,duration:.4}),gt.set(this.position,{y:-O.vp.viewSize.h})}pageChange(t){t==="home"&&this.animateIn()}resize(){}render(t){this.program.time=t}},yn=class extends Ut{constructor(t){super(t,{vertex:Ol,fragment:zl,transparent:!0,cullFace:null,uniforms:{u_time:{value:0},u_mtc:{value:O.scene.assets.matcap},u_mtc2:{value:O.scene.assets.matcap2},u_light:{value:O.scene.assets.light},u_light2:{value:O.scene.assets.light2},u_a_illuminate:{value:0}}})}set time(t){this.uniforms.u_time.value=t}};async function Rl(r,t){return ki.load(r,t)}async function Dl(r,t){return new Promise(e=>{let i=new Image;i.src=t,i.crossOrigin="anonymous",i.onload=()=>{let s=new yt(r,{image:i});s.flipY=!1,e(s)}})}var Oi="https://cdn.jsdelivr.net/gh/Wonderstruckxyz/zenopower@main/build/",Il={matcap:Oi+"metal1.png",matcap2:Oi+"metal4.png",model:Oi+"zeno4.glb",light:Oi+"light1.png",light2:Oi+"light4.png"};async function Nl(r,t=null){let e=t||Il,i=[],s=[];for(let a in e){let l=e[a],h=l.split(".").pop();h==="glb"||h==="gltf"?i.push(Rl(r,l)):(h==="jpg"||h==="png"||h==="webp"||h==="jpeg")&&i.push(Dl(r,l)),s.push(a)}let n=await Promise.all(i);return s.reduce((a,l,h)=>(a[l]=n[h],a),{})}var zr=class extends _t{constructor(e,i={}){super();S(this,"isOn",!0);this.gl=e,queueMicrotask(()=>this.create(i))}async load(){this.assets=await Nl(this.gl)}async create(){this.bg=new Or(this.gl),this.bg.setParent(this),z.LOAD="screen",console.time("::load"),await this.load(),this.battery=new Pi(this.gl),this.battery.setParent(this),this.trackBattery=new Pi(this.gl,"[data-mark='battery']"),this.trackBattery.setParent(this),console.timeEnd("::load"),z.LOAD="full",z.MOBILE&&(this.trackBattery.visible=!1),z.on("MOBILE",e=>{e?this.trackBattery.visible=!1:this.trackBattery.visible=!0})}render(e){var i,s,n;this.isOn&&((i=this.bg)==null||i.render(e),(s=this.battery)==null||s.render(e),(n=this.trackBattery)==null||n.render(e))}resize(e){var i,s,n;(i=this.bg)==null||i.resize(e),(s=this.battery)==null||s.resize(e),(n=this.trackBattery)==null||n.resize(e)}};var Ef={clearColor:[0,0,0,0]},G=class G{static initEvents(){window.addEventListener("mousemove",t=>{this.mouse.x=t.clientX/this.vp.w,this.mouse.y=1-t.clientY/this.vp.h})}static render(){var t,e;this.time+=.005,this.mouse.ex=hn(this.mouse.ex,this.mouse.x,.05),this.mouse.ey=hn(this.mouse.ey,this.mouse.y,.05),(t=this.controls)==null||t.update(),(e=this.scene)==null||e.render(this.time),this.renderer.render({scene:this.scene,camera:this.camera})}static resize({width:t,height:e}){this.vp.w=t,this.vp.h=e,this.vp.viewSize=this.camera.getViewSize(this.vp.aspect()),this.vp.viewRatio=this.vp.viewSize.w/this.vp.w,this.renderer.setSize(this.vp.w,this.vp.h),this.camera.perspective({aspect:this.vp.aspect()}),this.scene.resize(this.vp)}static get px(){console.log("px")}static async transitionIn(){}static async transitionOut(){}};S(G,"time",0),S(G,"mouse",{x:0,y:0,ex:0,ey:0}),G.vp={container:document.querySelector('[data-gl="c"]'),w:window.innerWidth,h:window.innerHeight,aspect:()=>G.vp.w/G.vp.h,dpr:()=>Math.min(window.devicePixelRatio,2)},G.renderer=new Si({dpr:G.vp.dpr(),antialias:!0,alpha:!0}),G.gl=G.renderer.gl,G.gl.clearColor(...Ef.clearColor),G.vp.container.appendChild(G.gl.canvas),G.camera=new Sr(G.gl,{}),G.camera.position.set(0,0,5),G.scene=new zr(G.gl),G.time=0,Af(G.vp.container,G.resize.bind(G)),G.initEvents();var O=G;function Af(r,t){new ResizeObserver(e=>t(e[0].contentRect)).observe(r)}var Bl=!1;async function Vl(){if(Bl||z.PAGE!=="career")return;Bl=!0;let r=await fetch("https://zenopower.vercel.app/api/sync")}var Rr=class extends Ze{constructor(){super({links:"a:not([target]):not([href^=\\#]):not([data-taxi-ignore])",removeOldContent:!0,allowInterruption:!1,bypassCache:!1,transitions:{default:vn}});S(this,"current",document.querySelector("[data-page]").dataset.page);S(this,"anchorClicked",!1);z.PAGE=this.current,this.initAnchorLinks(),Vl()}async transitionOut(e){z.PAGE_OUT=e.dataset.page,await Promise.allSettled([H.dom.transitionOut(e),O.transitionOut(e)]),H.scroll.top()}initAnchorLinks(){this.anchorlinks=[...document.querySelectorAll("[data-anchorlink]")],this.anchorlinks.forEach(e=>{e.addEventListener("click",i=>{this.anchorClicked=e.dataset.anchorlink})})}async transitionIn(e){if(this.current=e.dataset.page,z.PAGE=this.current,Vl(),await Promise.allSettled([H.dom.transitionIn(e),O.transitionIn(e)]),this.anchorClicked){let i=document.getElementById(this.anchorClicked);H.scroll.to(i),this.anchorClicked=!1}this.initAnchorLinks()}},vn=class{constructor({wrapper:t}){this.wrapper=t}leave(t){return new Promise(e=>{this.onLeave({...t,done:e})})}enter(t){return new Promise(e=>{this.onEnter({...t,done:e})})}onLeave({from:t,trigger:e,done:i}){H.pages.transitionOut(t).then(()=>i())}onEnter({to:t,trigger:e,done:i}){H.pages.transitionIn(t).then(()=>i())}};function wn(){let r=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(r=!0)}(navigator.userAgent||navigator.vendor||window.opera),r}var Dt=class Dt{static initEvents(){new ResizeObserver(t=>this.resize(t[0])).observe(this.body)}static resize({contentRect:t}){var e,i;this.isMobile=wn(),z.MOBILE=this.isMobile,(e=this.viewport)==null||e.resize(),(i=this.dom)==null||i.resize(),Be==null||Be.resize()}static render(t){var e,i,s;(e=this.scroll)==null||e.render(t*1e3),(i=this.dom)==null||i.render(),(s=O)==null||s.render(this.scroll.y)}};S(Dt,"body",document.querySelector("body")),S(Dt,"viewport",new cr),S(Dt,"time",0),S(Dt,"scroll",new ur),S(Dt,"pages",new Rr),S(Dt,"dom",new hr),S(Dt,"gl",new O),S(Dt,"isMobile",wn()),Dt.initEvents(),gt.ticker.add(t=>Dt.render(t));var H=Dt,Be=class{static add(t,e=Symbol()){return this.sub.push({id:e,fn:t}),this.remove(e)}static remove(t){this.sub=this.sub.filter(e=>e.id!==t)}static resize(){this.sub.forEach(t=>t.fn())}};S(Be,"body",document.querySelector("body")),S(Be,"sub",[]);var bn=class{static add(t,e=Symbol()){return this.sub.push({id:e,fn:t}),this.remove(e)}static remove(t){this.sub=this.sub.filter(e=>e.id!==t)}static render(t){this.sub.forEach(e=>e.fn(t))}};S(bn,"sub",[]);})();
/*! Bundled license information:

gsap/gsap-core.js:
  (*!
   * GSAP 3.12.7
   * https://gsap.com
   *
   * @license Copyright 2008-2025, GreenSock. All rights reserved.
   * Subject to the terms at https://gsap.com/standard-license or for
   * Club GSAP members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

gsap/CSSPlugin.js:
  (*!
   * CSSPlugin 3.12.7
   * https://gsap.com
   *
   * Copyright 2008-2025, GreenSock. All rights reserved.
   * Subject to the terms at https://gsap.com/standard-license or for
   * Club GSAP members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

lil-gui/dist/lil-gui.esm.js:
  (**
   * lil-gui
   * https://lil-gui.georgealways.com
   * @version 0.20.0
   * @author George Michael Brower
   * @license MIT
   *)
*/
